{
    "zabbix_export": {
        "version": "7.0",
        "template_groups": [
            {
                "uuid": "c2c162144c2d4c5491c8801193af4945",
                "name": "Templates/Cloud"
            }
        ],
        "templates": [
            {
                "uuid": "8afa1796d280425b99c7ea36900dac24",
                "template": "Oracle Cloud Block Volume by HTTP",
                "name": "Oracle Cloud Block Volume by HTTP",
                "description": "This template monitors Oracle Cloud Infrastructure (OCI) block volume resources.\n\nThis template is not meant to be used independently, but together with Oracle Cloud by HTTP as a template for\nLLD host prototypes.\n\nRead the template documentation prior to using this template.\n\nYou can discuss this template or leave feedback on our forum https://www.zabbix.com/forum/zabbix-suggestions-and-feedback\n\nGenerated by official Zabbix template tool \"Templator\"",
                "vendor": {
                    "name": "Zabbix",
                    "version": "7.0-0"
                },
                "groups": [
                    {
                        "name": "Templates/Cloud"
                    }
                ],
                "items": [
                    {
                        "uuid": "dc2887a2b954406db8588c0ead37411f",
                        "name": "Volume guaranteed IOPS",
                        "type": "DEPENDENT",
                        "key": "oci.block.volume.iops",
                        "delay": "0",
                        "history": "7d",
                        "value_type": "FLOAT",
                        "units": "!IOPS",
                        "description": "Rate of change for guaranteed IOPS per SLA. Expressed as the average of guaranteed IOPS during a given time interval.",
                        "preprocessing": [
                            {
                                "type": "JSONPATH",
                                "parameters": [
                                    "$.VolumeGuaranteedIOPS"
                                ]
                            },
                            {
                                "type": "DISCARD_UNCHANGED_HEARTBEAT",
                                "parameters": [
                                    "1h"
                                ]
                            }
                        ],
                        "master_item": {
                            "key": "oci.block.volume.metrics.get"
                        },
                        "tags": [
                            {
                                "tag": "component",
                                "value": "storage"
                            }
                        ]
                    },
                    {
                        "uuid": "5c1d0fd1686e4c74b33dbe12956d7b7c",
                        "name": "Get metrics",
                        "type": "SCRIPT",
                        "key": "oci.block.volume.metrics.get",
                        "history": "0",
                        "value_type": "TEXT",
                        "trends": "0",
                        "params": "function validateZabbixParams(requiredParams, allParams) {\n\trequiredParams.forEach(function (field) {\n\t\tif (typeof allParams !== 'object' || typeof allParams[field] === 'undefined' || allParams[field] === '') {\n\t\t\tthrow 'Required param is not set: ' + field + '.';\n\t\t}\n\t});\n}\n\nfunction OCI(service, action, params) {\n\tthis.zabbixLogPrefix = '[ OCI ] [ ' + service + ' ] [ ' + action + ' ]';\n\tthis.request = new HttpRequest();\n\n\tthis.hash = function (string) {\n\t\treturn sha256(string);\n\t};\n\n\tthis.sign = function (string) {\n\t\treturn sign('sha256', params['private_key'], string);\n\t};\n\n\tthis.encode = function (hash) {\n\t\tconst hexArr = hash.match(/.{1,2}/g);\n\t\tvar uInt8Array = new Uint8Array(hexArr.length);\n\t\thexArr.forEach(function (hex, idx) {\n\t\t\tuInt8Array[idx] = parseInt(hex, 16);\n\t\t});\n\t\treturn btoa(uInt8Array);\n\t};\n\n\tthis.getDate = function () {\n\t\tconst weekdayShortList = ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'];\n\t\tconst monthShortList = ['jan', 'feb', 'mar', 'apr', 'may', 'jun', 'jul', 'aug', 'sep', 'oct', 'nov', 'dec'];\n\t\tconst today = new Date();\n\t\treturn weekdayShortList[today.getUTCDay()] + ', ' + today.getUTCDate() + ' ' + monthShortList[today.getUTCMonth()] + ' ' + today.getUTCFullYear() + ' ' + today.getUTCHours() + ':' + today.getUTCMinutes() + ':' + today.getUTCSeconds() + ' GMT';\n\t};\n\n\tthis.executeRequest = function (httpMethod, apiPath, apiParams, mql, namespace) {\n\t\tvar headers = '(request-target) date host';\n\t\tconst contentTypeHeader = 'content-type: application/json';\n\t\tconst dateHeader = 'date: ' + this.getDate();\n\t\tconst hostHeader = 'host: ' + params['api_host'];\n\t\tconst requestTarget = '(request-target): ' + httpMethod + ' ' + apiPath + apiParams;\n\t\tvar signingString = requestTarget + '\\n' + dateHeader + '\\n' + hostHeader;\n\t\tvar reqHeaders = [contentTypeHeader, dateHeader];\n\n\t\tif (httpMethod === 'post') {\n\t\t\tvar body = JSON.stringify({\n\t\t\t\t'namespace': namespace,\n\t\t\t\t'query': mql\n\t\t\t});\n\t\t\theaders = headers + ' x-content-sha256 content-type content-length';\n\t\t\tconst bodyHeader = 'x-content-sha256: ' + this.encode(this.hash(body));\n\t\t\tconst bodyLengthHeader = 'content-length: ' + body.length;\n\t\t\tsigningString = signingString + '\\n' + bodyHeader + '\\n' + contentTypeHeader + '\\n' + bodyLengthHeader;\n\t\t\treqHeaders.push(bodyHeader, bodyLengthHeader);\n\t\t}\n\n\t\tconst signature = this.encode(this.sign(signingString));\n\n\t\treqHeaders.push('Authorization: Signature version=\"1\",keyId=\"' + params['tenancy_ocid'] + '/' + params['user_ocid'] + '/' + params['fingerprint'] + '\",algorithm=\"rsa-sha256\",headers=\"' + headers + '\",signature=\"' + signature + '\"');\n\t\tfor (var header = 0, headerLength = reqHeaders.length; header < headerLength; header++) {\n\t\t\tthis.request.addHeader(reqHeaders[header]);\n\t\t}\n\n\t\tif (params['http_proxy']) {\n\t\t\tthis.request.setProxy(params['http_proxy']);\n\t\t\tZabbix.log(4, this.zabbixLogPrefix + ' Using http proxy: ' + params['http_proxy']);\n\t\t}\n\n\t\tif (httpMethod === 'post') {\n\t\t\tvar apiRateLimitExceeded = false;\n\t\t\tdo {\n\t\t\t\tconst response = this.request.post('https://' + params['api_host'] + apiPath + apiParams, body);\n\n\t\t\t\ttry {\n\t\t\t\t\tif (JSON.parse(response)['code'] === 'TooManyRequests') {\n\n\t\t\t\t\t\tapiRateLimitExceeded = true;\n\t\t\t\t\t\tZabbix.sleep(1000);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tapiRateLimitExceeded = false;\n\t\t\t\t\t}\n\t\t\t\t} catch (error) {\n\t\t\t\t\tZabbix.log(3, this.zabbixLogPrefix + ' Could not parse the response: ' + JSON.stringify(response));\n\t\t\t\t\tthrow 'Could not parse the response. See logs for more information.';\n\t\t\t\t}\n\t\t\t} while (apiRateLimitExceeded);\n\t\t} else {\n\t\t\tconst response = this.request.get('https://' + params['api_host'] + apiPath + apiParams);\n\t\t}\n\n\t\tthis.request.clearHeader();\n\n\t\tif (this.request.getStatus() === parseInt(params['http_status_code'])) {\n\t\t\treturn response;\n\t\t} else {\n\t\t\tZabbix.log(3, this.zabbixLogPrefix + ' Unexpected HTTP response code: ' + this.request.getStatus());\n\t\t\tthrow 'Unexpected HTTP response code: ' + this.request.getStatus();\n\t\t}\n\t};\n\n\tthis.extractData = function (httpMethod, data, keys) {\n\t\ttry {\n\t\t\tdata = JSON.parse(data);\n\t\t} catch (error) {\n\t\t\tZabbix.log(3, this.zabbixLogPrefix + ' Could not parse the received JSON object: ' + data);\n\t\t\tthrow 'Could not parse received JSON object. See logs for more information.';\n\t\t}\n\n\t\tif (typeof keys == 'object') {\n\t\t\tvar returnBuffer = [];\n\t\t\tfor (var dataObj = 0, dataLength = data.length; dataObj < dataLength; dataObj++) {\n\n\t\t\t\tvar objectBuffer = {};\n\t\t\t\tfor (var key = 0, keysLength = keys.length; key < keysLength; key++) {\n\t\t\t\t\tif (data[dataObj][keys[key]] || data[dataObj][keys[key]] == null) {\n\t\t\t\t\t\tobjectBuffer[keys[key].match(/^[a-z]+$|[A-Z][a-z]+$/)[0].toLowerCase()] = data[dataObj][keys[key]];\n\t\t\t\t\t} else {\n\t\t\t\t\t\tZabbix.log(3, this.zabbixLogPrefix + ' Received an unexpected JSON object. Could not get value for key \"' + keys[key] + '\" in JSON: ' + JSON.stringify(data[dataObj]));\n\t\t\t\t\t\tthrow 'Received an unexpected JSON object. See logs for more information.';\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\treturnBuffer.push(objectBuffer);\n\t\t\t}\n\t\t\treturn returnBuffer;\n\t\t}\n\n\t\ttry {\n\t\t\tif (httpMethod === 'get') {\n\t\t\t\treturn data[keys];\n\t\t\t} else {\n\t\t\t\tif (data.length === 0) {\n\t\t\t\t\treturn 0;\n\t\t\t\t}\n\t\t\t\tdata = data[0][keys];\n\t\t\t\treturn data[data.length - 1]['value'];\n\t\t\t}\n\t\t} catch (error) {\n\t\t\tZabbix.log(3, this.zabbixLogPrefix + ' Could not find key \"' + keys + '\" in JSON: ' + JSON.stringify(data));\n\t\t\tthrow 'Could not find required key in JSON object. See logs for more information.';\n\t\t}\n\t};\n}\n\nfunction buildMql(id, metrics, defaultStatistic, resourceType) {\n\tresourceType = resourceType === '' || resourceType === undefined ? 'resourceId' : resourceType;\n\tthis.query = '[' + params['req_interval'] + 'm]{' + resourceType + '=' + id + '}.';\n\n\tfor (var i = 0, metricsLength = metrics.length; i < metricsLength; i++) {\n\t\tconst metric = ((Array.isArray(metrics[i]) ? metrics[i] : [metrics[i], defaultStatistic]));\n\t\tmetrics[i] = [metric[0], this.query + metric[1]];\n\t}\n}\n\n\nconst params = JSON.parse(value);\nvalidateZabbixParams(['tenancy_ocid', 'user_ocid', 'private_key', 'fingerprint', 'api_host', 'volume_id', 'http_status_code', 'req_interval'], params);\nvar oci = new OCI('Block volume', 'Get metrics', params);\n\nconst metrics = [\n\t'VolumeReadThroughput',\n\t'VolumeWriteThroughput',\n\t'VolumeReadOps',\n\t'VolumeWriteOps',\n\t['VolumeThrottledIOs', 'sum'],\n\t'VolumeGuaranteedVPUsPerGB',\n\t'VolumeGuaranteedIOPS',\n\t'VolumeGuaranteedThroughput'\n];\nbuildMql(params['volume_id'], metrics, 'mean');\n\nvar result = {};\nfor (var i = 0, metricsLength = metrics.length; i < metricsLength; i++) {\n\tresult[metrics[i][0]] = oci.extractData('post', oci.executeRequest('post', '/20180401/metrics/actions/summarizeMetricsData', '?compartmentId=' + encodeURIComponent(params['tenancy_ocid']), metrics[i][0] + metrics[i][1] + '()', 'oci_blockstore'), 'aggregatedDatapoints');\n}\nreturn JSON.stringify(result);",
                        "description": "Gets block volume metrics.",
                        "timeout": "30s",
                        "parameters": [
                            {
                                "name": "api_host",
                                "value": "{$OCI.API.TELEMETRY.HOST}"
                            },
                            {
                                "name": "fingerprint",
                                "value": "{$OCI.API.FINGERPRINT}"
                            },
                            {
                                "name": "http_proxy",
                                "value": "{$OCI.HTTP.PROXY}"
                            },
                            {
                                "name": "http_status_code",
                                "value": "{$OCI.HTTP.RETURN.CODE.OK}"
                            },
                            {
                                "name": "private_key",
                                "value": "{$OCI.API.PRIVATE.KEY}"
                            },
                            {
                                "name": "req_interval",
                                "value": "1"
                            },
                            {
                                "name": "tenancy_ocid",
                                "value": "{$OCI.API.TENANCY}"
                            },
                            {
                                "name": "user_ocid",
                                "value": "{$OCI.API.USER}"
                            },
                            {
                                "name": "volume_id",
                                "value": "{$OCI.VOLUME.BLOCK.ID}"
                            }
                        ],
                        "tags": [
                            {
                                "tag": "component",
                                "value": "raw"
                            }
                        ]
                    },
                    {
                        "uuid": "680f9e8c96d34c099533adc99c33a48f",
                        "name": "Volume read throughput",
                        "type": "DEPENDENT",
                        "key": "oci.block.volume.read",
                        "delay": "0",
                        "history": "7d",
                        "value_type": "FLOAT",
                        "units": "Bps",
                        "description": "Read throughput. Expressed as bytes read per interval.",
                        "preprocessing": [
                            {
                                "type": "JSONPATH",
                                "parameters": [
                                    "$.VolumeReadThroughput"
                                ]
                            },
                            {
                                "type": "DISCARD_UNCHANGED_HEARTBEAT",
                                "parameters": [
                                    "1h"
                                ]
                            }
                        ],
                        "master_item": {
                            "key": "oci.block.volume.metrics.get"
                        },
                        "tags": [
                            {
                                "tag": "component",
                                "value": "storage"
                            }
                        ]
                    },
                    {
                        "uuid": "6b8060ce122142968e73da9a3e0813a1",
                        "name": "Volume read operations",
                        "type": "DEPENDENT",
                        "key": "oci.block.volume.read.ops",
                        "delay": "0",
                        "history": "7d",
                        "value_type": "FLOAT",
                        "units": "!reads",
                        "description": "Activity level from I/O reads. Expressed as reads per interval.",
                        "preprocessing": [
                            {
                                "type": "JSONPATH",
                                "parameters": [
                                    "$.VolumeReadOps"
                                ]
                            },
                            {
                                "type": "DISCARD_UNCHANGED_HEARTBEAT",
                                "parameters": [
                                    "1h"
                                ]
                            }
                        ],
                        "master_item": {
                            "key": "oci.block.volume.metrics.get"
                        },
                        "tags": [
                            {
                                "tag": "component",
                                "value": "storage"
                            }
                        ]
                    },
                    {
                        "uuid": "4fdab3067ada41219c8208862e7c8b14",
                        "name": "State",
                        "type": "SCRIPT",
                        "key": "oci.block.volume.state",
                        "history": "7d",
                        "params": "function validateZabbixParams(requiredParams, allParams) {\n\trequiredParams.forEach(function (field) {\n\t\tif (typeof allParams !== 'object' || typeof allParams[field] === 'undefined' || allParams[field] === '') {\n\t\t\tthrow 'Required param is not set: ' + field + '.';\n\t\t}\n\t});\n}\n\nfunction OCI(service, action, params) {\n\tthis.zabbixLogPrefix = '[ OCI ] [ ' + service + ' ] [ ' + action + ' ]';\n\tthis.request = new HttpRequest();\n\n\tthis.hash = function (string) {\n\t\treturn sha256(string);\n\t};\n\n\tthis.sign = function (string) {\n\t\treturn sign('sha256', params['private_key'], string);\n\t};\n\n\tthis.encode = function (hash) {\n\t\tconst hexArr = hash.match(/.{1,2}/g);\n\t\tvar uInt8Array = new Uint8Array(hexArr.length);\n\t\thexArr.forEach(function (hex, idx) {\n\t\t\tuInt8Array[idx] = parseInt(hex, 16);\n\t\t});\n\t\treturn btoa(uInt8Array);\n\t};\n\n\tthis.getDate = function () {\n\t\tconst weekdayShortList = ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'];\n\t\tconst monthShortList = ['jan', 'feb', 'mar', 'apr', 'may', 'jun', 'jul', 'aug', 'sep', 'oct', 'nov', 'dec'];\n\t\tconst today = new Date();\n\t\treturn weekdayShortList[today.getUTCDay()] + ', ' + today.getUTCDate() + ' ' + monthShortList[today.getUTCMonth()] + ' ' + today.getUTCFullYear() + ' ' + today.getUTCHours() + ':' + today.getUTCMinutes() + ':' + today.getUTCSeconds() + ' GMT';\n\t};\n\n\tthis.executeRequest = function (httpMethod, apiPath, apiParams, mql, namespace) {\n\t\tvar headers = '(request-target) date host';\n\t\tconst contentTypeHeader = 'content-type: application/json';\n\t\tconst dateHeader = 'date: ' + this.getDate();\n\t\tconst hostHeader = 'host: ' + params['api_host'];\n\t\tconst requestTarget = '(request-target): ' + httpMethod + ' ' + apiPath + apiParams;\n\t\tvar signingString = requestTarget + '\\n' + dateHeader + '\\n' + hostHeader;\n\t\tvar reqHeaders = [contentTypeHeader, dateHeader];\n\n\t\tif (httpMethod === 'post') {\n\t\t\tvar body = JSON.stringify({\n\t\t\t\t'namespace': namespace,\n\t\t\t\t'query': mql\n\t\t\t});\n\t\t\theaders = headers + ' x-content-sha256 content-type content-length';\n\t\t\tconst bodyHeader = 'x-content-sha256: ' + this.encode(this.hash(body));\n\t\t\tconst bodyLengthHeader = 'content-length: ' + body.length;\n\t\t\tsigningString = signingString + '\\n' + bodyHeader + '\\n' + contentTypeHeader + '\\n' + bodyLengthHeader;\n\t\t\treqHeaders.push(bodyHeader, bodyLengthHeader);\n\t\t}\n\n\t\tconst signature = this.encode(this.sign(signingString));\n\n\t\treqHeaders.push('Authorization: Signature version=\"1\",keyId=\"' + params['tenancy_ocid'] + '/' + params['user_ocid'] + '/' + params['fingerprint'] + '\",algorithm=\"rsa-sha256\",headers=\"' + headers + '\",signature=\"' + signature + '\"');\n\t\tfor (var header = 0, headerLength = reqHeaders.length; header < headerLength; header++) {\n\t\t\tthis.request.addHeader(reqHeaders[header]);\n\t\t}\n\n\t\tif (params['http_proxy']) {\n\t\t\tthis.request.setProxy(params['http_proxy']);\n\t\t\tZabbix.log(4, this.zabbixLogPrefix + ' Using http proxy: ' + params['http_proxy']);\n\t\t}\n\n\t\tif (httpMethod === 'post') {\n\t\t\tvar apiRateLimitExceeded = false;\n\t\t\tdo {\n\t\t\t\tconst response = this.request.post('https://' + params['api_host'] + apiPath + apiParams, body);\n\n\t\t\t\ttry {\n\t\t\t\t\tif (JSON.parse(response)['code'] === 'TooManyRequests') {\n\n\t\t\t\t\t\tapiRateLimitExceeded = true;\n\t\t\t\t\t\tZabbix.sleep(1000);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tapiRateLimitExceeded = false;\n\t\t\t\t\t}\n\t\t\t\t} catch (error) {\n\t\t\t\t\tZabbix.log(3, this.zabbixLogPrefix + ' Could not parse the response: ' + JSON.stringify(response));\n\t\t\t\t\tthrow 'Could not parse the response. See logs for more information.';\n\t\t\t\t}\n\t\t\t} while (apiRateLimitExceeded);\n\t\t} else {\n\t\t\tconst response = this.request.get('https://' + params['api_host'] + apiPath + apiParams);\n\t\t}\n\n\t\tthis.request.clearHeader();\n\n\t\tif (this.request.getStatus() === parseInt(params['http_status_code'])) {\n\t\t\treturn response;\n\t\t} else {\n\t\t\tZabbix.log(3, this.zabbixLogPrefix + ' Unexpected HTTP response code: ' + this.request.getStatus());\n\t\t\tthrow 'Unexpected HTTP response code: ' + this.request.getStatus();\n\t\t}\n\t};\n\n\tthis.extractData = function (httpMethod, data, keys) {\n\t\ttry {\n\t\t\tdata = JSON.parse(data);\n\t\t} catch (error) {\n\t\t\tZabbix.log(3, this.zabbixLogPrefix + ' Could not parse the received JSON object: ' + data);\n\t\t\tthrow 'Could not parse received JSON object. See logs for more information.';\n\t\t}\n\n\t\tif (typeof keys == 'object') {\n\t\t\tvar returnBuffer = [];\n\t\t\tfor (var dataObj = 0, dataLength = data.length; dataObj < dataLength; dataObj++) {\n\n\t\t\t\tvar objectBuffer = {};\n\t\t\t\tfor (var key = 0, keysLength = keys.length; key < keysLength; key++) {\n\t\t\t\t\tif (data[dataObj][keys[key]] || data[dataObj][keys[key]] == null) {\n\t\t\t\t\t\tobjectBuffer[keys[key].match(/^[a-z]+$|[A-Z][a-z]+$/)[0].toLowerCase()] = data[dataObj][keys[key]];\n\t\t\t\t\t} else {\n\t\t\t\t\t\tZabbix.log(3, this.zabbixLogPrefix + ' Received an unexpected JSON object. Could not get value for key \"' + keys[key] + '\" in JSON: ' + JSON.stringify(data[dataObj]));\n\t\t\t\t\t\tthrow 'Received an unexpected JSON object. See logs for more information.';\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\treturnBuffer.push(objectBuffer);\n\t\t\t}\n\t\t\treturn returnBuffer;\n\t\t}\n\n\t\ttry {\n\t\t\tif (httpMethod === 'get') {\n\t\t\t\treturn data[keys];\n\t\t\t} else {\n\t\t\t\tif (data.length === 0) {\n\t\t\t\t\treturn 0;\n\t\t\t\t}\n\t\t\t\tdata = data[0][keys];\n\t\t\t\treturn data[data.length - 1]['value'];\n\t\t\t}\n\t\t} catch (error) {\n\t\t\tZabbix.log(3, this.zabbixLogPrefix + ' Could not find key \"' + keys + '\" in JSON: ' + JSON.stringify(data));\n\t\t\tthrow 'Could not find required key in JSON object. See logs for more information.';\n\t\t}\n\t};\n}\n\n\nconst params = JSON.parse(value);\nvalidateZabbixParams(['tenancy_ocid', 'user_ocid', 'private_key', 'fingerprint', 'api_host', 'volume_id', 'http_status_code'], params);\nvar oci = new OCI('Block volume', 'Get volume state', params);\n\nreturn oci.extractData('get', oci.executeRequest('get', '/20160918/volumes/' + encodeURIComponent(params['volume_id']), '?compartmentId=' + encodeURIComponent(params['tenancy_ocid'])), 'lifecycleState');",
                        "description": "Gets the block volume state.",
                        "valuemap": {
                            "name": "Block volume state"
                        },
                        "preprocessing": [
                            {
                                "type": "JAVASCRIPT",
                                "parameters": [
                                    "const idx = {\n\t'PROVISIONING': 1,\n\t'RESTORING': 2,\n\t'AVAILABLE': 3,\n\t'TERMINATING': 4,\n\t'TERMINATED': 5,\n\t'FAULTY': 6\n};\n\nreturn typeof idx[value] === 'undefined' ? 0 : idx[value];"
                                ]
                            },
                            {
                                "type": "DISCARD_UNCHANGED_HEARTBEAT",
                                "parameters": [
                                    "1h"
                                ]
                            }
                        ],
                        "timeout": "10s",
                        "parameters": [
                            {
                                "name": "api_host",
                                "value": "{$OCI.API.CORE.HOST}"
                            },
                            {
                                "name": "fingerprint",
                                "value": "{$OCI.API.FINGERPRINT}"
                            },
                            {
                                "name": "http_proxy",
                                "value": "{$OCI.HTTP.PROXY}"
                            },
                            {
                                "name": "http_status_code",
                                "value": "{$OCI.HTTP.RETURN.CODE.OK}"
                            },
                            {
                                "name": "private_key",
                                "value": "{$OCI.API.PRIVATE.KEY}"
                            },
                            {
                                "name": "tenancy_ocid",
                                "value": "{$OCI.API.TENANCY}"
                            },
                            {
                                "name": "user_ocid",
                                "value": "{$OCI.API.USER}"
                            },
                            {
                                "name": "volume_id",
                                "value": "{$OCI.VOLUME.BLOCK.ID}"
                            }
                        ],
                        "tags": [
                            {
                                "tag": "component",
                                "value": "storage"
                            }
                        ],
                        "triggers": [
                            {
                                "uuid": "4ea859d86e29455aa4bdd2f3667894f6",
                                "expression": "min(/Oracle Cloud Block Volume by HTTP/oci.block.volume.state,5m) = 0",
                                "name": "Block volume state unknown",
                                "priority": "WARNING",
                                "description": "Block volume state is unknown.",
                                "dependencies": [
                                    {
                                        "name": "Block volume terminated or faulty",
                                        "expression": "min(/Oracle Cloud Block Volume by HTTP/oci.block.volume.state,5m) >= 4"
                                    }
                                ],
                                "tags": [
                                    {
                                        "tag": "scope",
                                        "value": "availability"
                                    }
                                ]
                            },
                            {
                                "uuid": "b8d9491d762f40c58fb1094fa0468d9e",
                                "expression": "min(/Oracle Cloud Block Volume by HTTP/oci.block.volume.state,5m) >= 4",
                                "name": "Block volume terminated or faulty",
                                "priority": "HIGH",
                                "description": "Block volume state is \"terminated\"/\"terminating\" or \"faulty\".",
                                "tags": [
                                    {
                                        "tag": "scope",
                                        "value": "availability"
                                    }
                                ]
                            }
                        ]
                    },
                    {
                        "uuid": "cc9ef37437b04a40a4b48a9f21e36ff1",
                        "name": "Volume throttled operations",
                        "type": "DEPENDENT",
                        "key": "oci.block.volume.throttled.ops",
                        "delay": "0",
                        "history": "7d",
                        "description": "Total sum of all the I/O operations that were throttled during a given time interval.",
                        "preprocessing": [
                            {
                                "type": "JSONPATH",
                                "parameters": [
                                    "$.VolumeThrottledIOs"
                                ]
                            },
                            {
                                "type": "DISCARD_UNCHANGED_HEARTBEAT",
                                "parameters": [
                                    "1h"
                                ]
                            }
                        ],
                        "master_item": {
                            "key": "oci.block.volume.metrics.get"
                        },
                        "tags": [
                            {
                                "tag": "component",
                                "value": "storage"
                            }
                        ]
                    },
                    {
                        "uuid": "d1b199adc996404db814ba7568b054df",
                        "name": "Volume guaranteed throughput",
                        "type": "DEPENDENT",
                        "key": "oci.block.volume.throughput",
                        "delay": "0",
                        "history": "7d",
                        "value_type": "FLOAT",
                        "units": "Bps",
                        "description": "Rate of change for guaranteed throughput per SLA. Expressed as megabytes per interval.",
                        "preprocessing": [
                            {
                                "type": "JSONPATH",
                                "parameters": [
                                    "$.VolumeGuaranteedThroughput"
                                ]
                            },
                            {
                                "type": "MULTIPLIER",
                                "parameters": [
                                    "1048576"
                                ]
                            },
                            {
                                "type": "DISCARD_UNCHANGED_HEARTBEAT",
                                "parameters": [
                                    "1h"
                                ]
                            }
                        ],
                        "master_item": {
                            "key": "oci.block.volume.metrics.get"
                        },
                        "tags": [
                            {
                                "tag": "component",
                                "value": "storage"
                            }
                        ]
                    },
                    {
                        "uuid": "607f3c4a8197473bb1872e4ed45edd26",
                        "name": "Volume guaranteed VPUs/GB",
                        "type": "DEPENDENT",
                        "key": "oci.block.volume.vpu",
                        "delay": "0",
                        "history": "7d",
                        "value_type": "FLOAT",
                        "units": "!VPUs",
                        "description": "Rate of change for currently active VPUs/GB. Expressed as the average of active VPUs/GB during a given time interval.",
                        "preprocessing": [
                            {
                                "type": "JSONPATH",
                                "parameters": [
                                    "$.VolumeGuaranteedVPUsPerGB"
                                ]
                            },
                            {
                                "type": "DISCARD_UNCHANGED_HEARTBEAT",
                                "parameters": [
                                    "1h"
                                ]
                            }
                        ],
                        "master_item": {
                            "key": "oci.block.volume.metrics.get"
                        },
                        "tags": [
                            {
                                "tag": "component",
                                "value": "storage"
                            }
                        ]
                    },
                    {
                        "uuid": "9ec2ce2d21154028a5623b5d0ac9c082",
                        "name": "Volume write throughput",
                        "type": "DEPENDENT",
                        "key": "oci.block.volume.write",
                        "delay": "0",
                        "history": "7d",
                        "value_type": "FLOAT",
                        "units": "Bps",
                        "description": "Write throughput. Expressed as bytes read per interval.",
                        "preprocessing": [
                            {
                                "type": "JSONPATH",
                                "parameters": [
                                    "$.VolumeWriteThroughput"
                                ]
                            },
                            {
                                "type": "DISCARD_UNCHANGED_HEARTBEAT",
                                "parameters": [
                                    "1h"
                                ]
                            }
                        ],
                        "master_item": {
                            "key": "oci.block.volume.metrics.get"
                        },
                        "tags": [
                            {
                                "tag": "component",
                                "value": "storage"
                            }
                        ]
                    },
                    {
                        "uuid": "e55fee2db439493992a80e39ca647e9a",
                        "name": "Volume write operations",
                        "type": "DEPENDENT",
                        "key": "oci.block.volume.write.ops",
                        "delay": "0",
                        "history": "7d",
                        "value_type": "FLOAT",
                        "units": "!writes",
                        "description": "Activity level from I/O writes. Expressed as writes per interval.",
                        "preprocessing": [
                            {
                                "type": "JSONPATH",
                                "parameters": [
                                    "$.VolumeWriteOps"
                                ]
                            },
                            {
                                "type": "DISCARD_UNCHANGED_HEARTBEAT",
                                "parameters": [
                                    "1h"
                                ]
                            }
                        ],
                        "master_item": {
                            "key": "oci.block.volume.metrics.get"
                        },
                        "tags": [
                            {
                                "tag": "component",
                                "value": "storage"
                            }
                        ]
                    }
                ],
                "tags": [
                    {
                        "tag": "class",
                        "value": "cloud"
                    },
                    {
                        "tag": "target",
                        "value": "oci"
                    },
                    {
                        "tag": "target",
                        "value": "oracle-cloud-infrastructure"
                    }
                ],
                "macros": [
                    {
                        "macro": "{$OCI.HTTP.PROXY}",
                        "description": "Set an HTTP proxy for OCI API requests if needed."
                    },
                    {
                        "macro": "{$OCI.HTTP.RETURN.CODE.OK}",
                        "value": "200",
                        "description": "Set the HTTP return code that represents an OK response from the API. The default is \"200\",  but can vary, for example, if a proxy is used."
                    }
                ],
                "dashboards": [
                    {
                        "uuid": "f87041e2902c4286a648b0f53daee03f",
                        "name": "OCI Block Volume: Overview",
                        "pages": [
                            {
                                "name": "Overview",
                                "display_period": "30",
                                "widgets": [
                                    {
                                        "type": "item",
                                        "name": "Availability",
                                        "width": "27",
                                        "height": "3",
                                        "hide_header": "YES",
                                        "fields": [
                                            {
                                                "type": "STRING",
                                                "name": "bg_color",
                                                "value": "6C00D9"
                                            },
                                            {
                                                "type": "ITEM",
                                                "name": "itemid.0",
                                                "value": {
                                                    "host": "Oracle Cloud Block Volume by HTTP",
                                                    "key": "oci.block.volume.state"
                                                }
                                            },
                                            {
                                                "type": "INTEGER",
                                                "name": "show.0",
                                                "value": "2"
                                            },
                                            {
                                                "type": "INTEGER",
                                                "name": "units_show",
                                                "value": "0"
                                            },
                                            {
                                                "type": "STRING",
                                                "name": "value_color",
                                                "value": "FFFFFF"
                                            }
                                        ]
                                    },
                                    {
                                        "type": "item",
                                        "name": "Volume read operations",
                                        "y": "3",
                                        "width": "18",
                                        "height": "3",
                                        "hide_header": "YES",
                                        "fields": [
                                            {
                                                "type": "STRING",
                                                "name": "bg_color",
                                                "value": "2196F3"
                                            },
                                            {
                                                "type": "INTEGER",
                                                "name": "decimal_size",
                                                "value": "45"
                                            },
                                            {
                                                "type": "STRING",
                                                "name": "description",
                                                "value": "Volume Read Operations"
                                            },
                                            {
                                                "type": "STRING",
                                                "name": "desc_color",
                                                "value": "FFFFFF"
                                            },
                                            {
                                                "type": "INTEGER",
                                                "name": "desc_v_pos",
                                                "value": "0"
                                            },
                                            {
                                                "type": "ITEM",
                                                "name": "itemid.0",
                                                "value": {
                                                    "host": "Oracle Cloud Block Volume by HTTP",
                                                    "key": "oci.block.volume.read.ops"
                                                }
                                            },
                                            {
                                                "type": "INTEGER",
                                                "name": "show.0",
                                                "value": "2"
                                            },
                                            {
                                                "type": "INTEGER",
                                                "name": "show.1",
                                                "value": "1"
                                            },
                                            {
                                                "type": "STRING",
                                                "name": "units_color",
                                                "value": "FFFFFF"
                                            },
                                            {
                                                "type": "INTEGER",
                                                "name": "units_size",
                                                "value": "25"
                                            },
                                            {
                                                "type": "STRING",
                                                "name": "value_color",
                                                "value": "FFFFFF"
                                            }
                                        ]
                                    },
                                    {
                                        "type": "graph",
                                        "name": "Operations",
                                        "y": "6",
                                        "width": "36",
                                        "height": "5",
                                        "fields": [
                                            {
                                                "type": "GRAPH",
                                                "name": "graphid.0",
                                                "value": {
                                                    "host": "Oracle Cloud Block Volume by HTTP",
                                                    "name": "OCI Block Volume: Operations"
                                                }
                                            },
                                            {
                                                "type": "STRING",
                                                "name": "reference",
                                                "value": "AAAAA"
                                            }
                                        ]
                                    },
                                    {
                                        "type": "item",
                                        "name": "Volume write operations",
                                        "x": "18",
                                        "y": "3",
                                        "width": "18",
                                        "height": "3",
                                        "hide_header": "YES",
                                        "fields": [
                                            {
                                                "type": "STRING",
                                                "name": "bg_color",
                                                "value": "2196F3"
                                            },
                                            {
                                                "type": "INTEGER",
                                                "name": "decimal_size",
                                                "value": "45"
                                            },
                                            {
                                                "type": "STRING",
                                                "name": "description",
                                                "value": "Volume Write Operations"
                                            },
                                            {
                                                "type": "STRING",
                                                "name": "desc_color",
                                                "value": "FFFFFF"
                                            },
                                            {
                                                "type": "INTEGER",
                                                "name": "desc_v_pos",
                                                "value": "0"
                                            },
                                            {
                                                "type": "ITEM",
                                                "name": "itemid.0",
                                                "value": {
                                                    "host": "Oracle Cloud Block Volume by HTTP",
                                                    "key": "oci.block.volume.write.ops"
                                                }
                                            },
                                            {
                                                "type": "INTEGER",
                                                "name": "show.0",
                                                "value": "2"
                                            },
                                            {
                                                "type": "INTEGER",
                                                "name": "show.1",
                                                "value": "1"
                                            },
                                            {
                                                "type": "STRING",
                                                "name": "units_color",
                                                "value": "FFFFFF"
                                            },
                                            {
                                                "type": "INTEGER",
                                                "name": "units_size",
                                                "value": "25"
                                            },
                                            {
                                                "type": "STRING",
                                                "name": "value_color",
                                                "value": "FFFFFF"
                                            }
                                        ]
                                    },
                                    {
                                        "type": "item",
                                        "name": "Guaranteed IOPS",
                                        "x": "27",
                                        "width": "15",
                                        "height": "3",
                                        "hide_header": "YES",
                                        "fields": [
                                            {
                                                "type": "STRING",
                                                "name": "bg_color",
                                                "value": "00D936"
                                            },
                                            {
                                                "type": "INTEGER",
                                                "name": "decimal_places",
                                                "value": "0"
                                            },
                                            {
                                                "type": "STRING",
                                                "name": "description",
                                                "value": "Guaranteed IOPS"
                                            },
                                            {
                                                "type": "STRING",
                                                "name": "desc_color",
                                                "value": "FFFFFF"
                                            },
                                            {
                                                "type": "INTEGER",
                                                "name": "desc_v_pos",
                                                "value": "0"
                                            },
                                            {
                                                "type": "ITEM",
                                                "name": "itemid.0",
                                                "value": {
                                                    "host": "Oracle Cloud Block Volume by HTTP",
                                                    "key": "oci.block.volume.iops"
                                                }
                                            },
                                            {
                                                "type": "INTEGER",
                                                "name": "show.0",
                                                "value": "2"
                                            },
                                            {
                                                "type": "INTEGER",
                                                "name": "show.1",
                                                "value": "1"
                                            },
                                            {
                                                "type": "STRING",
                                                "name": "units_color",
                                                "value": "FFFFFF"
                                            },
                                            {
                                                "type": "INTEGER",
                                                "name": "units_size",
                                                "value": "25"
                                            },
                                            {
                                                "type": "STRING",
                                                "name": "value_color",
                                                "value": "FFFFFF"
                                            }
                                        ]
                                    },
                                    {
                                        "type": "item",
                                        "name": "Volume read throughput",
                                        "x": "36",
                                        "y": "3",
                                        "width": "18",
                                        "height": "3",
                                        "hide_header": "YES",
                                        "fields": [
                                            {
                                                "type": "STRING",
                                                "name": "bg_color",
                                                "value": "2196F3"
                                            },
                                            {
                                                "type": "INTEGER",
                                                "name": "decimal_size",
                                                "value": "45"
                                            },
                                            {
                                                "type": "STRING",
                                                "name": "description",
                                                "value": "Volume Read Throughput"
                                            },
                                            {
                                                "type": "STRING",
                                                "name": "desc_color",
                                                "value": "FFFFFF"
                                            },
                                            {
                                                "type": "INTEGER",
                                                "name": "desc_v_pos",
                                                "value": "0"
                                            },
                                            {
                                                "type": "ITEM",
                                                "name": "itemid.0",
                                                "value": {
                                                    "host": "Oracle Cloud Block Volume by HTTP",
                                                    "key": "oci.block.volume.read"
                                                }
                                            },
                                            {
                                                "type": "INTEGER",
                                                "name": "show.0",
                                                "value": "2"
                                            },
                                            {
                                                "type": "INTEGER",
                                                "name": "show.1",
                                                "value": "1"
                                            },
                                            {
                                                "type": "STRING",
                                                "name": "units_color",
                                                "value": "FFFFFF"
                                            },
                                            {
                                                "type": "INTEGER",
                                                "name": "units_size",
                                                "value": "25"
                                            },
                                            {
                                                "type": "STRING",
                                                "name": "value_color",
                                                "value": "FFFFFF"
                                            }
                                        ]
                                    },
                                    {
                                        "type": "graph",
                                        "name": "Throughput",
                                        "x": "36",
                                        "y": "6",
                                        "width": "36",
                                        "height": "5",
                                        "fields": [
                                            {
                                                "type": "GRAPH",
                                                "name": "graphid.0",
                                                "value": {
                                                    "host": "Oracle Cloud Block Volume by HTTP",
                                                    "name": "OCI Block Volume: Throughput"
                                                }
                                            },
                                            {
                                                "type": "STRING",
                                                "name": "reference",
                                                "value": "AAAAB"
                                            }
                                        ]
                                    },
                                    {
                                        "type": "item",
                                        "name": "Guaranteed throughput",
                                        "x": "42",
                                        "width": "15",
                                        "height": "3",
                                        "hide_header": "YES",
                                        "fields": [
                                            {
                                                "type": "STRING",
                                                "name": "bg_color",
                                                "value": "00D936"
                                            },
                                            {
                                                "type": "INTEGER",
                                                "name": "decimal_size",
                                                "value": "45"
                                            },
                                            {
                                                "type": "STRING",
                                                "name": "description",
                                                "value": "Guaranteed Throughput"
                                            },
                                            {
                                                "type": "STRING",
                                                "name": "desc_color",
                                                "value": "FFFFFF"
                                            },
                                            {
                                                "type": "INTEGER",
                                                "name": "desc_v_pos",
                                                "value": "0"
                                            },
                                            {
                                                "type": "ITEM",
                                                "name": "itemid.0",
                                                "value": {
                                                    "host": "Oracle Cloud Block Volume by HTTP",
                                                    "key": "oci.block.volume.throughput"
                                                }
                                            },
                                            {
                                                "type": "INTEGER",
                                                "name": "show.0",
                                                "value": "2"
                                            },
                                            {
                                                "type": "INTEGER",
                                                "name": "show.1",
                                                "value": "1"
                                            },
                                            {
                                                "type": "STRING",
                                                "name": "units_color",
                                                "value": "FFFFFF"
                                            },
                                            {
                                                "type": "INTEGER",
                                                "name": "units_size",
                                                "value": "25"
                                            },
                                            {
                                                "type": "STRING",
                                                "name": "value_color",
                                                "value": "FFFFFF"
                                            }
                                        ]
                                    },
                                    {
                                        "type": "item",
                                        "name": "Volume write throughput",
                                        "x": "54",
                                        "y": "3",
                                        "width": "18",
                                        "height": "3",
                                        "hide_header": "YES",
                                        "fields": [
                                            {
                                                "type": "STRING",
                                                "name": "bg_color",
                                                "value": "2196F3"
                                            },
                                            {
                                                "type": "INTEGER",
                                                "name": "decimal_size",
                                                "value": "45"
                                            },
                                            {
                                                "type": "STRING",
                                                "name": "description",
                                                "value": "Volume Write Throughput"
                                            },
                                            {
                                                "type": "STRING",
                                                "name": "desc_color",
                                                "value": "FFFFFF"
                                            },
                                            {
                                                "type": "INTEGER",
                                                "name": "desc_v_pos",
                                                "value": "0"
                                            },
                                            {
                                                "type": "ITEM",
                                                "name": "itemid.0",
                                                "value": {
                                                    "host": "Oracle Cloud Block Volume by HTTP",
                                                    "key": "oci.block.volume.write"
                                                }
                                            },
                                            {
                                                "type": "INTEGER",
                                                "name": "show.0",
                                                "value": "2"
                                            },
                                            {
                                                "type": "INTEGER",
                                                "name": "show.1",
                                                "value": "1"
                                            },
                                            {
                                                "type": "STRING",
                                                "name": "units_color",
                                                "value": "FFFFFF"
                                            },
                                            {
                                                "type": "INTEGER",
                                                "name": "units_size",
                                                "value": "25"
                                            },
                                            {
                                                "type": "STRING",
                                                "name": "value_color",
                                                "value": "FFFFFF"
                                            }
                                        ]
                                    },
                                    {
                                        "type": "item",
                                        "name": "Guaranteed VPUs/GB",
                                        "x": "57",
                                        "width": "15",
                                        "height": "3",
                                        "hide_header": "YES",
                                        "fields": [
                                            {
                                                "type": "STRING",
                                                "name": "bg_color",
                                                "value": "00D936"
                                            },
                                            {
                                                "type": "INTEGER",
                                                "name": "decimal_size",
                                                "value": "45"
                                            },
                                            {
                                                "type": "STRING",
                                                "name": "description",
                                                "value": "Guaranteed VPUs/GB"
                                            },
                                            {
                                                "type": "STRING",
                                                "name": "desc_color",
                                                "value": "FFFFFF"
                                            },
                                            {
                                                "type": "INTEGER",
                                                "name": "desc_v_pos",
                                                "value": "0"
                                            },
                                            {
                                                "type": "ITEM",
                                                "name": "itemid.0",
                                                "value": {
                                                    "host": "Oracle Cloud Block Volume by HTTP",
                                                    "key": "oci.block.volume.vpu"
                                                }
                                            },
                                            {
                                                "type": "INTEGER",
                                                "name": "show.0",
                                                "value": "2"
                                            },
                                            {
                                                "type": "INTEGER",
                                                "name": "show.1",
                                                "value": "1"
                                            },
                                            {
                                                "type": "STRING",
                                                "name": "units_color",
                                                "value": "FFFFFF"
                                            },
                                            {
                                                "type": "INTEGER",
                                                "name": "units_size",
                                                "value": "25"
                                            },
                                            {
                                                "type": "STRING",
                                                "name": "value_color",
                                                "value": "FFFFFF"
                                            }
                                        ]
                                    }
                                ]
                            }
                        ]
                    }
                ],
                "valuemaps": [
                    {
                        "uuid": "780a56fd95474839943cbd2f8be2fc18",
                        "name": "Block volume state",
                        "mappings": [
                            {
                                "value": "0",
                                "newvalue": "Unknown"
                            },
                            {
                                "value": "1",
                                "newvalue": "Provisioning"
                            },
                            {
                                "value": "2",
                                "newvalue": "Restoring"
                            },
                            {
                                "value": "3",
                                "newvalue": "Available"
                            },
                            {
                                "value": "4",
                                "newvalue": "Terminating"
                            },
                            {
                                "value": "5",
                                "newvalue": "Terminated"
                            },
                            {
                                "value": "6",
                                "newvalue": "Faulty"
                            }
                        ]
                    }
                ]
            }
        ],
        "graphs": [
            {
                "uuid": "68f6c72e67f947b29f879b89a205d59c",
                "name": "OCI Block Volume: Operations",
                "graph_items": [
                    {
                        "color": "199C0D",
                        "item": {
                            "host": "Oracle Cloud Block Volume by HTTP",
                            "key": "oci.block.volume.read.ops"
                        }
                    },
                    {
                        "sortorder": "1",
                        "color": "F63100",
                        "item": {
                            "host": "Oracle Cloud Block Volume by HTTP",
                            "key": "oci.block.volume.write.ops"
                        }
                    },
                    {
                        "sortorder": "2",
                        "color": "00611C",
                        "item": {
                            "host": "Oracle Cloud Block Volume by HTTP",
                            "key": "oci.block.volume.throttled.ops"
                        }
                    },
                    {
                        "sortorder": "3",
                        "color": "F7941D",
                        "yaxisside": "RIGHT",
                        "item": {
                            "host": "Oracle Cloud Block Volume by HTTP",
                            "key": "oci.block.volume.iops"
                        }
                    }
                ]
            },
            {
                "uuid": "16076dfa25244b5093e8985ca2e3f18c",
                "name": "OCI Block Volume: Throughput",
                "graph_items": [
                    {
                        "color": "199C0D",
                        "item": {
                            "host": "Oracle Cloud Block Volume by HTTP",
                            "key": "oci.block.volume.read"
                        }
                    },
                    {
                        "sortorder": "1",
                        "color": "F63100",
                        "item": {
                            "host": "Oracle Cloud Block Volume by HTTP",
                            "key": "oci.block.volume.write"
                        }
                    },
                    {
                        "sortorder": "2",
                        "color": "00611C",
                        "yaxisside": "RIGHT",
                        "item": {
                            "host": "Oracle Cloud Block Volume by HTTP",
                            "key": "oci.block.volume.throughput"
                        }
                    }
                ]
            },
            {
                "uuid": "6078da9c1eb249548536663e57e7743c",
                "name": "OCI Block Volume: VPUs/GB",
                "graph_items": [
                    {
                        "color": "199C0D",
                        "item": {
                            "host": "Oracle Cloud Block Volume by HTTP",
                            "key": "oci.block.volume.vpu"
                        }
                    }
                ]
            }
        ]
    }
}