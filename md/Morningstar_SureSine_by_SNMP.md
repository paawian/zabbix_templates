# Morningstar SureSine by SNMP template description

MIBs used:
SURESINE

Generated by official Zabbix template tool "Templator"

## Summary
* [items](#items)
* [macros](#macros)
* [triggers](#triggers)
* [discoveries](#discoveries)
  * [Discovery Battery voltage discovery ](#discovery_battery_voltage_discovery)

<a name="items"></a>

## Items
| name | description | key | type | delay |
| ------------- |------------- |------------- |------------- |------------- |
| Battery: Battery Voltage discovery | MIB: SURESINE | battery.voltage.discovery[batteryVoltageSlow.0] | SNMP_AGENT | 15m |
| Load: A/C Current | MIB: SURESINE<br>Description:AC Output Current<br>Scaling Factor:0.0001953125<br>Units:A<br>Range:[0.0, 17]<br>Modbus address:0x0005 | load.ac_current[acCurrent.0] | SNMP_AGENT | no delay |
| Load: State | MIB: SURESINE<br>Description:Load State<br>Modbus address:0x000B<br><br> 0: Start<br>1: LoadOn<br>2: LvdWarning<br>3: LowVoltageDisconnect<br>4: Fault<br>5: Disconnect<br>6: NormalOff<br>7: UnknownState<br>8: Standby | load.state[loadState.0] | SNMP_AGENT | no delay |
| Status: Alarms | MIB: SURESINE<br>Description:Faults<br>Modbus address:0x0007 | status.alarms[alarms.0] | SNMP_AGENT | no delay |
| Status: Faults | MIB: SURESINE<br>Description:Faults<br>Modbus address:0x0007 | status.faults[faults.0] | SNMP_AGENT | no delay |
| Status: Uptime (hardware) | The amount of time since this host was last initialized. Note that this is different from sysUpTime in the SNMPv2-MIB [RFC1907] because sysUpTime is the uptime of the network management portion of the system. | status.hw.uptime | SNMP_AGENT | no delay |
| Status: Uptime (network) | The time (in hundredths of a second) since the network management portion of the system was last re-initialized. | status.net.uptime | SNMP_AGENT | no delay |
| Temperature: Heatsink | MIB: SURESINE<br>Description:Heatsink Temperature<br>Scaling Factor:1<br>Units:C<br>Range:[-128, 127]<br>Modbus address:0x0006 | temp.heatsink[heatsinkTemperature.0] | SNMP_AGENT | no delay |


<a name="macros"></a>

## Macros
| macro | value |
| ------------- |------------- |
| {$BATTERY.TEMP.MAX.CRIT} | 60 |
| {$BATTERY.TEMP.MAX.WARN} | 45 |
| {$BATTERY.TEMP.MIN.CRIT} | -20 |
| {$BATTERY.TEMP.MIN.WARN} | 0 |
| {$CHARGE.STATE.CRIT} | 4 |
| {$CHARGE.STATE.WARN} | 2 |
| {$LOAD.STATE.CRIT:"fault"} | 4 |
| {$LOAD.STATE.CRIT:"lvd"} | 3 |
| {$LOAD.STATE.WARN:"disconnect"} | 5 |
| {$LOAD.STATE.WARN:"lvdWarning"} | 2 |
| {$LOAD.STATE.WARN:"override"} | 7 |
| {$VOLTAGE.MAX.CRIT} | no value |
| {$VOLTAGE.MAX.WARN} | no value |
| {$VOLTAGE.MIN.CRIT} | no value |
| {$VOLTAGE.MIN.WARN} | no value |


<a name="triggers"></a>

## Triggers
| name | priority | description | expression | tags | url |
| ------------- |------------- |------------- |------------- |------------- |------------- |
| Load: Device load in critical state | HIGH | no description | last(/Morningstar SureSine by SNMP/load.state[loadState.0])={$LOAD.STATE.CRIT:"lvd"} or last(/Morningstar SureSine by SNMP/load.state[loadState.0])={$LOAD.STATE.CRIT:"fault"} | [{"tag": "scope", "value": "notice"}] | no url |
| Load: Device load in warning state | WARNING | no description | last(/Morningstar SureSine by SNMP/load.state[loadState.0])={$LOAD.STATE.WARN:"lvdWarning"}  or last(/Morningstar SureSine by SNMP/load.state[loadState.0])={$LOAD.STATE.WARN:"override"} | [{"tag": "scope", "value": "notice"}] | no url |
| Status: Device has "heatsinkTempSensorOpen" alarm flag | WARNING | no description | count(/Morningstar SureSine by SNMP/status.alarms[alarms.0],#3,"like","heatsinkTempSensorOpen")=2 | [{"tag": "scope", "value": "notice"}] | no url |
| Status: Device has "heatsinkTempSensorShort" alarm flag | WARNING | no description | count(/Morningstar SureSine by SNMP/status.alarms[alarms.0],#3,"like","heatsinkTempSensorShort")=2 | [{"tag": "scope", "value": "notice"}] | no url |
| Status: Device has "suresineHot" alarm flag | WARNING | no description | count(/Morningstar SureSine by SNMP/status.alarms[alarms.0],#3,"like","suresineHot")=2 | [{"tag": "scope", "value": "notice"}] | no url |
| Status: Device has "unknownAlarm" alarm flag | WARNING | no description | count(/Morningstar SureSine by SNMP/status.alarms[alarms.0],#3,"like","unknownAlarm")=2 | [{"tag": "scope", "value": "notice"}] | no url |
| Status: Device has "customSettingsEdit" faults flag | HIGH | no description | count(/Morningstar SureSine by SNMP/status.faults[faults.0],#3,"like","customSettingsEdit")=2 | [{"tag": "scope", "value": "notice"}] | no url |
| Status: Device has "dipSwitchChanged" faults flag | HIGH | no description | count(/Morningstar SureSine by SNMP/status.faults[faults.0],#3,"like","dipSwitchChanged")=2 | [{"tag": "scope", "value": "notice"}] | no url |
| Status: Device has "highVoltageDisconnect" faults flag | HIGH | no description | count(/Morningstar SureSine by SNMP/status.faults[faults.0],#3,"like","highVoltageDisconnect")=2 | [{"tag": "scope", "value": "notice"}] | no url |
| Status: Device has "overcurrent" faults flag | HIGH | no description | count(/Morningstar SureSine by SNMP/status.faults[faults.0],#3,"like","overcurrent")=2 | [{"tag": "scope", "value": "notice"}] | no url |
| Status: Device has "reset" faults flag | HIGH | no description | count(/Morningstar SureSine by SNMP/status.faults[faults.0],#3,"like","reset")=2 | [{"tag": "scope", "value": "notice"}] | no url |
| Status: Device has "software" faults flag | HIGH | no description | count(/Morningstar SureSine by SNMP/status.faults[faults.0],#3,"like","software")=2 | [{"tag": "scope", "value": "notice"}] | no url |
| Status: Device has "suresineHot" faults flag | HIGH | no description | count(/Morningstar SureSine by SNMP/status.faults[faults.0],#3,"like","suresineHot")=2 | [{"tag": "scope", "value": "notice"}] | no url |
| Status: Device has "unknownFault" faults flag | HIGH | no description | count(/Morningstar SureSine by SNMP/status.faults[faults.0],#3,"like","unknownFault")=2 | [{"tag": "scope", "value": "notice"}] | no url |
| Status: Failed to fetch data | WARNING | Zabbix has not received data for items for the last 5 minutes. | nodata(/Morningstar SureSine by SNMP/status.net.uptime,5m)=1 | [{"tag": "scope", "value": "availability"}] | no url |
| Status: Device has been restarted | INFO | Uptime is less than 10 minutes. | (last(/Morningstar SureSine by SNMP/status.hw.uptime)>0 and last(/Morningstar SureSine by SNMP/status.hw.uptime)<10m) or (last(/Morningstar SureSine by SNMP/status.hw.uptime)=0 and last(/Morningstar SureSine by SNMP/status.net.uptime)<10m) | [{"tag": "scope", "value": "notice"}] | no url |


<a name="discoveries"></a>

## Discoveries
| name | key | description | type | lifetime | delay |
| ------------- |------------- |------------- |------------- |------------- |------------- |
| Battery voltage discovery | battery.voltage.discovery | Discovery for battery voltage triggers | DEPENDENT | no lifetime | 0 |


<a name="discovery_battery_voltage_discovery"></a>

## Discovery Battery voltage discovery

### Items

| name | description | key | type |
| ------------- |------------- |------------- |------------- |
| Battery: Voltage{#SINGLETON} | MIB: SURESINE<br>Description:Battery Voltage(slow)<br>Scaling Factor:0.0002581787109375<br>Units:V<br>Range:[0.0, 17.0]<br>Modbus address:0x0004 | battery.voltage[batteryVoltageSlow.0{#SINGLETON}] | SNMP_AGENT |


### Triggers

| name | priority | description | expression | tags | url |
| ------------- |------------- |------------- |------------- |------------- |------------- |
| Battery: Critically high battery voltage | HIGH | no description | min(/Morningstar SureSine by SNMP/battery.voltage[batteryVoltageSlow.0{#SINGLETON}],5m)>{#VOLTAGE.MAX.CRIT} | [{"tag": "scope", "value": "capacity"}] | no url |
| Battery: Critically low battery voltage | HIGH | no description | max(/Morningstar SureSine by SNMP/battery.voltage[batteryVoltageSlow.0{#SINGLETON}],5m)<{#VOLTAGE.MIN.CRIT} | [{"tag": "scope", "value": "capacity"}] | no url |
| Battery: High battery voltage | WARNING | no description | min(/Morningstar SureSine by SNMP/battery.voltage[batteryVoltageSlow.0{#SINGLETON}],5m)>{#VOLTAGE.MAX.WARN} | [{"tag": "scope", "value": "capacity"}] | no url |
| Battery: Low battery voltage | WARNING | no description | max(/Morningstar SureSine by SNMP/battery.voltage[batteryVoltageSlow.0{#SINGLETON}],5m)<{#VOLTAGE.MIN.WARN} | [{"tag": "scope", "value": "capacity"}] | no url |

