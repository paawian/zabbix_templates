# Template: Zookeeper by HTTP

## Template ID
10369

## Description
This template is designed for the effortless deployment of Apache Zookeeper monitoring by Zabbix via HTTP and doesn't require any external scripts.

This template works with standalone and cluster instances. Metrics are collected from each Zookeeper node by requests to AdminServer

Setup:

1. Enable the AdminServer and configure the parameters according to the official documentation:
https://zookeeper.apache.org/doc/current/zookeeperAdmin.html#sc_adminserver_config

2. Set the hostname or IP address of the Apache Zookeeper host in the '{$ZOOKEEPER.HOST}' macro. You can also change the '{$ZOOKEEPER.COMMAND_URL}', '{$ZOOKEEPER.PORT}' and '{$ZOOKEEPER.SCHEME}' macros if necessary.

You can discuss this template or leave feedback on our forum:
https://www.zabbix.com/forum/zabbix-suggestions-and-feedback

Generated by official Zabbix template tool "Templator"

## Linked Hosts
None

## Items

### Item: Approximate data size
- **Description**: Data tree size in bytes.The size includes the znode path and its value.
- **Interval**: 0
- **Data Type**: 3

### Item: Election time, avg
- **Description**: Time between entering and leaving election.
- **Interval**: 0
- **Data Type**: 0

### Item: Fsync time, avg
- **Description**: Time to fsync transaction log.
- **Interval**: 0
- **Data Type**: 0

### Item: Latency, avg
- **Description**: The average amount of time it takes for the server to respond to a client request.
- **Interval**: 0
- **Data Type**: 0

### Item: Snapshot write time, avg
- **Description**: Average time to write a snapshot.
- **Interval**: 0
- **Data Type**: 0

### Item: Bytes received per sec
- **Description**: Number of bytes received per second.
- **Interval**: 0
- **Data Type**: 0

### Item: Elections
- **Description**: Number of elections happened.
- **Interval**: 0
- **Data Type**: 3

### Item: Fsync
- **Description**: Count of performed fsyncs.
- **Interval**: 0
- **Data Type**: 3

### Item: Snapshot writes
- **Description**: Count of performed snapshot writes.
- **Interval**: 0
- **Data Type**: 3

### Item: Commit per sec
- **Description**: The number of commits performed per second
- **Interval**: 0
- **Data Type**: 0

### Item: Drop connections per sec
- **Description**: Rate of connection drops.
- **Interval**: 0
- **Data Type**: 0

### Item: Rejected connections per sec
- **Description**: Rate of connection rejected.
- **Interval**: 0
- **Data Type**: 0

### Item: Revalidate connections per sec
- **Description**: Rate of connection revalidations.
- **Interval**: 0
- **Data Type**: 0

### Item: Diff syncs per sec
- **Description**: Number of diff syncs performed per second
- **Interval**: 0
- **Data Type**: 0

### Item: Ephemeral nodes count
- **Description**: Number of ephemeral nodes that a zookeeper server has in its data tree.
- **Interval**: 0
- **Data Type**: 3

### Item: Get connections stats
- **Description**: Get information on client connections to server. Note, depending on the number of client connections this operation may be expensive (i.e. impact server performance).
- **Interval**: 1m
- **Data Type**: 4

### Item: Get server metrics
- **Description**: 
- **Interval**: 1m
- **Data Type**: 4

### Item: Global sessions
- **Description**: Number of global sessions.
- **Interval**: 0
- **Data Type**: 3

### Item: Local sessions
- **Description**: Number of local sessions.
- **Interval**: 0
- **Data Type**: 3

### Item: Looking per sec
- **Description**: Rate of transitions into looking state.
- **Interval**: 0
- **Data Type**: 0

### Item: File descriptors, max
- **Description**: Maximum number of file descriptors that a zookeeper server can open.
- **Interval**: 0
- **Data Type**: 3

### Item: Latency, max
- **Description**: The maximum amount of time it takes for the server to respond to a client request.
- **Interval**: 0
- **Data Type**: 0

### Item: Latency, min
- **Description**: The minimum amount of time it takes for the server to respond to a client request.
- **Interval**: 0
- **Data Type**: 0

### Item: Alive connections
- **Description**: Number of active clients connected to a zookeeper server.
- **Interval**: 0
- **Data Type**: 3

### Item: File descriptors, open
- **Description**: Number of file descriptors that a zookeeper server has open.
- **Interval**: 0
- **Data Type**: 3

### Item: Outstanding requests
- **Description**: The number of queued requests when the server is under load and is receiving more sustained requests than it can process.
- **Interval**: 0
- **Data Type**: 3

### Item: Packets received per sec
- **Description**: The number of zookeeper packets received by a server per second.
- **Interval**: 0
- **Data Type**: 0

### Item: Packets sent per sec
- **Description**: The number of zookeeper packets sent from a server per second.
- **Interval**: 0
- **Data Type**: 0

### Item: Revalidate per sec
- **Description**: Rate of revalidations.
- **Interval**: 0
- **Data Type**: 0

### Item: Server mode
- **Description**: Mode of the server. In an ensemble, this may either be leader or follower. Otherwise, it is standalone
- **Interval**: 0
- **Data Type**: 1

### Item: Snap syncs per sec
- **Description**: Number of snap syncs performed per second
- **Interval**: 0
- **Data Type**: 0

### Item: Uptime
- **Description**: Uptime that a peer has been in a table leading/following/observing state.
- **Interval**: 0
- **Data Type**: 3

### Item: Version
- **Description**: Version of Zookeeper server.
- **Interval**: 0
- **Data Type**: 1

### Item: Watch count
- **Description**: Number of watches currently set on the local ZooKeeper process.
- **Interval**: 0
- **Data Type**: 3

### Item: Znode count
- **Description**: The number of znodes in the ZooKeeper namespace (the data)
- **Interval**: 0
- **Data Type**: 3

