# DELL PowerEdge R820 by HTTP template description

Template for DELL PowerEdge R820 servers with iDRAC 8/9 firmware 4.32 and later and Redfish API enabled.

You can discuss this template or leave feedback on our forum https://www.zabbix.com/forum/zabbix-suggestions-and-feedback/426752-discussion-thread-for-official-zabbix-dell-templates

Generated by official Zabbix template tool "Templator"

## Summary
* [items](#items)
* [macros](#macros)
* [triggers](#triggers)
* [discoveries](#discoveries)
  * [Discovery Array controller cache discovery ](#discovery_array_controller_cache_discovery)
  * [Discovery Array controller discovery ](#discovery_array_controller_discovery)
  * [Discovery FAN discovery ](#discovery_fan_discovery)
  * [Discovery Network interface discovery ](#discovery_network_interface_discovery)
  * [Discovery Physical disk discovery ](#discovery_physical_disk_discovery)
  * [Discovery PSU discovery ](#discovery_psu_discovery)
  * [Discovery Temperature discovery ](#discovery_temperature_discovery)
  * [Discovery Virtual disk discovery ](#discovery_virtual_disk_discovery)

<a name="items"></a>

## Items
| name | description | key | type | delay |
| ------------- |------------- |------------- |------------- |------------- |
| Firmware version | This attribute defines the firmware version of a remote access card. | dell.server.hw.firmware | DEPENDENT | 0 |
| Hardware model name | This attribute defines the model name of the system. | dell.server.hw.model | DEPENDENT | 0 |
| Hardware serial number | This attribute defines the service tag of the system. | dell.server.hw.serialnumber | DEPENDENT | 0 |
| Overall system health status | This attribute defines the overall rollup status of all components in the system being monitored by the remote access card. Includes system, storage, IO devices, iDRAC, CPU, memory, etc. | dell.server.status | DEPENDENT | 0 |
| Get system | Returns the metrics of a system. | dell.server.system.get | HTTP_AGENT | no delay |
| Redfish API | The availability of Redfish API on the server.<br>Possible values:<br>  0 unavailable<br>  1 available | net.tcp.service[https] | SIMPLE | no delay |


<a name="macros"></a>

## Macros
| macro | value |
| ------------- |------------- |
| {$API.PASSWORD} | <Put your password here> |
| {$API.URL} | <Put your URL here> |
| {$API.USER} | <Put your username here> |
| {$IFCONTROL} | 1 |


<a name="triggers"></a>

## Triggers
| name | priority | description | expression | tags | url |
| ------------- |------------- |------------- |------------- |------------- |------------- |
| Firmware has changed | INFO | Firmware version has changed. Acknowledge to close the problem manually. | last(/DELL PowerEdge R820 by HTTP/dell.server.hw.firmware,#1)<>last(/DELL PowerEdge R820 by HTTP/dell.server.hw.firmware,#2) and length(last(/DELL PowerEdge R820 by HTTP/dell.server.hw.firmware))>0 | [{"tag": "scope", "value": "notice"}] | no url |
| Device has been replaced | INFO | Device serial number has changed. Acknowledge to close the problem manually. | last(/DELL PowerEdge R820 by HTTP/dell.server.hw.serialnumber,#1)<>last(/DELL PowerEdge R820 by HTTP/dell.server.hw.serialnumber,#2) and length(last(/DELL PowerEdge R820 by HTTP/dell.server.hw.serialnumber))>0 | [{"tag": "scope", "value": "notice"}] | no url |
| Server is in a critical state | HIGH | Please check the device for faults. | find(/DELL PowerEdge R820 by HTTP/dell.server.status,,"like","Critical")=1 | [{"tag": "scope", "value": "availability"}] | no url |
| Server is in warning state | WARNING | Please check the device for warnings. | find(/DELL PowerEdge R820 by HTTP/dell.server.status,,"like","Warning")=1 | [{"tag": "scope", "value": "availability"}] | no url |
| Redfish API service is unavailable | HIGH | The service is unavailable or does not accept TCP connections. | last(/DELL PowerEdge R820 by HTTP/net.tcp.service[https])=0 | [{"tag": "scope", "value": "availability"}] | no url |


<a name="discoveries"></a>

## Discoveries
| name | key | description | type | lifetime | delay |
| ------------- |------------- |------------- |------------- |------------- |------------- |
| Array controller cache discovery | array.cache.discovery | Discovery of a cache of disk array controllers. | HTTP_AGENT | no lifetime | 1h |
| Array controller discovery | array.discovery | Discovery of disk array controllers. | HTTP_AGENT | no lifetime | 1h |
| FAN discovery | fan.discovery | Discovery of FAN sensors. | HTTP_AGENT | no lifetime | 1h |
| Network interface discovery | net.if.discovery | The NetworkInterface schema describes links to the NetworkAdapter and represents the functionality available to the containing system. | HTTP_AGENT | no lifetime | 1h |
| Physical disk discovery | physicaldisk.discovery | Discovery of physical disks. | HTTP_AGENT | no lifetime | 1h |
| PSU discovery | psu.discovery | Discovery of PSU sensors. | HTTP_AGENT | no lifetime | 1h |
| Temperature discovery | temp.discovery | Discovery of temperature sensors. | HTTP_AGENT | no lifetime | 1h |
| Virtual disk discovery | virtualdisk.discovery | Discovery of virtual disks. | HTTP_AGENT | no lifetime | 1h |


<a name="discovery_array_controller_cache_discovery" />

## Discovery Array controller cache discovery

### Items

| name | description | key | type |
| ------------- |------------- |------------- |------------- |
| {#BATTERY_NAME} Status | The status of the job. Possible values: OK, Warning, Critical. | dell.server.hw.diskarray.cache.battery.status[{#BATTERY_NAME}] | HTTP_AGENT |


### Triggers

| name | priority | description | expression | tags | url |
| ------------- |------------- |------------- |------------- |------------- |------------- |
| {#BATTERY_NAME} is in a critical state | HIGH | Please check the device for faults. | find(/DELL PowerEdge R820 by HTTP/dell.server.hw.diskarray.cache.battery.status[{#BATTERY_NAME}],,"like","Critical")=1 | [{"tag": "scope", "value": "availability"}] | no url |
| {#BATTERY_NAME} is in warning state | WARNING | Please check the device for warnings. | find(/DELL PowerEdge R820 by HTTP/dell.server.hw.diskarray.cache.battery.status[{#BATTERY_NAME}],,"like","Warning")=1 | [{"tag": "scope", "value": "availability"}] | no url |


<a name="discovery_array_controller_discovery" />

## Discovery Array controller discovery

### Items

| name | description | key | type |
| ------------- |------------- |------------- |------------- |
| {#CNTLR_NAME} in slot {#SLOT} Status | The status of the job. Possible values: OK, Warning, Critical. | dell.server.hw.diskarray.status[{#CNTLR_NAME}{#SLOT}] | HTTP_AGENT |


### Triggers

| name | priority | description | expression | tags | url |
| ------------- |------------- |------------- |------------- |------------- |------------- |
| {#CNTLR_NAME} in slot {#SLOT} is in a critical state | HIGH | Please check the device for faults. | find(/DELL PowerEdge R820 by HTTP/dell.server.hw.diskarray.status[{#CNTLR_NAME}{#SLOT}],,"like","Critical")=1 | [{"tag": "scope", "value": "availability"}] | no url |
| {#CNTLR_NAME} in slot {#SLOT} is in warning state | WARNING | Please check the device for warnings. | find(/DELL PowerEdge R820 by HTTP/dell.server.hw.diskarray.status[{#CNTLR_NAME}{#SLOT}],,"like","Warning")=1 | [{"tag": "scope", "value": "availability"}] | no url |


<a name="discovery_fan_discovery" />

## Discovery FAN discovery

### Items

| name | description | key | type |
| ------------- |------------- |------------- |------------- |
| {#SENSOR_NAME} Get sensor | Returns the metrics of a sensor. | dell.server.sensor.fan.get[{#SENSOR_NAME}] | HTTP_AGENT |
| {#SENSOR_NAME} Speed | The sensor value. | dell.server.sensor.fan.speed[{#SENSOR_NAME}] | DEPENDENT |
| {#SENSOR_NAME} Status | The status of the job. Possible values: OK, Warning, Critical. | dell.server.sensor.fan.status[{#SENSOR_NAME}] | DEPENDENT |


### Triggers

| name | priority | description | expression | tags | url |
| ------------- |------------- |------------- |------------- |------------- |------------- |
| {#SENSOR_NAME} is in a critical state | HIGH | Please check the device for faults. | find(/DELL PowerEdge R820 by HTTP/dell.server.sensor.fan.status[{#SENSOR_NAME}],,"like","Critical")=1 | [{"tag": "scope", "value": "availability"}] | no url |
| {#SENSOR_NAME} is in warning state | WARNING | Please check the device for warnings. | find(/DELL PowerEdge R820 by HTTP/dell.server.sensor.fan.status[{#SENSOR_NAME}],,"like","Warning")=1 | [{"tag": "scope", "value": "availability"}] | no url |


<a name="discovery_network_interface_discovery" />

## Discovery Network interface discovery

### Items

| name | description | key | type |
| ------------- |------------- |------------- |------------- |
| {#IFNAME} Get interface | Returns the metrics of a network interface. | dell.server.net.if.get[{#IFNAME}] | HTTP_AGENT |
| {#IFNAME} Status | The status of the job. Possible values: OK, Warning, Critical. | dell.server.net.if.health[{#IFNAME}] | DEPENDENT |
| {#IFNAME} Speed | Network port current link speed. | dell.server.net.if.speed[{#IFNAME}] | DEPENDENT |
| {#IFNAME} State | The known state of the Resource, for example, enabled. Possible values: Enabled, Disabled, StandbyOffline, StandbySpare, InTest, Starting, Absent, UnavailableOffline, Deferring, Quiesced, Updating, Qualified. | dell.server.net.if.state[{#IFNAME}] | DEPENDENT |
| {#IFNAME} Link status | The status of the link between this port and its link partner. Possible values: Down, Up, null. | dell.server.net.if.status[{#IFNAME}] | DEPENDENT |


### Triggers

| name | priority | description | expression | tags | url |
| ------------- |------------- |------------- |------------- |------------- |------------- |
| {#IFNAME} is in a critical state | HIGH | Please check the device for faults. | find(/DELL PowerEdge R820 by HTTP/dell.server.net.if.health[{#IFNAME}],,"like","Critical")=1 | [{"tag": "scope", "value": "availability"}] | no url |
| {#IFNAME} is in warning state | WARNING | Please check the device for warnings. | find(/DELL PowerEdge R820 by HTTP/dell.server.net.if.health[{#IFNAME}],,"like","Warning")=1 | [{"tag": "scope", "value": "availability"}] | no url |
| {#IFNAME} Link down | AVERAGE | This trigger expression works as follows:<br>1. It can be triggered if the operations status is down.<br>2. `{$IFCONTROL:"{#IFNAME}"}=1` - a user can redefine context macro to value - 0. That marks this interface as not important. No new trigger will be fired if this interface is down.<br>3. `{TEMPLATE_NAME:METRIC.diff()}=1` - the trigger fires only if the operational status was up to (1) sometime before (so, do not fire for the 'eternal off' interfaces.)<br><br>WARNING: if closed manually - it will not fire again on the next poll, because of .diff. | {$IFCONTROL:"{#IFNAME}"}=1 and (find(/DELL PowerEdge R820 by HTTP/dell.server.net.if.status[{#IFNAME}],,"like")="Down" and last(/DELL PowerEdge R820 by HTTP/dell.server.net.if.status[{#IFNAME}],#1)<>last(/DELL PowerEdge R820 by HTTP/dell.server.net.if.status[{#IFNAME}],#2)) | [{"tag": "scope", "value": "availability"}] | no url |


<a name="discovery_physical_disk_discovery" />

## Discovery Physical disk discovery

### Items

| name | description | key | type |
| ------------- |------------- |------------- |------------- |
| {#DISK_NAME} Get disk | Returns the metrics of a physical disk. | dell.server.hw.physicaldisk.get[{#DISK_NAME}] | HTTP_AGENT |
| {#DISK_NAME} Media type | The type of media contained in this drive. Possible values: HDD, SSD, SMR, null. | dell.server.hw.physicaldisk.media_type[{#DISK_NAME}] | DEPENDENT |
| {#DISK_NAME} Model name | The model number of the drive. | dell.server.hw.physicaldisk.model[{#DISK_NAME}] | DEPENDENT |
| {#DISK_NAME} Serial number | The serial number of this drive. | dell.server.hw.physicaldisk.serialnumber[{#DISK_NAME}] | DEPENDENT |
| {#DISK_NAME} Size | The size, in bytes, of this drive. | dell.server.hw.physicaldisk.size[{#DISK_NAME}] | DEPENDENT |
| {#DISK_NAME} Status | The status of the job. Possible values: OK, Warning, Critical. | dell.server.hw.physicaldisk.status[{#DISK_NAME}] | DEPENDENT |


### Triggers

| name | priority | description | expression | tags | url |
| ------------- |------------- |------------- |------------- |------------- |------------- |
| {#DISK_NAME} has been replaced | INFO | {#DISK_NAME} serial number has changed. Acknowledge to close the problem manually. | last(/DELL PowerEdge R820 by HTTP/dell.server.hw.physicaldisk.serialnumber[{#DISK_NAME}],#1)<>last(/DELL PowerEdge R820 by HTTP/dell.server.hw.physicaldisk.serialnumber[{#DISK_NAME}],#2) and length(last(/DELL PowerEdge R820 by HTTP/dell.server.hw.physicaldisk.serialnumber[{#DISK_NAME}]))>0 | [{"tag": "scope", "value": "notice"}] | no url |
| {#DISK_NAME} is in a critical state | HIGH | Please check the device for faults. | find(/DELL PowerEdge R820 by HTTP/dell.server.hw.physicaldisk.status[{#DISK_NAME}],,"like","Critical")=1 | [{"tag": "scope", "value": "availability"}] | no url |
| {#DISK_NAME} is in warning state | WARNING | Please check the device for warnings. | find(/DELL PowerEdge R820 by HTTP/dell.server.hw.physicaldisk.status[{#DISK_NAME}],,"like","Warning")=1 | [{"tag": "scope", "value": "availability"}] | no url |


<a name="discovery_psu_discovery" />

## Discovery PSU discovery

### Items

| name | description | key | type |
| ------------- |------------- |------------- |------------- |
| {#SENSOR_NAME} Get sensor | Returns the metrics of a sensor. | dell.server.sensor.psu.get[{#SENSOR_NAME}] | HTTP_AGENT |
| {#SENSOR_NAME} Status | The status of the job. Possible values: OK, Warning, Critical. | dell.server.sensor.psu.status[{#SENSOR_NAME}] | DEPENDENT |


### Triggers

| name | priority | description | expression | tags | url |
| ------------- |------------- |------------- |------------- |------------- |------------- |
| {#SENSOR_NAME} is in a critical state | HIGH | Please check the device for faults. | find(/DELL PowerEdge R820 by HTTP/dell.server.sensor.psu.status[{#SENSOR_NAME}],,"like","Critical")=1 | [{"tag": "scope", "value": "availability"}] | no url |
| {#SENSOR_NAME} is in warning state | WARNING | Please check the device for warnings. | find(/DELL PowerEdge R820 by HTTP/dell.server.sensor.psu.status[{#SENSOR_NAME}],,"like","Warning")=1 | [{"tag": "scope", "value": "availability"}] | no url |


<a name="discovery_temperature_discovery" />

## Discovery Temperature discovery

### Items

| name | description | key | type |
| ------------- |------------- |------------- |------------- |
| {#SENSOR_NAME} Get sensor | Returns the metrics of a sensor. | dell.server.sensor.temp.get[{#SENSOR_NAME}] | HTTP_AGENT |
| {#SENSOR_NAME} Status | The status of the job. Possible values: OK, Warning, Critical. | dell.server.sensor.temp.status[{#SENSOR_NAME}] | DEPENDENT |
| {#SENSOR_NAME} Value | The sensor value. | dell.server.sensor.temp.value[{#SENSOR_NAME}] | DEPENDENT |


### Triggers

| name | priority | description | expression | tags | url |
| ------------- |------------- |------------- |------------- |------------- |------------- |
| {#SENSOR_NAME} is in a critical state | HIGH | Please check the device for faults. | find(/DELL PowerEdge R820 by HTTP/dell.server.sensor.temp.status[{#SENSOR_NAME}],,"like","Critical")=1 | [{"tag": "scope", "value": "availability"}] | no url |
| {#SENSOR_NAME} is in warning state | WARNING | Please check the device for warnings. | find(/DELL PowerEdge R820 by HTTP/dell.server.sensor.temp.status[{#SENSOR_NAME}],,"like","Warning")=1 | [{"tag": "scope", "value": "availability"}] | no url |


<a name="discovery_virtual_disk_discovery" />

## Discovery Virtual disk discovery

### Items

| name | description | key | type |
| ------------- |------------- |------------- |------------- |
| {#DISK_NAME} Get disk | Returns the metrics of a virtual disk. | dell.server.hw.virtualdisk.get[{#DISK_NAME}] | HTTP_AGENT |
| {#DISK_NAME} RAID status | This property represents the RAID specific status. Possible values: Blocked, Degraded, Failed, Foreign, Offline, Online, Ready, Unknown, null. | dell.server.hw.virtualdisk.raidstatus[{#DISK_NAME}] | DEPENDENT |
| {#DISK_NAME} Read policy | Indicates the read cache policy setting for the Volume. Possible values: ReadAhead, AdaptiveReadAhead, Off. | dell.server.hw.virtualdisk.readpolicy[{#DISK_NAME}] | DEPENDENT |
| {#DISK_NAME} Size | The size in bytes of this Volume. | dell.server.hw.virtualdisk.size[{#DISK_NAME}] | DEPENDENT |
| {#DISK_NAME} Current state | The known state of the Resource, for example, enabled. Possible values: Enabled, Disabled, StandbyOffline, StandbySpare, InTest, Starting, Absent, UnavailableOffline, Deferring, Quiesced, Updating, Qualified. | dell.server.hw.virtualdisk.state[{#DISK_NAME}] | DEPENDENT |
| {#DISK_NAME} Status | The status of the job. Possible values: OK, Warning, Critical. | dell.server.hw.virtualdisk.status[{#DISK_NAME}] | DEPENDENT |
| {#DISK_NAME} Write policy | Indicates the write cache policy setting for the Volume. Possible values: WriteThrough, ProtectedWriteBack, UnprotectedWriteBack. | dell.server.hw.virtualdisk.writepolicy[{#DISK_NAME}] | DEPENDENT |


### Triggers

| name | priority | description | expression | tags | url |
| ------------- |------------- |------------- |------------- |------------- |------------- |
| {#DISK_NAME} is in a critical state | HIGH | Please check the device for faults. | find(/DELL PowerEdge R820 by HTTP/dell.server.hw.virtualdisk.status[{#DISK_NAME}],,"like","Critical")=1 | [{"tag": "scope", "value": "availability"}] | no url |
| {#DISK_NAME} is in warning state | WARNING | Please check the device for warnings. | find(/DELL PowerEdge R820 by HTTP/dell.server.hw.virtualdisk.status[{#DISK_NAME}],,"like","Warning")=1 | [{"tag": "scope", "value": "availability"}] | no url |

