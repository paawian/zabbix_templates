# Template: Asterisk by HTTP

## Template ID
10336

## Description
The template gets Asterisk metrics from AMI by HTTP agent.
You should enable the mini-HTTP Server, add the option webenabled=yes in the general section of the manager.conf file and create Asterisk Manager user with system and command write permissions within your Asterisk instance.
Disable the PJSIP driver if you do not use PJSIP or do not have PJSIP endpoints.
Please, define AMI address in the {$AMI.URL} macro. Also, set the hostname or IP address of the AMI host in the {$AMI.HOST} macro for Zabbix to check Asterisk service status.
Then you can define {$AMI.USERNAME} and {$AMI.SECRET} macros in the template for using on the host level.
If there are errors, increase the logging to debug level and see the Zabbix server log.

You can discuss this template or leave feedback on our forum https://www.zabbix.com/forum/zabbix-suggestions-and-feedback/410060-discussion-thread-for-official-zabbix-template-asterisk

Generated by official Zabbix template tool "Templator"

## Linked Hosts
None

## Items

### Item: Active calls
- **Description**: The number of active calls at the moment.
- **Interval**: 0
- **Data Type**: 3

### Item: Active channels
- **Description**: The number of active channels at the moment.
- **Interval**: 0
- **Data Type**: 3

### Item: Calls processed
- **Description**: The number of calls processed after the last service restart.
- **Interval**: 0
- **Data Type**: 3

### Item: Calls processed per second
- **Description**: The number of calls processed per second.
- **Interval**: 0
- **Data Type**: 0

### Item: Get stats
- **Description**: Asterisk system information in JSON format.
- **Interval**: 1m
- **Data Type**: 4

### Item: IAX trunks active channels
- **Description**: The total number of IAX trunks active channels.
- **Interval**: 0
- **Data Type**: 3

### Item: IAX offline peers
- **Description**: The number of offline IAX peers.
- **Interval**: 0
- **Data Type**: 3

### Item: IAX online peers
- **Description**: The number of online IAX peers.
- **Interval**: 0
- **Data Type**: 3

### Item: IAX peers
- **Description**: The total number of IAX peers.
- **Interval**: 0
- **Data Type**: 3

### Item: IAX unmonitored peers
- **Description**: The number of unmonitored IAX peers.
- **Interval**: 0
- **Data Type**: 3

### Item: PJSIP trunks active channels
- **Description**: The total number of PJSIP trunks active channels.
- **Interval**: 0
- **Data Type**: 3

### Item: PJSIP available endpoints
- **Description**: The number of available PJSIP peers.
- **Interval**: 0
- **Data Type**: 3

### Item: PJSIP endpoints
- **Description**: The total number of PJSIP peers.
- **Interval**: 0
- **Data Type**: 3

### Item: PJSIP unavailable endpoints
- **Description**: The number of unavailable PJSIP peers.
- **Interval**: 0
- **Data Type**: 3

### Item: SIP trunks active channels
- **Description**: The total number of SIP trunks active channels.
- **Interval**: 0
- **Data Type**: 3

### Item: SIP monitored offline
- **Description**: The number of monitored offline SIP peers.
- **Interval**: 0
- **Data Type**: 3

### Item: SIP monitored online
- **Description**: The number of monitored online SIP peers.
- **Interval**: 0
- **Data Type**: 3

### Item: SIP peers
- **Description**: The total number of SIP peers.
- **Interval**: 0
- **Data Type**: 3

### Item: SIP unmonitored offline
- **Description**: The number of unmonitored offline SIP peers.
- **Interval**: 0
- **Data Type**: 3

### Item: SIP unmonitored online
- **Description**: The number of unmonitored online SIP peers.
- **Interval**: 0
- **Data Type**: 3

### Item: Total queues
- **Description**: The number of configured queues.
- **Interval**: 0
- **Data Type**: 3

### Item: Uptime
- **Description**: The system uptime expressed in the following format: "N days, hh:mm:ss".
- **Interval**: 0
- **Data Type**: 0

### Item: Uptime after reload
- **Description**: System uptime after a config reload in 'N days, hh:mm:ss' format.
- **Interval**: 0
- **Data Type**: 0

### Item: Version
- **Description**: Service version
- **Interval**: 0
- **Data Type**: 1

### Item: Service response time
- **Description**: Asterisk Manager API performance.
- **Interval**: 1m
- **Data Type**: 0

### Item: Service status
- **Description**: Asterisk Manager API port availability.
- **Interval**: 1m
- **Data Type**: 3

