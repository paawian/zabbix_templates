# Template: HashiCorp Nomad Server by HTTP

## Template ID
10596

## Description
Get HashiCorp Nomad server metrics by HTTP from metrics endpoint.

More information about metrics is available in the official documentation: https://developer.hashicorp.com/nomad/docs/operations/metrics-reference.

You can discuss this template or leave feedback on our forum: https://www.zabbix.com/forum/zabbix-suggestions-and-feedback.

Generated by official Zabbix template tool "Templator"

## Linked Hosts
None

## Items

### Item: Service [rpc] state
- **Description**: Current [rpc] service state.
- **Interval**: 1m
- **Data Type**: 3

### Item: Service [serf] state
- **Description**: Current [serf] service state.
- **Interval**: 1m
- **Data Type**: 3

### Item: Nomad raft version
- **Description**: Nomad raft version.
- **Interval**: 0
- **Data Type**: 1

### Item: FSM allocation client update time
- **Description**: Time elapsed to apply AllocClientUpdate raft entry.
- **Interval**: 0
- **Data Type**: 0

### Item: Autopilot failure tolerance
- **Description**: The number of redundant healthy servers that can fail without causing an outage.
- **Interval**: 0
- **Data Type**: 3

### Item: Autopilot state
- **Description**: Current autopilot state.
- **Interval**: 0
- **Data Type**: 3

### Item: CPU shares for blocked evaluations
- **Description**: Amount of CPU shares requested by blocked evals.
- **Interval**: 0
- **Data Type**: 0

### Item: CPU shares for blocked job evaluations
- **Description**: Amount of CPU shares requested by blocked evals of a job.
- **Interval**: 0
- **Data Type**: 0

### Item: Memory shares for blocked job evaluations
- **Description**: Amount of memory requested by blocked evals of a job.
- **Interval**: 0
- **Data Type**: 0

### Item: Memory shares by blocked evaluations
- **Description**: Amount of memory requested by blocked evals.
- **Interval**: 0
- **Data Type**: 0

### Item: Evaluations blocked
- **Description**: Count of evals in the blocked state for any reason (cluster resource exhaustion or quota limits).
- **Interval**: 0
- **Data Type**: 0

### Item: Evaluations escaped
- **Description**: Count of evals that have escaped computed node classes.
This indicates a scheduler optimization was skipped and is not usually a source of concern.
- **Interval**: 0
- **Data Type**: 0

### Item: Evaluations blocked due to quota limit
- **Description**: Count of blocked evals due to quota limits (the resources for these jobs are not counted in other blocked_evals metrics, except for total_blocked).
- **Interval**: 0
- **Data Type**: 0

### Item: Evaluations enqueue time
- **Description**: Average time elapsed with evaluations waiting to be enqueued.
- **Interval**: 0
- **Data Type**: 0

### Item: Services ready to schedule
- **Description**: Count of service evals ready to be scheduled.
- **Interval**: 0
- **Data Type**: 0

### Item: Services unacknowledged
- **Description**: Count of unacknowledged service evals.
- **Interval**: 0
- **Data Type**: 0

### Item: System evaluations ready to schedule
- **Description**: Count of service evals ready to be scheduled.
- **Interval**: 0
- **Data Type**: 0

### Item: System evaluations unacknowledged
- **Description**: Count of unacknowledged system evals.
- **Interval**: 0
- **Data Type**: 0

### Item: Evaluations pending
- **Description**: Evaluations that are pending until an existing evaluation for the same job completes.
- **Interval**: 0
- **Data Type**: 0

### Item: Evaluations ready
- **Description**: Number of evaluations ready to be processed.
- **Interval**: 0
- **Data Type**: 0

### Item: Evaluations unacked
- **Description**: Evaluations dispatched for processing but incomplete.
- **Interval**: 0
- **Data Type**: 0

### Item: Evaluations waiting
- **Description**: Count of evals waiting to be enqueued.
- **Interval**: 0
- **Data Type**: 3

### Item: RPC eval dequeue time
- **Description**: Time elapsed for Eval.Dequeue RPC call.
- **Interval**: 0
- **Data Type**: 0

### Item: RPC get client allocs time
- **Description**: Time elapsed for Node.GetClientAllocs RPC call.
- **Interval**: 0
- **Data Type**: 0

### Item: RPC list time
- **Description**: Time elapsed for Node.List RPC call.
- **Interval**: 0
- **Data Type**: 0

### Item: RPC update allocations time
- **Description**: Time elapsed for Node.UpdateAlloc RPC call.
- **Interval**: 0
- **Data Type**: 0

### Item: RPC update status time
- **Description**: Time elapsed for Node.UpdateStatus RPC call.
- **Interval**: 0
- **Data Type**: 0

### Item: CPU time, rate
- **Description**: Total user and system CPU time spent in seconds.
- **Interval**: 0
- **Data Type**: 0

### Item: Monitoring API response
- **Description**: Monitoring API response message.
- **Interval**: 0
- **Data Type**: 4

### Item: Telemetry get
- **Description**: Telemetry data in raw format.
- **Interval**: 1m
- **Data Type**: 4

### Item: RPC evaluation acknowledgement time
- **Description**: Time elapsed for Eval.Ack RPC call.
- **Interval**: 0
- **Data Type**: 0

### Item: FSM apply plan results time
- **Description**: Time elapsed to apply ApplyPlanResults raft entry.
- **Interval**: 0
- **Data Type**: 0

### Item: FSM job registration time
- **Description**: Time elapsed to apply RegisterJob raft entry.
- **Interval**: 0
- **Data Type**: 0

### Item: FSM update evaluation time
- **Description**: Time elapsed to apply UpdateEval raft entry.
- **Interval**: 0
- **Data Type**: 0

### Item: Heartbeats active
- **Description**: Number of active heartbeat timers.
Each timer represents a Nomad client connection.
- **Interval**: 0
- **Data Type**: 3

### Item: RPC job allocations time
- **Description**: Time elapsed for Job.Allocations RPC call.
- **Interval**: 0
- **Data Type**: 0

### Item: RPC job evaluations time
- **Description**: Time elapsed for Job.Evaluations RPC call.
- **Interval**: 0
- **Data Type**: 0

### Item: RPC get job time
- **Description**: Time elapsed for Job.GetJob RPC call.
- **Interval**: 0
- **Data Type**: 0

### Item: Jobs dead
- **Description**: Number of dead jobs.
- **Interval**: 0
- **Data Type**: 3

### Item: Jobs pending
- **Description**: Number of pending jobs.
- **Interval**: 0
- **Data Type**: 3

### Item: Jobs running
- **Description**: Number of running jobs.
- **Interval**: 0
- **Data Type**: 3

### Item: Job allocations completed
- **Description**: Number of complete allocations for a job.
- **Interval**: 0
- **Data Type**: 3

### Item: Job allocations failed
- **Description**: Number of failed allocations for a job.
- **Interval**: 0
- **Data Type**: 3

### Item: RPC job summary time
- **Description**: Time elapsed for Job.Summary RPC call.
- **Interval**: 0
- **Data Type**: 0

### Item: Job allocations lost
- **Description**: Number of lost allocations for a job.
- **Interval**: 0
- **Data Type**: 3

### Item: Job allocations queued
- **Description**: Number of queued allocations for a job.
- **Interval**: 0
- **Data Type**: 3

### Item: Job allocations running
- **Description**: Number of running allocations for a job.
- **Interval**: 0
- **Data Type**: 3

### Item: Job allocations starting
- **Description**: Number of starting allocations for a job.
- **Interval**: 0
- **Data Type**: 3

### Item: Job allocations unknown
- **Description**: Number of unknown allocations for a job.
- **Interval**: 0
- **Data Type**: 3

### Item: Leader barrier time
- **Description**: Time elapsed to establish a raft barrier during leader transition.
- **Interval**: 0
- **Data Type**: 0

### Item: Total reconcile time
- **Description**: Time elapsed to reconcile all serf peers with state store.
- **Interval**: 0
- **Data Type**: 0

### Item: Reconcile peer time
- **Description**: Time elapsed to reconcile a serf peer with state store.
- **Interval**: 0
- **Data Type**: 0

### Item: Gossip time
- **Description**: Time elapsed to broadcast gossip messages.
- **Interval**: 0
- **Data Type**: 0

### Item: Metrics
- **Description**: Nomad server metrics in raw format.
- **Interval**: 0
- **Data Type**: 4

### Item: Namespace list time
- **Description**: Time elapsed for Namespace.ListNamespaces.
- **Interval**: 0
- **Data Type**: 0

### Item: Plan apply time
- **Description**: Time elapsed to apply a plan.
- **Interval**: 0
- **Data Type**: 0

### Item: Plan evaluate time
- **Description**: Time elapsed to evaluate a plan.
- **Interval**: 0
- **Data Type**: 0

### Item: Plan queue
- **Description**: Count of evals in the plan queue.
- **Interval**: 0
- **Data Type**: 0

### Item: RPC plan submit time
- **Description**: Time elapsed for Plan.Submit RPC call.
- **Interval**: 0
- **Data Type**: 0

### Item: Plan raft index processing time
- **Description**: Time elapsed that planner waits for the raft index of the plan to be processed.
- **Interval**: 0
- **Data Type**: 0

### Item: Open file descriptors, max
- **Description**: Maximum number of open file descriptors.
- **Interval**: 0
- **Data Type**: 3

### Item: Open file descriptors
- **Description**: Number of open file descriptors.
- **Interval**: 0
- **Data Type**: 3

### Item: FSM index
- **Description**: Current index applied to FSM.
- **Interval**: 0
- **Data Type**: 3

### Item: Raft transactions, rate
- **Description**: Number of Raft transactions.
- **Interval**: 0
- **Data Type**: 3

### Item: Raft calls blocked, rate
- **Description**: Count of blocking raft API calls.
- **Interval**: 0
- **Data Type**: 3

### Item: BoltDB freelist bytes
- **Description**: Number of freelist bytes.
- **Interval**: 0
- **Data Type**: 3

### Item: BoltDB free page bytes
- **Description**: Number of free page bytes.
- **Interval**: 0
- **Data Type**: 0

### Item: BoltDB free pages
- **Description**: Number of BoltDB free pages.
- **Interval**: 0
- **Data Type**: 3

### Item: BoltDB pending pages
- **Description**: Number of BoltDB pending pages.
- **Interval**: 0
- **Data Type**: 3

### Item: BoltDB open read transactions
- **Description**: Number of current open read transactions.
- **Interval**: 0
- **Data Type**: 3

### Item: BoltDB read transactions, rate
- **Description**: Count of total read transactions.
- **Interval**: 0
- **Data Type**: 3

### Item: BoltDB cursors
- **Description**: Count of total database cursors.
- **Interval**: 0
- **Data Type**: 3

### Item: BoltDB nodes, rate
- **Description**: Count of total database nodes.
- **Interval**: 0
- **Data Type**: 3

### Item: BoltDB node dereferences, rate
- **Description**: Count of total database node dereferences.
- **Interval**: 0
- **Data Type**: 0

### Item: BoltDB page allocations, rate
- **Description**: Number of page allocations.
- **Interval**: 0
- **Data Type**: 0

### Item: BoltDB pages in use
- **Description**: Number of pages in use.
- **Interval**: 0
- **Data Type**: 3

### Item: BoltDB rebalance operations, rate
- **Description**: Count of total rebalance operations.
- **Interval**: 0
- **Data Type**: 0

### Item: BoltDB rebalance time
- **Description**: Sample of rebalance operation times.
- **Interval**: 0
- **Data Type**: 0

### Item: BoltDB spill operations, rate
- **Description**: Count of total spill operations.
- **Interval**: 0
- **Data Type**: 3

### Item: BoltDB spill time
- **Description**: Sample of spill operation times.
- **Interval**: 0
- **Data Type**: 0

### Item: BoltDB split operations, rate
- **Description**: Count of total split operations.
- **Interval**: 0
- **Data Type**: 3

### Item: BoltDB write operations, rate
- **Description**: Count of total write operations.
- **Interval**: 0
- **Data Type**: 3

### Item: BoltDB write time
- **Description**: Sample of write operation times.
- **Interval**: 0
- **Data Type**: 0

### Item: Cluster role
- **Description**: Current role in the cluster.
- **Interval**: 0
- **Data Type**: 3

### Item: Raft commit logs enqueued
- **Description**: Count of logs enqueued.
- **Interval**: 0
- **Data Type**: 3

### Item: Raft commit time
- **Description**: Time elapsed to commit writes.
- **Interval**: 0
- **Data Type**: 0

### Item: FSM apply time
- **Description**: Time elapsed to apply write to FSM.
- **Interval**: 0
- **Data Type**: 0

### Item: FSM autopilot time
- **Description**: Time elapsed to apply Autopilot raft entry.
- **Interval**: 0
- **Data Type**: 0

### Item: FSM enqueue time
- **Description**: Time elapsed to enqueue write to FSM.
- **Interval**: 0
- **Data Type**: 0

### Item: FSM register node time
- **Description**: Time elapsed to apply RegisterNode raft entry.
- **Interval**: 0
- **Data Type**: 0

### Item: Raft last index
- **Description**: Most recent index seen.
- **Interval**: 0
- **Data Type**: 3

### Item: Dispatch log time
- **Description**: Time elapsed to write log, mark in flight, and start replication.
- **Interval**: 0
- **Data Type**: 0

### Item: Logs dispatched
- **Description**: Count of logs dispatched.
- **Interval**: 0
- **Data Type**: 3

### Item: Leader last contact
- **Description**: Time since last contact to leader.
General indicator of Raft latency.
- **Interval**: 0
- **Data Type**: 0

### Item: Raft peers
- **Description**: Current cluster raft peers amount.
- **Interval**: 0
- **Data Type**: 3

### Item: Raft transaction commit time
- **Description**: Raft transaction commit time.
- **Interval**: 0
- **Data Type**: 3

### Item: Heartbeat fails
- **Description**: Count of failing to heartbeat and starting election.
- **Interval**: 0
- **Data Type**: 3

### Item: Resident memory size
- **Description**: Resident memory size in bytes.
- **Interval**: 0
- **Data Type**: 0

### Item: RPC queries, rate
- **Description**: Number of RPC queries.
- **Interval**: 0
- **Data Type**: 3

### Item: RPC requests, rate
- **Description**: Number of RPC requests being handled.
- **Interval**: 0
- **Data Type**: 3

### Item: RPC error requests, rate
- **Description**: Number of RPC requests being handled that result in an error.
- **Interval**: 0
- **Data Type**: 3

### Item: Memory used
- **Description**: Memory utilization in bytes.
- **Interval**: 0
- **Data Type**: 0

### Item: Objects freed, rate
- **Description**: Count of objects freed from heap by go runtime GC.
- **Interval**: 0
- **Data Type**: 0

### Item: GC pause time
- **Description**: Go runtime GC pause times.
- **Interval**: 0
- **Data Type**: 0

### Item: Heap objects
- **Description**: Number of objects on the heap.
General memory pressure indicator.
- **Interval**: 0
- **Data Type**: 3

### Item: Goroutines
- **Description**: Number of goroutines and general load pressure indicator.
- **Interval**: 0
- **Data Type**: 3

### Item: GC metadata size
- **Description**: Go runtime GC metadata size in bytes.
- **Interval**: 0
- **Data Type**: 0

### Item: GC runs
- **Description**: Count of go runtime GC runs.
- **Interval**: 0
- **Data Type**: 3

### Item: Allocation reschedule attempts
- **Description**: Count of attempts to reschedule an allocation.
- **Interval**: 0
- **Data Type**: 3

### Item: Memberlist events
- **Description**: Count of memberlist events received.
- **Interval**: 0
- **Data Type**: 0

### Item: Memberlist changes
- **Description**: Count of memberlist changes.
- **Interval**: 0
- **Data Type**: 0

### Item: Memberlist queries
- **Description**: Count of memberlist queries.
- **Interval**: 0
- **Data Type**: 0

### Item: Snapshot index
- **Description**: Current snapshot index.
- **Interval**: 0
- **Data Type**: 3

### Item: Internal stats API response
- **Description**: Internal stats API response message.
- **Interval**: 0
- **Data Type**: 4

### Item: Internal stats get
- **Description**: Internal stats data in raw format.
- **Interval**: 1h
- **Data Type**: 4

### Item: Vault tokens revoked
- **Description**: Count of revoked tokens.
- **Interval**: 0
- **Data Type**: 0

### Item: Vault token last renewal
- **Description**: Time since last successful Vault token renewal.
- **Interval**: 0
- **Data Type**: 0

### Item: Vault token next renewal
- **Description**: Time until next Vault token renewal attempt.
- **Interval**: 0
- **Data Type**: 0

### Item: Vault token TTL
- **Description**: Time to live for Vault token.
- **Interval**: 0
- **Data Type**: 0

### Item: Nomad server version
- **Description**: Nomad server version.
- **Interval**: 0
- **Data Type**: 1

### Item: Virtual memory size
- **Description**: Virtual memory size in bytes.
- **Interval**: 0
- **Data Type**: 0

### Item: Worker evaluation create time
- **Description**: Time elapsed for worker to create an eval.
- **Interval**: 0
- **Data Type**: 0

### Item: Worker evaluation dequeue time
- **Description**: Time elapsed for worker to dequeue an eval.
- **Interval**: 0
- **Data Type**: 0

### Item: Worker invoke scheduler time
- **Description**: Time elapsed for worker to invoke the scheduler.
- **Interval**: 0
- **Data Type**: 0

### Item: Worker acknowledgement send time
- **Description**: Time elapsed for worker to send acknowledgement.
- **Interval**: 0
- **Data Type**: 0

### Item: Worker submit plan time
- **Description**: Time elapsed for worker to submit plan.
- **Interval**: 0
- **Data Type**: 0

### Item: Worker update evaluation time
- **Description**: Time elapsed for worker to submit updated eval.
- **Interval**: 0
- **Data Type**: 0

### Item: Worker log replication time
- **Description**: Time elapsed that worker waits for the raft index of the eval to be processed.
- **Interval**: 0
- **Data Type**: 0

