# Kubernetes cluster state by HTTP template description

Get Kubernetes state metrics by HTTP.
Metrics are collected by requests to Kubernetes API.

Don't forget to read the README.md for the correct setup of the template.

You can discuss this template or leave feedback on our forum https://www.zabbix.com/forum/zabbix-suggestions-and-feedback

Generated by official Zabbix template tool "Templator"

## Summary
* [items](#items)
* [macros](#macros)
* [discoveries](#discoveries)
  * [Discovery Component statuses discovery ](#discovery_component_statuses_discovery)
  * [Discovery CronJob discovery ](#discovery_cronjob_discovery)
  * [Discovery Daemonset discovery ](#discovery_daemonset_discovery)
  * [Discovery Deployment discovery ](#discovery_deployment_discovery)
  * [Discovery Endpoint discovery ](#discovery_endpoint_discovery)
  * [Discovery Job discovery ](#discovery_job_discovery)
  * [Discovery Livez discovery ](#discovery_livez_discovery)
  * [Discovery Node discovery ](#discovery_node_discovery)
  * [Discovery PodDisruptionBudget discovery ](#discovery_poddisruptionbudget_discovery)
  * [Discovery Pod discovery ](#discovery_pod_discovery)
  * [Discovery PV discovery ](#discovery_pv_discovery)
  * [Discovery PVC discovery ](#discovery_pvc_discovery)
  * [Discovery Readyz discovery ](#discovery_readyz_discovery)
  * [Discovery ReplicaSet discovery ](#discovery_replicaset_discovery)
  * [Discovery StatefulSet discovery ](#discovery_statefulset_discovery)
  * [Discovery OpenShift Build discovery ](#discovery_openshift_build_discovery)
  * [Discovery OpenShift BuildConfig discovery ](#discovery_openshift_buildconfig_discovery)
  * [Discovery OpenShift ClusterResourceQuota discovery ](#discovery_openshift_clusterresourcequota_discovery)
  * [Discovery OpenShift Route discovery ](#discovery_openshift_route_discovery)

<a name="items"></a>

## Items
| name | description | key | type | delay |
| ------------- |------------- |------------- |------------- |------------- |
| Get component statuses | no description | kube.componentstatuses | HTTP_AGENT | no delay |
| Control plane LLD | Generation of data for Control plane discovery rules. | kube.control_plane.lld | SCRIPT | no delay |
| CronJob count | Number of cronjobs. | kube.cronjob.count | DEPENDENT | 0 |
| Deployment count | The number of deployments. | kube.deployment.count | DEPENDENT | 0 |
| Endpoint count | Number of endpoints. | kube.endpoint.count | DEPENDENT | 0 |
| Job count | Number of jobs (generated by cronjob + job). | kube.job.count | DEPENDENT | 0 |
| Get livez | no description | kube.livez | HTTP_AGENT | no delay |
| Namespace count | The number of namespaces. | kube.namespace.count | DEPENDENT | 0 |
| Node count | The number of nodes. | kube.node.count | DEPENDENT | 0 |
| Node LLD | Generation of data for Kubelet discovery rules. | kube.node.lld | SCRIPT | no delay |
| Get readyz | no description | kube.readyz | HTTP_AGENT | no delay |
| Service count | The number of services. | kube.service.count | DEPENDENT | 0 |
| Get state metrics | Collecting Kubernetes metrics from kube-state-metrics. | kube.state.metrics | SCRIPT | no delay |
| StatefulSet count | The number of statefulsets. | kube.statefulset.count | DEPENDENT | 0 |


<a name="macros"></a>

## Macros
| macro | value |
| ------------- |------------- |
| {$KUBE.API.COMPONENTSTATUSES.ENDPOINT} | /api/v1/componentstatuses |
| {$KUBE.API.LIVEZ.ENDPOINT} | /livez |
| {$KUBE.API.READYZ.ENDPOINT} | /readyz |
| {$KUBE.API.TOKEN} | no value |
| {$KUBE.API.URL} | https://kubernetes.default.svc.cluster.local:443 |
| {$KUBE.API_SERVER.PORT} | 6443 |
| {$KUBE.API_SERVER.SCHEME} | https |
| {$KUBE.CONTROLLER_MANAGER.PORT} | 10257 |
| {$KUBE.CONTROLLER_MANAGER.SCHEME} | https |
| {$KUBE.CONTROL_PLANE.TAINT} | node-role.kubernetes.io/control-plane |
| {$KUBE.HTTP.PROXY} | no value |
| {$KUBE.KUBELET.FILTER.ANNOTATIONS} | no value |
| {$KUBE.KUBELET.FILTER.LABELS} | no value |
| {$KUBE.KUBELET.PORT} | 10250 |
| {$KUBE.KUBELET.SCHEME} | https |
| {$KUBE.LLD.FILTER.KUBELET_NODE.MATCHES} | .* |
| {$KUBE.LLD.FILTER.KUBELET_NODE.NOT_MATCHES} | CHANGE_IF_NEEDED |
| {$KUBE.LLD.FILTER.NAMESPACE.MATCHES} | .* |
| {$KUBE.LLD.FILTER.NAMESPACE.NOT_MATCHES} | CHANGE_IF_NEEDED |
| {$KUBE.LLD.FILTER.NODE.MATCHES} | .* |
| {$KUBE.LLD.FILTER.NODE.NOT_MATCHES} | CHANGE_IF_NEEDED |
| {$KUBE.LLD.FILTER.PV.MATCHES} | .* |
| {$KUBE.LLD.FILTER.PV.NOT_MATCHES} | CHANGE_IF_NEEDED |
| {$KUBE.REPLICA.MISMATCH.EVAL_PERIOD} | #5 |
| {$KUBE.SCHEDULER.PORT} | 10259 |
| {$KUBE.SCHEDULER.SCHEME} | https |
| {$KUBE.STATE.ENDPOINT.NAME} | zabbix-kube-state-metrics |
| {$OPENSHIFT.STATE.ENDPOINT.NAME} | openshift-state-metrics |


<a name="discoveries"></a>

## Discoveries
| name | key | description | type | lifetime | delay |
| ------------- |------------- |------------- |------------- |------------- |------------- |
| API servers discovery | kube.api_servers.discovery | no description | DEPENDENT | no lifetime | 0 |
| Component statuses discovery | kube.componentstatuses.discovery | no description | DEPENDENT | no lifetime | 0 |
| Controller manager nodes discovery | kube.controller_manager.discovery | no description | DEPENDENT | no lifetime | 0 |
| CronJob discovery | kube.cronjob.discovery | no description | DEPENDENT | 0 | 0 |
| Daemonset discovery | kube.daemonset.discovery | no description | DEPENDENT | 0 | 0 |
| Deployment discovery | kube.deployment.discovery | no description | DEPENDENT | 0 | 0 |
| Endpoint discovery | kube.endpoint.discovery | no description | DEPENDENT | 0 | 0 |
| Job discovery | kube.job.discovery | no description | DEPENDENT | 0 | 0 |
| Kubelet discovery | kube.kubelet.discovery | no description | DEPENDENT | no lifetime | 0 |
| Livez discovery | kube.livez.discovery | no description | DEPENDENT | no lifetime | 0 |
| Node discovery | kube.node.discovery | no description | DEPENDENT | no lifetime | 0 |
| PodDisruptionBudget discovery | kube.pdb.discovery | no description | DEPENDENT | 0 | 0 |
| Pod discovery | kube.pod.discovery | no description | DEPENDENT | 0 | 0 |
| PV discovery | kube.pv.discovery | no description | DEPENDENT | 0 | 0 |
| PVC discovery | kube.pvc.discovery | no description | DEPENDENT | 0 | 0 |
| Readyz discovery | kube.readyz.discovery | no description | DEPENDENT | no lifetime | 0 |
| ReplicaSet discovery | kube.replicaset.discovery | no description | DEPENDENT | 0 | 0 |
| Scheduler servers nodes discovery | kube.scheduler.discovery | no description | DEPENDENT | no lifetime | 0 |
| StatefulSet discovery | kube.statefulset.discovery | no description | DEPENDENT | 0 | 0 |
| OpenShift Build discovery | openshift.build.discovery | no description | DEPENDENT | 0 | 0 |
| OpenShift BuildConfig discovery | openshift.buildconfig.discovery | no description | DEPENDENT | 0 | 0 |
| OpenShift ClusterResourceQuota discovery | openshift.cluster.resource.quota.discovery | no description | DEPENDENT | 0 | 0 |
| OpenShift Route discovery | openshift.route.discovery | no description | DEPENDENT | 0 | 0 |


<a name="discovery_component_statuses_discovery"></a>

## Discovery Component statuses discovery

### Items

| name | description | key | type |
| ------------- |------------- |------------- |------------- |
| Component [{#NAME}]: Healthy | Cluster component healthy. | kube.componentstatuses.healthy[{#NAME}] | DEPENDENT |


### Triggers

| name | priority | description | expression | tags | url |
| ------------- |------------- |------------- |------------- |------------- |------------- |
| Component [{#NAME}] is unhealthy | WARNING | no description | count(/Kubernetes cluster state by HTTP/kube.componentstatuses.healthy[{#NAME}],#3,,"True")<2 and length(last(/Kubernetes cluster state by HTTP/kube.componentstatuses.healthy[{#NAME}]))>0 | [{"tag": "scope", "value": "availability"}] | no url |


<a name="discovery_cronjob_discovery"></a>

## Discovery CronJob discovery

### Items

| name | description | key | type |
| ------------- |------------- |------------- |------------- |
| Namespace [{#NAMESPACE}] CronJob [{#NAME}]: Completion failed | Number of jobs the execution of which has failed. | kube.cronjob.completion.failed[{#NAMESPACE}/{#NAME}] | DEPENDENT |
| Namespace [{#NAMESPACE}] CronJob [{#NAME}]: Completion succeeded | Number of jobs the execution of which has been completed. | kube.cronjob.completion.succeeded[{#NAMESPACE}/{#NAME}] | DEPENDENT |
| Namespace [{#NAMESPACE}] CronJob [{#NAME}]: Last schedule | LastScheduleTime keeps information of when was the last time the job was successfully scheduled. | kube.cronjob.last_schedule_time[{#NAMESPACE}/{#NAME}] | DEPENDENT |
| Namespace [{#NAMESPACE}] CronJob [{#NAME}]: Next schedule | Next time the cronjob should be scheduled. The time after lastScheduleTime or after the cron job's creation time if it's never been scheduled. Use this to determine if the job is delayed. | kube.cronjob.next_schedule_time[{#NAMESPACE}/{#NAME}] | DEPENDENT |
| Namespace [{#NAMESPACE}] CronJob [{#NAME}]: Suspend | Suspend flag tells the controller to suspend subsequent executions. | kube.cronjob.spec_suspend[{#NAMESPACE}/{#NAME}] | DEPENDENT |
| Namespace [{#NAMESPACE}] CronJob [{#NAME}]: Active | Active holds pointers to currently running jobs. | kube.cronjob.status_active[{#NAMESPACE}/{#NAME}] | DEPENDENT |
| Namespace [{#NAMESPACE}] CronJob [{#NAME}]: Failed | The number of pods which reached the Failed phase and the reason for failure. | kube.cronjob.status_failed[{#NAMESPACE}/{#NAME}] | DEPENDENT |
| Namespace [{#NAMESPACE}] CronJob [{#NAME}]: Succeeded | The number of pods which reached the Succeeded phase. | kube.cronjob.status_succeeded[{#NAMESPACE}/{#NAME}] | DEPENDENT |


<a name="discovery_daemonset_discovery"></a>

## Discovery Daemonset discovery

### Items

| name | description | key | type |
| ------------- |------------- |------------- |------------- |
| Namespace [{#NAMESPACE}] Daemonset [{#NAME}]: Desired | The number of nodes that should be running the daemon pod. | kube.daemonset.desired[{#NAMESPACE}/{#NAME}] | DEPENDENT |
| Namespace [{#NAMESPACE}] Daemonset [{#NAME}]: Misscheduled | The number of nodes that run a daemon pod but are not supposed to. | kube.daemonset.misscheduled[{#NAMESPACE}/{#NAME}] | DEPENDENT |
| Namespace [{#NAMESPACE}] Daemonset [{#NAME}]: Ready | The number of nodes that should be running the daemon pod and have one or more running and ready. | kube.daemonset.ready[{#NAMESPACE}/{#NAME}] | DEPENDENT |
| Namespace [{#NAMESPACE}] Daemonset [{#NAME}]: Scheduled | The number of nodes that run at least one daemon pod and are supposed to. | kube.daemonset.scheduled[{#NAMESPACE}/{#NAME}] | DEPENDENT |
| Namespace [{#NAMESPACE}] Daemonset [{#NAME}]: Updated number scheduled | The total number of nodes that are running updated daemon pod. | kube.daemonset.updated[{#NAMESPACE}/{#NAME}] | DEPENDENT |


<a name="discovery_deployment_discovery"></a>

## Discovery Deployment discovery

### Items

| name | description | key | type |
| ------------- |------------- |------------- |------------- |
| Namespace [{#NAMESPACE}] Deployment [{#NAME}]: Replicas | The number of replicas per deployment. | kube.deployment.replicas[{#NAMESPACE}/{#NAME}] | DEPENDENT |
| Namespace [{#NAMESPACE}] Deployment [{#NAME}]: Replicas available | The number of available replicas per deployment. | kube.deployment.replicas_available[{#NAMESPACE}/{#NAME}] | DEPENDENT |
| Namespace [{#NAMESPACE}] Deployment [{#NAME}]: Replicas desired | Number of desired pods for a deployment. | kube.deployment.replicas_desired[{#NAMESPACE}/{#NAME}] | DEPENDENT |
| Namespace [{#NAMESPACE}] Deployment [{#NAME}]: Replicas mismatched | The number of available replicas not matching the desired number of replicas. | kube.deployment.replicas_mismatched[{#NAMESPACE}/{#NAME}] | DEPENDENT |
| Namespace [{#NAMESPACE}] Deployment [{#NAME}]: Replicas unavailable | The number of unavailable replicas per deployment. | kube.deployment.replicas_unavailable[{#NAMESPACE}/{#NAME}] | DEPENDENT |
| Namespace [{#NAMESPACE}] Deployment [{#NAME}]: Replicas updated | The number of updated replicas per deployment. | kube.deployment.replicas_updated[{#NAMESPACE}/{#NAME}] | DEPENDENT |
| Namespace [{#NAMESPACE}] Deployment [{#NAME}]: Rollingupdate max unavailable | Maximum number of unavailable replicas during a rolling update of a deployment. | kube.deployment.rollingupdate.max_unavailable[{#NAMESPACE}/{#NAME}] | DEPENDENT |
| Namespace [{#NAMESPACE}] Deployment [{#NAME}]: Paused | Whether the deployment is paused and will not be processed by the deployment controller. | kube.deployment.spec_paused[{#NAMESPACE}/{#NAME}] | DEPENDENT |


### Triggers

| name | priority | description | expression | tags | url |
| ------------- |------------- |------------- |------------- |------------- |------------- |
| Namespace [{#NAMESPACE}] Deployment [{#NAME}]: Deployment replicas mismatch | WARNING | Deployment has not matched the expected number of replicas during the specified trigger evaluation period. | min(/Kubernetes cluster state by HTTP/kube.deployment.replicas_mismatched[{#NAMESPACE}/{#NAME}],{$KUBE.REPLICA.MISMATCH.EVAL_PERIOD:"deployment:{#NAMESPACE}:{#NAME}"})>0<br>and last(/Kubernetes cluster state by HTTP/kube.deployment.replicas_desired[{#NAMESPACE}/{#NAME}])>=0<br>and last(/Kubernetes cluster state by HTTP/kube.deployment.replicas_available[{#NAMESPACE}/{#NAME}])>=0 | [{"tag": "scope", "value": "availability"}] | no url |


<a name="discovery_endpoint_discovery"></a>

## Discovery Endpoint discovery

### Items

| name | description | key | type |
| ------------- |------------- |------------- |------------- |
| Namespace [{#NAMESPACE}] Endpoint [{#NAME}]: Address available | Number of addresses available in endpoint. | kube.endpoint.address_available[{#NAMESPACE}/{#NAME}] | DEPENDENT |
| Namespace [{#NAMESPACE}] Endpoint [{#NAME}]: Address not ready | Number of addresses not ready in endpoint. | kube.endpoint.address_not_ready[{#NAMESPACE}/{#NAME}] | DEPENDENT |
| Namespace [{#NAMESPACE}] Endpoint [{#NAME}]: Age | Endpoint age (number of seconds since creation). | kube.endpoint.age[{#NAMESPACE}/{#NAME}] | DEPENDENT |


<a name="discovery_job_discovery"></a>

## Discovery Job discovery

### Items

| name | description | key | type |
| ------------- |------------- |------------- |------------- |
| Namespace [{#NAMESPACE}] Job [{#NAME}]: Completion failed | Number of jobs the execution of which has failed. | kube.job.completion.failed[{#NAMESPACE}/{#NAME}] | DEPENDENT |
| Namespace [{#NAMESPACE}] Job [{#NAME}]: Completion succeeded | Number of jobs the execution of which has been completed. | kube.job.completion.succeeded[{#NAMESPACE}/{#NAME}] | DEPENDENT |
| Namespace [{#NAMESPACE}] Job [{#NAME}]: Failed | The number of pods which reached the Failed phase and the reason for failure. | kube.job.status_failed[{#NAMESPACE}/{#NAME}] | DEPENDENT |
| Namespace [{#NAMESPACE}] Job [{#NAME}]: Succeeded | The number of pods which reached the Succeeded phase. | kube.job.status_succeeded[{#NAMESPACE}/{#NAME}] | DEPENDENT |


<a name="discovery_livez_discovery"></a>

## Discovery Livez discovery

### Items

| name | description | key | type |
| ------------- |------------- |------------- |------------- |
| Livez [{#NAME}]: Healthcheck | Result of livez healthcheck for component. | kube.livez.healthcheck[{#NAME}] | DEPENDENT |


### Triggers

| name | priority | description | expression | tags | url |
| ------------- |------------- |------------- |------------- |------------- |------------- |
| Livez [{#NAME}] is unhealthy | WARNING | no description | count(/Kubernetes cluster state by HTTP/kube.livez.healthcheck[{#NAME}],#3,,"ok")<2 and length(last(/Kubernetes cluster state by HTTP/kube.livez.healthcheck[{#NAME}]))>0 | [{"tag": "scope", "value": "availability"}] | no url |


<a name="discovery_node_discovery"></a>

## Discovery Node discovery

### Items

| name | description | key | type |
| ------------- |------------- |------------- |------------- |
| Node [{#NAME}]: CPU allocatable | The CPU resources of a node that are available for scheduling. | kube.node.cpu_allocatable[{#NAME}] | DEPENDENT |
| Node [{#NAME}]: CPU capacity | The capacity for CPU resources of a node. | kube.node.cpu_capacity[{#NAME}] | DEPENDENT |
| Node [{#NAME}]: Ephemeral storage allocatable | The allocatable ephemeral storage of a node that is available for scheduling. | kube.node.ephemeral_storage_allocatable[{#NAME}] | DEPENDENT |
| Node [{#NAME}]: Ephemeral storage capacity | The ephemeral storage capacity of a node. | kube.node.ephemeral_storage_capacity[{#NAME}] | DEPENDENT |
| Node [{#NAME}]: Memory allocatable | The memory resources of a node that are available for scheduling. | kube.node.memory_allocatable[{#NAME}] | DEPENDENT |
| Node [{#NAME}]: Memory capacity | The capacity for memory resources of a node. | kube.node.memory_capacity[{#NAME}] | DEPENDENT |
| Node [{#NAME}]: Pods allocatable | The pods resources of a node that are available for scheduling. | kube.node.pods_allocatable[{#NAME}] | DEPENDENT |
| Node [{#NAME}]: Pods capacity | The capacity for pods resources of a node. | kube.node.pods_capacity[{#NAME}] | DEPENDENT |


<a name="discovery_poddisruptionbudget_discovery"></a>

## Discovery PodDisruptionBudget discovery

### Items

| name | description | key | type |
| ------------- |------------- |------------- |------------- |
| Namespace [{#NAMESPACE}] PodDisruptionBudget [{#NAME}]: Disruptions allowed | Number of pod disruptions that are allowed. | kube.pdb.disruptions_allowed[{#NAMESPACE}/{#NAME}] | DEPENDENT |
| Namespace [{#NAMESPACE}] PodDisruptionBudget [{#NAME}]: Pods desired | Minimum desired number of healthy pods. | kube.pdb.pods_desired[{#NAMESPACE}/{#NAME}] | DEPENDENT |
| Namespace [{#NAMESPACE}] PodDisruptionBudget [{#NAME}]: Pods healthy | Current number of healthy pods. | kube.pdb.pods_healthy[{#NAMESPACE}/{#NAME}] | DEPENDENT |
| Namespace [{#NAMESPACE}] PodDisruptionBudget [{#NAME}]: Pods total | Total number of pods counted by this disruption budget. | kube.pdb.pods_total[{#NAMESPACE}/{#NAME}] | DEPENDENT |


<a name="discovery_pod_discovery"></a>

## Discovery Pod discovery

### Items

| name | description | key | type |
| ------------- |------------- |------------- |------------- |
| Namespace [{#NAMESPACE}] Pod [{#NAME}]: Containers CPU limits | The limit on CPU cores to be used by a container. | kube.pod.containers.limits.cpu[{#NAMESPACE}/{#NAME}] | DEPENDENT |
| Namespace [{#NAMESPACE}] Pod [{#NAME}]: Containers memory limits | The limit on memory to be used by a container. | kube.pod.containers.limits.memory[{#NAMESPACE}/{#NAME}] | DEPENDENT |
| Namespace [{#NAMESPACE}] Pod [{#NAME}]: Containers CPU requests | The number of requested CPU cores by a container. | kube.pod.containers.requests.cpu[{#NAMESPACE}/{#NAME}] | DEPENDENT |
| Namespace [{#NAMESPACE}] Pod [{#NAME}]: Containers memory requests | The number of requested memory bytes by a container. | kube.pod.containers.requests.memory[{#NAMESPACE}/{#NAME}] | DEPENDENT |
| Namespace [{#NAMESPACE}] Pod [{#NAME}]: Containers ready | Describes whether the containers readiness check succeeded. | kube.pod.containers_ready[{#NAMESPACE}/{#NAME}] | DEPENDENT |
| Namespace [{#NAMESPACE}] Pod [{#NAME}]: Containers restarts | The number of container restarts. | kube.pod.containers_restarts[{#NAMESPACE}/{#NAME}] | DEPENDENT |
| Namespace [{#NAMESPACE}] Pod [{#NAME}]: Containers running | Describes whether the container is currently in running state. | kube.pod.containers_running[{#NAMESPACE}/{#NAME}] | DEPENDENT |
| Namespace [{#NAMESPACE}] Pod [{#NAME}]: Containers terminated | Describes whether the container is currently in terminated state. | kube.pod.containers_terminated[{#NAMESPACE}/{#NAME}] | DEPENDENT |
| Namespace [{#NAMESPACE}] Pod [{#NAME}]: Containers waiting | Describes whether the container is currently in waiting state. | kube.pod.containers_waiting[{#NAMESPACE}/{#NAME}] | DEPENDENT |
| Namespace [{#NAMESPACE}] Pod [{#NAME}] Phase: Failed | Pod is in failed state. | kube.pod.phase.failed[{#NAMESPACE}/{#NAME}] | DEPENDENT |
| Namespace [{#NAMESPACE}] Pod [{#NAME}] Phase: Pending | Pod is in pending state. | kube.pod.phase.pending[{#NAMESPACE}/{#NAME}] | DEPENDENT |
| Namespace [{#NAMESPACE}] Pod [{#NAME}] Phase: Running | Pod is in unknown state. | kube.pod.phase.running[{#NAMESPACE}/{#NAME}] | DEPENDENT |
| Namespace [{#NAMESPACE}] Pod [{#NAME}] Phase: Succeeded | Pod is in succeeded state. | kube.pod.phase.succeeded[{#NAMESPACE}/{#NAME}] | DEPENDENT |
| Namespace [{#NAMESPACE}] Pod [{#NAME}] Phase: Unknown | Pod is in unknown state. | kube.pod.phase.unknown[{#NAMESPACE}/{#NAME}] | DEPENDENT |
| Namespace [{#NAMESPACE}] Pod [{#NAME}]: Ready | Describes whether the pod is ready to serve requests. | kube.pod.ready[{#NAMESPACE}/{#NAME}] | DEPENDENT |
| Namespace [{#NAMESPACE}] Pod [{#NAME}]: Scheduled | Describes the status of the scheduling process for the pod. | kube.pod.scheduled[{#NAMESPACE}/{#NAME}] | DEPENDENT |
| Namespace [{#NAMESPACE}] Pod [{#NAME}]: Unschedulable | Describes the unschedulable status for the pod. | kube.pod.unschedulable[{#NAMESPACE}/{#NAME}] | DEPENDENT |


### Triggers

| name | priority | description | expression | tags | url |
| ------------- |------------- |------------- |------------- |------------- |------------- |
| Namespace [{#NAMESPACE}] Pod [{#NAME}]: Pod is crash looping | WARNING | Containers of the pod keep restarting. This most likely indicates that the pod is in the CrashLoopBackOff state. | (last(/Kubernetes cluster state by HTTP/kube.pod.containers_restarts[{#NAMESPACE}/{#NAME}])-min(/Kubernetes cluster state by HTTP/kube.pod.containers_restarts[{#NAMESPACE}/{#NAME}],15m))>1 | [{"tag": "scope", "value": "availability"}] | no url |
| Namespace [{#NAMESPACE}] Pod [{#NAME}]: Pod is not healthy | HIGH | no description | min(/Kubernetes cluster state by HTTP/kube.pod.phase.failed[{#NAMESPACE}/{#NAME}],10m)>0 or min(/Kubernetes cluster state by HTTP/kube.pod.phase.pending[{#NAMESPACE}/{#NAME}],10m)>0 or min(/Kubernetes cluster state by HTTP/kube.pod.phase.unknown[{#NAMESPACE}/{#NAME}],10m)>0 | [{"tag": "scope", "value": "availability"}] | no url |


<a name="discovery_pv_discovery"></a>

## Discovery PV discovery

### Items

| name | description | key | type |
| ------------- |------------- |------------- |------------- |
| PV [{#NAME}] Capacity bytes | A capacity of the persistent volume in bytes. | kube.pv.capacity.bytes[{#NAME}] | DEPENDENT |
| PV status phase: Available, sum | The total amount of persistent volumes in the Available phase. | kube.pv.status_phase.available.sum[{#SINGLETON}] | DEPENDENT |
| PV status phase: Bound, sum | The total amount of persistent volumes in the Bound phase. | kube.pv.status_phase.bound.sum[{#SINGLETON}] | DEPENDENT |
| PV status phase: Failed, sum | The total amount of persistent volumes in the Failed phase. | kube.pv.status_phase.failed.sum[{#SINGLETON}] | DEPENDENT |
| PV status phase: Pending, sum | The total amount of persistent volumes in the Pending phase. | kube.pv.status_phase.pending.sum[{#SINGLETON}] | DEPENDENT |
| PV status phase: Released, sum | The total amount of persistent volumes in the Released phase. | kube.pv.status_phase.released.sum[{#SINGLETON}] | DEPENDENT |
| PV [{#NAME}] Status phase | The current status phase of the persistent volume. | kube.pv.status_phase[{#NAME}] | DEPENDENT |


### Triggers

| name | priority | description | expression | tags | url |
| ------------- |------------- |------------- |------------- |------------- |------------- |
| PV [{#NAME}]: PV has failed | WARNING | no description | count(/Kubernetes cluster state by HTTP/kube.pv.status_phase[{#NAME}],2m,,3)>=2 | [{"tag": "scope", "value": "availability"}] | no url |


<a name="discovery_pvc_discovery"></a>

## Discovery PVC discovery

### Items

| name | description | key | type |
| ------------- |------------- |------------- |------------- |
| Namespace [{#NAMESPACE}] PVC [{#NAME}] Requested storage | The capacity of storage requested by the persistent volume claim. | kube.pvc.requested.storage[{#NAMESPACE}/{#NAME}] | DEPENDENT |
| Namespace [{#NAMESPACE}] PVC status phase: Bound, sum | The total amount of persistent volume claims in the Bound phase. | kube.pvc.status_phase.bound.sum[{#NAMESPACE}] | DEPENDENT |
| Namespace [{#NAMESPACE}] PVC status phase: Lost, sum | The total amount of persistent volume claims in the Lost phase. | kube.pvc.status_phase.lost.sum[{#NAMESPACE}] | DEPENDENT |
| Namespace [{#NAMESPACE}] PVC status phase: Pending, sum | The total amount of persistent volume claims in the Pending phase. | kube.pvc.status_phase.pending.sum[{#NAMESPACE}] | DEPENDENT |
| Namespace [{#NAMESPACE}] PVC [{#NAME}] Status phase | The current status phase of the persistent volume claim. | kube.pvc.status_phase[{#NAMESPACE}/{#NAME}] | DEPENDENT |


### Triggers

| name | priority | description | expression | tags | url |
| ------------- |------------- |------------- |------------- |------------- |------------- |
| NS [{#NAMESPACE}] PVC [{#NAME}]: PVC is pending | WARNING | no description | count(/Kubernetes cluster state by HTTP/kube.pvc.status_phase[{#NAMESPACE}/{#NAME}],2m,,5)>=2 | [{"tag": "scope", "value": "availability"}] | no url |


<a name="discovery_readyz_discovery"></a>

## Discovery Readyz discovery

### Items

| name | description | key | type |
| ------------- |------------- |------------- |------------- |
| Readyz [{#NAME}]: Healthcheck | Result of readyz healthcheck for component. | kube.readyz.healthcheck[{#NAME}] | DEPENDENT |


### Triggers

| name | priority | description | expression | tags | url |
| ------------- |------------- |------------- |------------- |------------- |------------- |
| Readyz [{#NAME}] is unhealthy | WARNING | no description | count(/Kubernetes cluster state by HTTP/kube.readyz.healthcheck[{#NAME}],#3,,"ok")<2 and length(last(/Kubernetes cluster state by HTTP/kube.readyz.healthcheck[{#NAME}]))>0 | [{"tag": "scope", "value": "availability"}] | no url |


<a name="discovery_replicaset_discovery"></a>

## Discovery ReplicaSet discovery

### Items

| name | description | key | type |
| ------------- |------------- |------------- |------------- |
| Namespace [{#NAMESPACE}] ReplicaSet [{#NAME}]: Fully labeled replicas | The number of fully labeled replicas per ReplicaSet. | kube.replicaset.fully_labeled_replicas[{#NAMESPACE}/{#NAME}] | DEPENDENT |
| Namespace [{#NAMESPACE}] ReplicaSet [{#NAME}]: Ready | The number of ready replicas per ReplicaSet. | kube.replicaset.ready[{#NAMESPACE}/{#NAME}] | DEPENDENT |
| Namespace [{#NAMESPACE}] ReplicaSet [{#NAME}]: Replicas | The number of replicas per ReplicaSet. | kube.replicaset.replicas[{#NAMESPACE}/{#NAME}] | DEPENDENT |
| Namespace [{#NAMESPACE}] ReplicaSet [{#NAME}]: Desired replicas | Number of desired pods for a ReplicaSet. | kube.replicaset.replicas_desired[{#NAMESPACE}/{#NAME}] | DEPENDENT |
| Namespace [{#NAMESPACE}] ReplicaSet [{#NAME}]: Replicas mismatched | The number of ready replicas not matching the desired number of replicas. | kube.replicaset.replicas_mismatched[{#NAMESPACE}/{#NAME}] | DEPENDENT |


### Triggers

| name | priority | description | expression | tags | url |
| ------------- |------------- |------------- |------------- |------------- |------------- |
| Namespace [{#NAMESPACE}] RS [{#NAME}]: ReplicaSet mismatch | WARNING | ReplicaSet has not matched the expected number of replicas during the specified trigger evaluation period. | min(/Kubernetes cluster state by HTTP/kube.replicaset.replicas_mismatched[{#NAMESPACE}/{#NAME}],{$KUBE.REPLICA.MISMATCH.EVAL_PERIOD:"replicaset:{#NAMESPACE}:{#NAME}"})>0<br>and last(/Kubernetes cluster state by HTTP/kube.replicaset.replicas_desired[{#NAMESPACE}/{#NAME}])>=0<br>and last(/Kubernetes cluster state by HTTP/kube.replicaset.ready[{#NAMESPACE}/{#NAME}])>=0 | [{"tag": "scope", "value": "availability"}] | no url |


<a name="discovery_statefulset_discovery"></a>

## Discovery StatefulSet discovery

### Items

| name | description | key | type |
| ------------- |------------- |------------- |------------- |
| Namespace [{#NAMESPACE}] StatefulSet [{#NAME}]: Replicas | The number of replicas per StatefulSet. | kube.statefulset.replicas[{#NAMESPACE}/{#NAME}] | DEPENDENT |
| Namespace [{#NAMESPACE}] StatefulSet [{#NAME}]: Current replicas | The number of current replicas per StatefulSet. | kube.statefulset.replicas_current[{#NAMESPACE}/{#NAME}] | DEPENDENT |
| Namespace [{#NAMESPACE}] StatefulSet [{#NAME}]: Desired replicas | Number of desired pods for a StatefulSet. | kube.statefulset.replicas_desired[{#NAMESPACE}/{#NAME}] | DEPENDENT |
| Namespace [{#NAMESPACE}] StatefulSet [{#NAME}]: Replicas mismatched | The number of ready replicas not matching the number of replicas. | kube.statefulset.replicas_mismatched[{#NAMESPACE}/{#NAME}] | DEPENDENT |
| Namespace [{#NAMESPACE}] StatefulSet [{#NAME}]: Ready replicas | The number of ready replicas per StatefulSet. | kube.statefulset.replicas_ready[{#NAMESPACE}/{#NAME}] | DEPENDENT |
| Namespace [{#NAMESPACE}] StatefulSet [{#NAME}]: Updated replicas | The number of updated replicas per StatefulSet. | kube.statefulset.replicas_updated[{#NAMESPACE}/{#NAME}] | DEPENDENT |


### Triggers

| name | priority | description | expression | tags | url |
| ------------- |------------- |------------- |------------- |------------- |------------- |
| Namespace [{#NAMESPACE}] StatefulSet [{#NAME}]: StatefulSet is down | HIGH | no description | (last(/Kubernetes cluster state by HTTP/kube.statefulset.replicas_ready[{#NAMESPACE}/{#NAME}]) / last(/Kubernetes cluster state by HTTP/kube.statefulset.replicas_current[{#NAMESPACE}/{#NAME}]))<>1 | [{"tag": "scope", "value": "availability"}] | no url |
| Namespace [{#NAMESPACE}] StatefulSet [{#NAME}]: StatefulSet replicas mismatch | WARNING | StatefulSet has not matched the number of replicas during the specified trigger evaluation period. | min(/Kubernetes cluster state by HTTP/kube.statefulset.replicas_mismatched[{#NAMESPACE}/{#NAME}],{$KUBE.REPLICA.MISMATCH.EVAL_PERIOD:"statefulset:{#NAMESPACE}:{#NAME}"})>0<br>and last(/Kubernetes cluster state by HTTP/kube.statefulset.replicas[{#NAMESPACE}/{#NAME}])>=0<br>and last(/Kubernetes cluster state by HTTP/kube.statefulset.replicas_ready[{#NAMESPACE}/{#NAME}])>=0 | [{"tag": "scope", "value": "availability"}] | no url |


<a name="discovery_openshift_build_discovery"></a>

## Discovery OpenShift Build discovery

### Items

| name | description | key | type |
| ------------- |------------- |------------- |------------- |
| Namespace [{#NAMESPACE}] Build [{#NAME}]: Created | OpenShift Build Unix creation timestamp. | openshift.build.created.time[{#NAMESPACE}/{#NAME}] | DEPENDENT |
| Namespace [{#NAMESPACE}] Build [{#NAME}]: Generation | Sequence number representing a specific generation of the desired state. | openshift.build.sequence.number[{#NAMESPACE}/{#NAME}] | DEPENDENT |
| Namespace [{#NAMESPACE}] Build [{#NAME}]: Status phase | The Build phase. | openshift.build.status_phase[{#NAMESPACE}/{#NAME}] | DEPENDENT |


### Triggers

| name | priority | description | expression | tags | url |
| ------------- |------------- |------------- |------------- |------------- |------------- |
| Build [{#NAME}]: Build has failed | WARNING | no description | count(/Kubernetes cluster state by HTTP/openshift.build.status_phase[{#NAMESPACE}/{#NAME}],2m,"ge",6)>=2 | [{"tag": "scope", "value": "availability"}] | no url |


<a name="discovery_openshift_buildconfig_discovery"></a>

## Discovery OpenShift BuildConfig discovery

### Items

| name | description | key | type |
| ------------- |------------- |------------- |------------- |
| Namespace [{#NAMESPACE}] BuildConfig [{#NAME}]: Created | OpenShift BuildConfig Unix creation timestamp. | openshift.buildconfig.created.time[{#NAMESPACE}/{#NAME}] | DEPENDENT |
| Namespace [{#NAMESPACE}] BuildConfig [{#NAME}]: Generation | Sequence number representing a specific generation of the desired state. | openshift.buildconfig.generation[{#NAMESPACE}/{#NAME}] | DEPENDENT |
| Namespace [{#NAMESPACE}] BuildConfig [{#NAME}]: Latest version | The latest version of BuildConfig. | openshift.buildconfig.status[{#NAMESPACE}/{#NAME}] | DEPENDENT |


<a name="discovery_openshift_clusterresourcequota_discovery"></a>

## Discovery OpenShift ClusterResourceQuota discovery

### Items

| name | description | key | type |
| ------------- |------------- |------------- |------------- |
| Quota [{#NAME}] Resource [{#RESOURCE}]: Type [{#TYPE}]] | Usage about resource quota. | openshift.cluster.resource.quota[{#RESOURCE}/{#NAME}/{#TYPE}] | DEPENDENT |


<a name="discovery_openshift_route_discovery"></a>

## Discovery OpenShift Route discovery

### Items

| name | description | key | type |
| ------------- |------------- |------------- |------------- |
| Namespace [{#NAMESPACE}] Route [{#NAME}]: Created | OpenShift Route Unix creation timestamp. | openshift.route.created.time[{#NAMESPACE}/{#NAME}] | DEPENDENT |
| Namespace [{#NAMESPACE}] Route [{#NAME}]: Status | Information about route status. | openshift.route.status[{#NAMESPACE}/{#NAME}] | DEPENDENT |


### Triggers

| name | priority | description | expression | tags | url |
| ------------- |------------- |------------- |------------- |------------- |------------- |
| Route [{#NAME}] with issue: Status is false | WARNING | no description | count(/Kubernetes cluster state by HTTP/openshift.route.status[{#NAMESPACE}/{#NAME}],2m,,0)>=2 | [{"tag": "scope", "value": "availability"}] | no url |

