# Template: AWS EC2 by HTTP

## Template ID
10527

## Description
Get AWS EC2 and attached AWS EBS volumes metrics and uses the script item to make HTTP requests to the CloudWatch API.
Don't forget to read the README.md for the correct setup of the template.

You can discuss this template or leave feedback on our forum https://www.zabbix.com/forum/zabbix-suggestions-and-feedback

Generated by official Zabbix template tool "Templator"

## Linked Hosts
None

## Items

### Item: Get alarms check
- **Description**: Check result of the alarm data has been got correctly.
- **Interval**: 0
- **Data Type**: 1

### Item: Credit CPU: Balance
- **Description**: The number of earned CPU credits that an instance has accrued since it was launched or started. For T2 Standard, the CPUCreditBalance also includes the number of launch credits that have been accrued.
Credits are accrued in the credit balance after they are earned, and removed from the credit balance when they are spent. The credit balance has a maximum limit, determined by the instance size. After the limit is reached, any new credits that are earned are discarded. For T2 Standard, launch credits do not count towards the limit.
The credits in the CPUCreditBalance are available for the instance to spend to burst beyond its baseline CPU utilization.
When an instance is running, credits in the CPUCreditBalance do not expire. When a T3 or T3a instance stops, the CPUCreditBalance value persists for seven days. Thereafter, all accrued credits are lost. When a T2 instance stops, the CPUCreditBalance value does not persist, and all accrued credits are lost.
- **Interval**: 0
- **Data Type**: 0

### Item: Credit CPU: Usage
- **Description**: The number of CPU credits spent by the instance for CPU utilization.
One CPU credit equals one vCPU running at 100% utilization for one minute or an equivalent combination of vCPUs, utilization, and time (for example, one vCPU running at 50% utilization for two minutes or two vCPUs running at 25% utilization for two minutes).
- **Interval**: 0
- **Data Type**: 0

### Item: Credit CPU: Surplus balance
- **Description**: The number of surplus credits that have been spent by an unlimited instance when its CPUCreditBalance value is zero.
The CPUSurplusCreditBalance value is paid down by earned CPU credits. If the number of surplus credits exceeds the maximum number of credits that the instance can earn in a 24-hour period, the spent surplus credits above the maximum incur an additional charge.
- **Interval**: 0
- **Data Type**: 0

### Item: Credit CPU: Surplus charged
- **Description**: The number of spent surplus credits that are not paid down by earned CPU credits, and which thus incur an additional charge.

Spent surplus credits are charged when any of the following occurs:
- The spent surplus credits exceed the maximum number of credits that the instance can earn in a 24-hour period. Spent surplus credits above the maximum are charged at the end of the hour;
- The instance is stopped or terminated;
- The instance is switched from unlimited to standard.
- **Interval**: 0
- **Data Type**: 0

### Item: CPU: Utilization
- **Description**: The percentage of allocated EC2 compute units that are currently in use on the instance. This metric identifies the processing power required to run an application on a selected instance.
Depending on the instance type, tools in your operating system can show a lower percentage than CloudWatch when the instance is not allocated a full processor core.
- **Interval**: 0
- **Data Type**: 0

### Item: Disk: Read bytes, rate
- **Description**: Bytes read from all instance store volumes available to the instance.
This metric is used to determine the volume of the data the application reads from the hard disk of the instance.
This can be used to determine the speed of the application.
If there are no instance store volumes, either the value is 0 or the metric is not reported.
- **Interval**: 0
- **Data Type**: 0

### Item: Disk: Read, rate
- **Description**: Completed read operations from all instance store volumes available to the instance in a specified period of time.
If there are no instance store volumes, either the value is 0 or the metric is not reported.
- **Interval**: 0
- **Data Type**: 0

### Item: Disk: Write bytes, rate
- **Description**: Bytes written to all instance store volumes available to the instance.
This metric is used to determine the volume of the data the application writes onto the hard disk of the instance.
This can be used to determine the speed of the application.
If there are no instance store volumes, either the value is 0 or the metric is not reported.
- **Interval**: 0
- **Data Type**: 0

### Item: Disk: Write ops, rate
- **Description**: Completed write operations to all instance store volumes available to the instance in a specified period of time.
If there are no instance store volumes, either the value is 0 or the metric is not reported.
- **Interval**: 0
- **Data Type**: 0

### Item: EBS: Byte balance
- **Description**: Percentage of throughput credits remaining in the burst bucket for Nitro-based instances.
- **Interval**: 0
- **Data Type**: 0

### Item: EBS: IO balance
- **Description**: Percentage of I/O credits remaining in the burst bucket for Nitro-based instances.
- **Interval**: 0
- **Data Type**: 0

### Item: EBS: Read bytes, rate
- **Description**: Bytes read from all EBS volumes attached to the instance for Nitro-based instances.
- **Interval**: 0
- **Data Type**: 0

### Item: EBS: Read, rate
- **Description**: Completed read operations from all Amazon EBS volumes attached to the instance for Nitro-based instances.
- **Interval**: 0
- **Data Type**: 0

### Item: EBS: Write bytes, rate
- **Description**: Bytes written to all EBS volumes attached to the instance for Nitro-based instances.
- **Interval**: 0
- **Data Type**: 0

### Item: EBS: Write, rate
- **Description**: Completed write operations to all EBS volumes attached to the instance in a specified period of time.
- **Interval**: 0
- **Data Type**: 0

### Item: Get instance alarms data
- **Description**: DescribeAlarms API method: https://docs.aws.amazon.com/AmazonCloudWatch/latest/APIReference/API_DescribeAlarms.html
- **Interval**: 0s;m/1
- **Data Type**: 4

### Item: Get metrics data
- **Description**: Get instance metrics.
Full metrics list related to EC2: https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/viewing_metrics_with_cloudwatch.html
- **Interval**: 0s;m/5
- **Data Type**: 4

### Item: Get volumes data
- **Description**: Get volumes attached to instance.
DescribeVolumes API method: https://docs.aws.amazon.com/AWSEC2/latest/APIReference/API_DescribeVolumes.html
- **Interval**: 5m
- **Data Type**: 4

### Item: Metadata: No token
- **Description**: The number of times the instance metadata service was successfully accessed using a method that does not use a token.
This metric is used to determine if there are any processes accessing instance metadata that are using Instance Metadata Service Version 1, which does not use a token.
If all requests use token-backed sessions, i.e., Instance Metadata Service Version 2, the value is 0.
- **Interval**: 0
- **Data Type**: 0

### Item: Get metrics check
- **Description**: Check result of the instance metric data has been got correctly.
- **Interval**: 0
- **Data Type**: 1

### Item: Network: Bytes in, rate
- **Description**: The number of bytes received on all network interfaces by the instance.
This metric identifies the volume of incoming network traffic to a single instance.
- **Interval**: 0
- **Data Type**: 0

### Item: Network: Bytes out, rate
- **Description**: The number of bytes sent out on all network interfaces by the instance. 
This metric identifies the volume of outgoing network traffic from a single instance.
- **Interval**: 0
- **Data Type**: 0

### Item: Network: Packets in, rate
- **Description**: The number of packets received on all network interfaces by the instance.
This metric identifies the volume of incoming traffic in terms of the number of packets on a single instance.
This metric is available for basic monitoring only.
- **Interval**: 0
- **Data Type**: 0

### Item: Network: Packets out, rate
- **Description**: The number of packets sent out on all network interfaces by the instance.
This metric identifies the volume of outgoing traffic in terms of the number of packets on a single instance.
This metric is available for basic monitoring only.
- **Interval**: 0
- **Data Type**: 0

### Item: Status: Check failed
- **Description**: Reports whether the instance has passed both the instance status check and the system status check in the last minute.
This metric can be either 0 (passed) or 1 (failed).
- **Interval**: 0
- **Data Type**: 3

### Item: Status: Check failed, instance
- **Description**: Reports whether the instance has passed the instance status check in the last minute.
This metric can be either 0 (passed) or 1 (failed).
- **Interval**: 0
- **Data Type**: 3

### Item: Status: Check failed, system
- **Description**: Reports whether the instance has passed the system status check in the last minute.
This metric can be either 0 (passed) or 1 (failed).
- **Interval**: 0
- **Data Type**: 3

### Item: Get volumes info check
- **Description**: Check result of the volume information has been got correctly.
- **Interval**: 0
- **Data Type**: 1

