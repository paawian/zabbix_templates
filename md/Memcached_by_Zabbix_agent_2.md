# Memcached by Zabbix agent 2 template description

Get Memcached metrics from plugin for the New Zabbix Agent (zabbix-agent2).

You can discuss this template or leave feedback on our forum https://www.zabbix.com/forum/zabbix-suggestions-and-feedback/398623-discussion-thread-for-official-zabbix-template-memcached

Generated by official Zabbix template tool "Templator"

## Summary
* [items](#items)
* [macros](#macros)
* [triggers](#triggers)

<a name="items"></a>

## Items
| name | description | key | type | delay |
| ------------- |------------- |------------- |------------- |------------- |
| Commands: FLUSH per second | The flush_all command invalidates all items in the database. This operation incurs a performance penalty and shouldn't take place in production, so check your debug scripts. | memcached.commands.flush.rate | DEPENDENT | 0 |
| Commands: GET per second | Number of GET requests received by server per second. | memcached.commands.get.rate | DEPENDENT | 0 |
| Commands: SET per second | Number of SET requests received by server per second. | memcached.commands.set.rate | DEPENDENT | 0 |
| Maximum number of bytes | Maximum number of bytes allowed in cache. You can adjust this setting via a config file or the command line while starting your Memcached server. | memcached.config.limit_maxbytes | DEPENDENT | 0 |
| Open connections | The number of clients presently connected | memcached.connections.current | DEPENDENT | 0 |
| Max connections | Max number of concurrent connections | memcached.connections.max | DEPENDENT | 0 |
| Queued connections per second | Number of times that memcached has hit its connections limit and disabled its listener | memcached.connections.queued.rate | DEPENDENT | 0 |
| New connections per second | Number of connections opened per second | memcached.connections.rate | DEPENDENT | 0 |
| Connection structures | Number of  connection structures allocated by the server | memcached.connections.structures | DEPENDENT | 0 |
| Throttled connections | Number of times a client connection was throttled. When sending GETs in batch mode and the connection contains too many requests (limited by -R parameter) the connection might be throttled to prevent starvation. | memcached.connections.throttled.rate | DEPENDENT | 0 |
| CPU sys | System CPU consumed by the Memcached server | memcached.cpu.sys | DEPENDENT | 0 |
| CPU user | User CPU consumed by the Memcached server | memcached.cpu.user | DEPENDENT | 0 |
| Ping | no description | memcached.ping["{$MEMCACHED.CONN.URI}"] | no type | no delay |
| Process id | PID of the server process | memcached.process_id | DEPENDENT | 0 |
| Bytes used | Current number of bytes used to store items. | memcached.stats.bytes | DEPENDENT | 0 |
| Read bytes per second | The network's read rate per second in B/sec | memcached.stats.bytes_read.rate | DEPENDENT | 0 |
| Written bytes per second | The network's read rate per second in B/sec | memcached.stats.bytes_written.rate | DEPENDENT | 0 |
| Current number of items stored | Current number of items stored by this instance. | memcached.stats.curr_items | DEPENDENT | 0 |
| Evictions per second | "An eviction is when an item that still has time to live is removed from the cache because a brand new item needs to be allocated.<br>The item is selected with a pseudo-LRU mechanism.<br>A high number of evictions coupled with a low hit rate means your application is setting a large number of keys that are never used again." | memcached.stats.evictions.rate | DEPENDENT | 0 |
| Hits per second | Number of successful GET requests (items requested and found) per second. | memcached.stats.hits.rate | DEPENDENT | 0 |
| Misses per second | Number of missed GET requests (items requested but not found) per second. | memcached.stats.misses.rate | DEPENDENT | 0 |
| Threads | Number of worker threads requested | memcached.stats.threads | DEPENDENT | 0 |
| New items per second | Number of new items stored per second. | memcached.stats.total_items.rate | DEPENDENT | 0 |
| Get status | no description | memcached.stats["{$MEMCACHED.CONN.URI}"] | no type | no delay |
| Uptime | Number of seconds since Memcached server start | memcached.uptime | DEPENDENT | 0 |
| Memcached version | Version of the Memcached server | memcached.version | DEPENDENT | 0 |


<a name="macros"></a>

## Macros
| macro | value |
| ------------- |------------- |
| {$MEMCACHED.CONN.PRC.MAX.WARN} | 80 |
| {$MEMCACHED.CONN.QUEUED.MAX.WARN} | 1 |
| {$MEMCACHED.CONN.THROTTLED.MAX.WARN} | 1 |
| {$MEMCACHED.CONN.URI} | tcp://localhost:11211 |
| {$MEMCACHED.MEM.PUSED.MAX.WARN} | 90 |


<a name="triggers"></a>

## Triggers
| name | priority | description | expression | tags | url |
| ------------- |------------- |------------- |------------- |------------- |------------- |
| Too many queued connections | WARNING | The max number of connections is reached and a new connection had to wait in the queue as a result. | min(/Memcached by Zabbix agent 2/memcached.connections.queued.rate,5m)>{$MEMCACHED.CONN.QUEUED.MAX.WARN} | [{"tag": "scope", "value": "capacity"}] | no url |
| Too many throttled connections | WARNING | Number of times a client connection was throttled is too high.<br>When sending GETs in batch mode and the connection contains too many requests (limited by -R parameter) the connection might be throttled to prevent starvation. | min(/Memcached by Zabbix agent 2/memcached.connections.throttled.rate,5m)>{$MEMCACHED.CONN.THROTTLED.MAX.WARN} | [{"tag": "scope", "value": "performance"}] | no url |
| Failed to fetch info data | WARNING | Zabbix has not received any data for items for the last 30 minutes. | nodata(/Memcached by Zabbix agent 2/memcached.cpu.sys,30m)=1 | [{"tag": "scope", "value": "notice"}] | no url |
| Service is down | AVERAGE | no description | last(/Memcached by Zabbix agent 2/memcached.ping["{$MEMCACHED.CONN.URI}"])=0 | [{"tag": "scope", "value": "availability"}] | no url |
| has been restarted | INFO | Uptime is less than 10 minutes. | last(/Memcached by Zabbix agent 2/memcached.uptime)<10m | [{"tag": "scope", "value": "notice"}] | no url |
| Version has changed | INFO | The Memcached version has changed. Acknowledge to close the problem manually. | last(/Memcached by Zabbix agent 2/memcached.version,#1)<>last(/Memcached by Zabbix agent 2/memcached.version,#2) and length(last(/Memcached by Zabbix agent 2/memcached.version))>0 | [{"tag": "scope", "value": "notice"}] | no url |
| Memory usage is too high | WARNING | no description | min(/Memcached by Zabbix agent 2/memcached.stats.bytes,5m)/last(/Memcached by Zabbix agent 2/memcached.config.limit_maxbytes)*100>{$MEMCACHED.MEM.PUSED.MAX.WARN} | [{"tag": "scope", "value": "capacity"}] | no url |
| Total number of connected clients is too high | WARNING | When the number of connections reaches the value of the "max_connections" parameter, new connections will be rejected. | min(/Memcached by Zabbix agent 2/memcached.connections.current,5m)/last(/Memcached by Zabbix agent 2/memcached.connections.max)*100>{$MEMCACHED.CONN.PRC.MAX.WARN} | [{"tag": "scope", "value": "capacity"}] | no url |

