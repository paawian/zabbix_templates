# ZYXEL MGS3520-28x by SNMP template description

ZYXEL MGS3520-28x

MIBs used:
ZYXEL-TRANSCEIVER-MIB
IF-MIB
RFC1213-MIB
HOST-RESOURCES-MIB
ZYXEL-HW-MONITOR-MIB
ZYXEL-PORT-MIB
ZYXEL-ES-COMMON

Known Issues:

  Description: Incorrect handling of SNMP bulk requests. Disable the use of bulk requests in the SNMP interface settings.
  Version: all versions firmware
  Device: ZYXEL MGS3520-28

You can discuss this template or leave feedback on our forum https://www.zabbix.com/forum/zabbix-suggestions-and-feedback/422668-discussion-thread-for-official-zabbix-templates-for-zyxel

Generated by official Zabbix template tool "Templator"

## Summary
* [items](#items)
* [macros](#macros)
* [triggers](#triggers)
* [discoveries](#discoveries)
  * [Discovery Fan discovery ](#discovery_fan_discovery)
  * [Discovery Interface discovery ](#discovery_interface_discovery)
  * [Discovery SFP with DDM discovery ](#discovery_sfp_with_ddm_discovery)
  * [Discovery SFP without DDM discovery ](#discovery_sfp_without_ddm_discovery)
  * [Discovery Temperature discovery ](#discovery_temperature_discovery)
  * [Discovery Voltage discovery ](#discovery_voltage_discovery)

<a name="items"></a>

## Items
| name | description | key | type | delay |
| ------------- |------------- |------------- |------------- |------------- |
| SNMP agent availability | no description | zabbix[host,snmp,available] | INTERNAL | no delay |
| Contact | MIB: RFC1213-MIB<br>The textual identification of the contact person<br>for this managed node, together with information<br>on how to contact this person. | zyxel.3520_28.contact | SNMP_AGENT | 1h |
| CPU utilization | MIB: ZYXEL-ES-COMMON<br>Show device CPU load in %, it's the snapshot of CPU load when<br>getting the values. | zyxel.3520_28.cpuusage | SNMP_AGENT | no delay |
| ZyNOS F/W Version | MIB: ZYXEL-ES-COMMON | zyxel.3520_28.fwversion | SNMP_AGENT | 1h |
| Uptime (hardware) | MIB: HOST-RESOURCES-MIB<br>The amount of time since this host was last initialized.<br>Note that this is different from sysUpTime in the SNMPv2-MIB<br>[RFC1907] because sysUpTime is the uptime of the<br>network management portion of the system. | zyxel.3520_28.hw.uptime | SNMP_AGENT | 30s |
| Location | MIB: RFC1213-MIB<br>The physical location of this node (e.g.,<br>`telephone closet, 3rd floor'). | zyxel.3520_28.location | SNMP_AGENT | 1h |
| MAC address | MIB: IF-MIB<br>The interface's address at the protocol layer<br>immediately `below' the network layer in the<br>protocol stack.  For interfaces which do not have<br>such an address (e.g., a serial line), this object<br>should contain an octet string of zero length. | zyxel.3520_28.mac | SNMP_AGENT | 1h |
| Memory utilization | MIB: ZYXEL-ES-COMMON<br>Show device memory usage in %. | zyxel.3520_28.memusage | SNMP_AGENT | no delay |
| Hardware model name | MIB: RFC1213-MIB<br>A textual description of the entity.  This value<br>should include the full name and version<br>identification of the system's hardware type,<br>software operating-system, and networking<br>software.  It is mandatory that this only contain<br>printable ASCII characters. | zyxel.3520_28.model | SNMP_AGENT | 1h |
| Host name | MIB: RFC1213-MIB<br>An administratively-assigned name for this<br>managed node.  By convention, this is the node's<br>fully-qualified domain name. | zyxel.3520_28.name | SNMP_AGENT | 1h |
| Uptime (network) | MIB: RFC1213-MIB<br>The time (in hundredths of a second) since the<br>network management portion of the system was last<br>re-initialized. | zyxel.3520_28.net.uptime | SNMP_AGENT | 30s |
| Hardware serial number | MIB: ZYXEL-ES-COMMON<br>Serial number | zyxel.3520_28.serialnumber | SNMP_AGENT | 1h |


<a name="macros"></a>

## Macros
| macro | value |
| ------------- |------------- |
| {$CPU.UTIL.CRIT} | 90 |
| {$MEMORY.UTIL.MAX} | 90 |
| {$SNMP.TIMEOUT} | 5m |
| {$ZYXEL.LLD.FILTER.IF.CONTROL.MATCHES} | CHANGE_IF_NEEDED |
| {$ZYXEL.LLD.FILTER.IF.LINKUPTYPE.MATCHES} | 1\|2\|3\|4 |
| {$ZYXEL.LLD.FILTER.IF.LINKUPTYPE.NOT_MATCHES} | CHANGE_IF_NEEDED |
| {$ZYXEL.LLD.FILTER.IF.NAME.MATCHES} | .* |
| {$ZYXEL.LLD.FILTER.IF.NAME.NOT_MATCHES} | CHANGE_IF_NEEDED |
| {$ZYXEL.LLD.FILTER.SFP.STATUS.MATCHES} | 1\|2 |
| {$ZYXEL.LLD.FILTER.SFP.STATUS.NOT_MATCHES} | CHANGE_IF_NEEDED |
| {$ZYXEL.LLD.FILTER.SFPDDM.DESC.MATCHES} | .* |
| {$ZYXEL.LLD.FILTER.SFPDDM.DESC.NOT_MATCHES} | N/A |
| {$ZYXEL.LLD.SFP.UPDATE} | 10m |


<a name="triggers"></a>

## Triggers
| name | priority | description | expression | tags | url |
| ------------- |------------- |------------- |------------- |------------- |------------- |
| No SNMP data collection | WARNING | SNMP is not available for polling. Please check device connectivity and SNMP settings. | max(/ZYXEL MGS3520-28x by SNMP/zabbix[host,snmp,available],{$SNMP.TIMEOUT})=0 | [{"tag": "scope", "value": "availability"}] | no url |
| High CPU utilization | WARNING | The CPU utilization is too high. The system might be slow to respond. | min(/ZYXEL MGS3520-28x by SNMP/zyxel.3520_28.cpuusage,5m)>{$CPU.UTIL.CRIT} | [{"tag": "scope", "value": "performance"}] | no url |
| Firmware has changed | INFO | Firmware version has changed. Acknowledge to close the problem manually. | last(/ZYXEL MGS3520-28x by SNMP/zyxel.3520_28.fwversion,#1)<>last(/ZYXEL MGS3520-28x by SNMP/zyxel.3520_28.fwversion,#2) and length(last(/ZYXEL MGS3520-28x by SNMP/zyxel.3520_28.fwversion))>0 | [{"tag": "scope", "value": "notice"}] | no url |
| High memory utilization | AVERAGE | The system is running out of free memory. | min(/ZYXEL MGS3520-28x by SNMP/zyxel.3520_28.memusage,5m)>{$MEMORY.UTIL.MAX} | [{"tag": "scope", "value": "capacity"}, {"tag": "scope", "value": "performance"}] | no url |
| Template does not match hardware | INFO | This template is for Zyxel MGS3520-28x series, but connected to {ITEM.VALUE} | not(last(/ZYXEL MGS3520-28x by SNMP/zyxel.3520_28.model)="MGS3520-28" or last(/ZYXEL MGS3520-28x by SNMP/zyxel.3520_28.model)="MGS3520-28F") | [{"tag": "scope", "value": "notice"}] | no url |
| Device has been replaced | INFO | Device serial number has changed. Acknowledge to close the problem manually. | last(/ZYXEL MGS3520-28x by SNMP/zyxel.3520_28.serialnumber,#1)<>last(/ZYXEL MGS3520-28x by SNMP/zyxel.3520_28.serialnumber,#2) and length(last(/ZYXEL MGS3520-28x by SNMP/zyxel.3520_28.serialnumber))>0 | [{"tag": "scope", "value": "notice"}] | no url |
| Host has been restarted | INFO | Uptime is less than 10 minutes. | (last(/ZYXEL MGS3520-28x by SNMP/zyxel.3520_28.hw.uptime)>0 and last(/ZYXEL MGS3520-28x by SNMP/zyxel.3520_28.hw.uptime)<10m) or (last(/ZYXEL MGS3520-28x by SNMP/zyxel.3520_28.hw.uptime)=0 and last(/ZYXEL MGS3520-28x by SNMP/zyxel.3520_28.net.uptime)<10m) | [{"tag": "scope", "value": "notice"}] | no url |


<a name="discoveries"></a>

## Discoveries
| name | key | description | type | lifetime | delay |
| ------------- |------------- |------------- |------------- |------------- |------------- |
| Fan discovery | zyxel.3520_28.fan.discovery | An entry in fanRpmTable. | SNMP_AGENT | no lifetime | 1h |
| Interface discovery | zyxel.3520_28.net.if.discovery | no description | SNMP_AGENT | no lifetime | 1h |
| SFP with DDM discovery | zyxel.3520_28.sfp.ddm.discovery | SFP DDM module discovery. | SNMP_AGENT | no lifetime | 12h |
| SFP without DDM discovery | zyxel.3520_28.sfp.discovery | SFP module discovery. | SNMP_AGENT | no lifetime | 12h |
| Temperature discovery | zyxel.3520_28.temp.discovery | An entry in tempTable. | SNMP_AGENT | no lifetime | 1h |
| Voltage discovery | zyxel.3520_28.volt.discovery | An entry in voltageTable. | SNMP_AGENT | no lifetime | 1h |


<a name="discovery_fan_discovery"></a>

## Discovery Fan discovery

### Items

| name | description | key | type |
| ------------- |------------- |------------- |------------- |
| {#ZYXEL.FAN.DESCRIPTION} | MIB: ZYXEL-HW-MONITOR-MIB<br>Current speed in Revolutions Per Minute (RPM) on the fan. | zyxel.3520_28.fan[{#SNMPINDEX}] | SNMP_AGENT |


### Triggers

| name | priority | description | expression | tags | url |
| ------------- |------------- |------------- |------------- |------------- |------------- |
| {#ZYXEL.FAN.DESCRIPTION} is in critical state | AVERAGE | Please check the fan unit | last(/ZYXEL MGS3520-28x by SNMP/zyxel.3520_28.fan[{#SNMPINDEX}])<{#ZYXEL.FANRPM.THRESH.LOW} | [{"tag": "scope", "value": "notice"}] | no url |


<a name="discovery_interface_discovery"></a>

## Discovery Interface discovery

### Items

| name | description | key | type |
| ------------- |------------- |------------- |------------- |
| Port {#SNMPINDEX}: Administrative status | MIB: IF-MIB<br>The desired state of the interface.  The<br>testing(3) state indicates that no operational<br>packets can be passed. | zyxel.3520_28.net.if.adminstatus[{#SNMPINDEX}] | SNMP_AGENT |
| Port {#SNMPINDEX}: Interface name | MIB: IF-MIB<br>A textual string containing information about the interface | zyxel.3520_28.net.if.descr[{#SNMPINDEX}] | SNMP_AGENT |
| Port {#SNMPINDEX}: Link speed | MIB: IF-MIB<br>An estimate of the interface's current bandwidth in bits per second | zyxel.3520_28.net.if.highspeed[{#SNMPINDEX}] | SNMP_AGENT |
| Port {#SNMPINDEX}: Incoming broadcast packages | MIB: IF-MIB<br>The number of packets, delivered by this sub-layer to a<br>higher (sub-)layer, which were addressed to a broadcast<br>address at this sub-layer. | zyxel.3520_28.net.if.in.broadcastpkts[{#SNMPINDEX}] | SNMP_AGENT |
| Port {#SNMPINDEX}: Incoming multicast packages | MIB: IF-MIB<br>The number of packets, delivered by this sub-layer to a<br>higher (sub-)layer, which were addressed to a multicast<br>address at this sub-layer.  For a MAC layer protocol, this<br>includes both Group and Functional addresses. | zyxel.3520_28.net.if.in.multicastpkts[{#SNMPINDEX}] | SNMP_AGENT |
| Port {#SNMPINDEX}: Incoming traffic | MIB: IF-MIB<br>The total number of octets received on the interface,<br>including framing characters. | zyxel.3520_28.net.if.in.traffic[{#SNMPINDEX}] | SNMP_AGENT |
| Port {#SNMPINDEX}: Incoming unicast packages | MIB: IF-MIB<br>The number of packets, delivered by this sub-layer to a<br>higher (sub-)layer, which were not addressed to a multicast<br>or broadcast address at this sub-layer | zyxel.3520_28.net.if.in.ucastpkts[{#SNMPINDEX}] | SNMP_AGENT |
| Port {#SNMPINDEX}: Incoming utilization | Interface utilization percentage | zyxel.3520_28.net.if.in.util[{#SNMPINDEX}] | CALCULATED |
| Port {#SNMPINDEX}: Link type | MIB: ZYXEL-PORT-MIB<br>The entry shows the linkUp cable type (copper, fiber, xfp or cx4) for the combo ports. | zyxel.3520_28.net.if.link_type[{#SNMPINDEX}] | SNMP_AGENT |
| Port {#SNMPINDEX}: Interface description | MIB: ZYXEL-PORT-MIB<br>Descriptive name that identifies this port. | zyxel.3520_28.net.if.name[{#SNMPINDEX}] | SNMP_AGENT |
| Port {#SNMPINDEX}: Operational status | MIB: IF-MIB<br>The current operational state of the interface.<br>The testing(3) state indicates that no operational<br>packets can be passed. | zyxel.3520_28.net.if.operstatus[{#SNMPINDEX}] | SNMP_AGENT |
| Port {#SNMPINDEX}: Outgoing broadcast packages | MIB: IF-MIB<br>The total number of packets that higher-level protocols<br>requested be transmitted, and which were addressed to a<br>broadcast address at this sub-layer, including those that<br>were discarded or not sent. | zyxel.3520_28.net.if.out.broadcastpkts[{#SNMPINDEX}] | SNMP_AGENT |
| Port {#SNMPINDEX}: Outgoing multicast packages | MIB: IF-MIB<br>The total number of packets that higher-level protocols<br>requested be transmitted, and which were addressed to a<br>multicast address at this sub-layer, including those that<br>were discarded or not sent.  For a MAC layer protocol, this<br>includes both Group and Functional addresses. | zyxel.3520_28.net.if.out.multicastpkts[{#SNMPINDEX}] | SNMP_AGENT |
| Port {#SNMPINDEX}: Outgoing traffic | MIB: IF-MIB<br>The total number of octets transmitted out of the<br>interface, including framing characters.  This object is a<br>64-bit version of ifOutOctets. | zyxel.3520_28.net.if.out.traffic[{#SNMPINDEX}] | SNMP_AGENT |
| Port {#SNMPINDEX}: Outgoing unicast packages | MIB: IF-MIB<br>The total number of packets that higher-level protocols<br>requested be transmitted, and which were not addressed to a<br>multicast or broadcast address at this sub-layer, including<br>those that were discarded or not sent. | zyxel.3520_28.net.if.out.ucastpkts[{#SNMPINDEX}] | SNMP_AGENT |
| Port {#SNMPINDEX}: Outgoing utilization | Interface utilization percentage | zyxel.3520_28.net.if.out.util[{#SNMPINDEX}] | CALCULATED |
| Port {#SNMPINDEX}: Speed Duplex | MIB: ZYXEL-PORT-MIB<br>Select The speed and the duplex mode of the Ethernet connection on this port. Selecting Auto<br>(auto-negotiation) allows one port to negotiate with a peer port automatically to obtain the<br>connection speed and duplex mode that both ends support. When auto-negotiation is turned on,<br>a port on the Switch negotiates with the peer automatically to determine the connection speed<br>and duplex mode. If the peer port does not support auto-negotiation or turns off this feature,<br>the Switch determines the connection speed by detecting the signal on the cable and using half<br>duplex mode. Thus requiring you to make sure that the settings of the peer port are the same in<br>order to connect. | zyxel.3520_28.net.if.speed_duplex[{#SNMPINDEX}] | SNMP_AGENT |


### Triggers

| name | priority | description | expression | tags | url |
| ------------- |------------- |------------- |------------- |------------- |------------- |
| Port {#SNMPINDEX}: Link down | AVERAGE | This trigger expression works as follows:<br>1. It can be triggered if the operations status is down.<br>2. `{$IFCONTROL:"{#IFNAME}"}=1` - a user can redefine context macro to value - 0. That marks this interface as not important. No new trigger will be fired if this interface is down.<br>3. `{TEMPLATE_NAME:METRIC.diff()}=1` - the trigger fires only if the operational status was up to (1) sometime before (so, do not fire for the 'eternal off' interfaces.)<br><br>WARNING: if closed manually - it will not fire again on the next poll, because of .diff. | last(/ZYXEL MGS3520-28x by SNMP/zyxel.3520_28.net.if.operstatus[{#SNMPINDEX}])=2 and last(/ZYXEL MGS3520-28x by SNMP/zyxel.3520_28.net.if.operstatus[{#SNMPINDEX}],#1)<>last(/ZYXEL MGS3520-28x by SNMP/zyxel.3520_28.net.if.operstatus[{#SNMPINDEX}],#2) | [{"tag": "scope", "value": "notice"}] | no url |


<a name="discovery_sfp_with_ddm_discovery"></a>

## Discovery SFP with DDM discovery

### Items

| name | description | key | type |
| ------------- |------------- |------------- |------------- |
| SFP {#ZYXEL.SFP.PORT}: {#ZYXEL.SFP.DESCRIPTION} | MIB: ZYXEL-TRANSCEIVER-MIB<br>Transceiver module DDM data ({#ZYXEL.SFP.DESCRIPTION}). | zyxel.3520_28.sfp.ddm[{#SNMPINDEX}] | SNMP_AGENT |


### Triggers

| name | priority | description | expression | tags | url |
| ------------- |------------- |------------- |------------- |------------- |------------- |
| SFP {#ZYXEL.SFP.PORT}: High {#ZYXEL.SFP.DESCRIPTION} | WARNING | The upper threshold value of the parameter is exceeded | last(/ZYXEL MGS3520-28x by SNMP/zyxel.3520_28.sfp.ddm[{#SNMPINDEX}]) > {#ZYXEL.SFP.WARN.MAX} | [{"tag": "scope", "value": "notice"}] | no url |
| SFP {#ZYXEL.SFP.PORT}: Low {#ZYXEL.SFP.DESCRIPTION} | WARNING | The parameter values are less than the lower threshold | last(/ZYXEL MGS3520-28x by SNMP/zyxel.3520_28.sfp.ddm[{#SNMPINDEX}]) < {#ZYXEL.SFP.WARN.MIN} | [{"tag": "scope", "value": "notice"}] | no url |


<a name="discovery_sfp_without_ddm_discovery"></a>

## Discovery SFP without DDM discovery

### Items

| name | description | key | type |
| ------------- |------------- |------------- |------------- |
| SFP {#SNMPINDEX}: Date code | MIB: ZYXEL-TRANSCEIVER-MIB<br>Transceiver module vendor's manufacturing date code. | zyxel.3520_28.sfp.datecode[{#SNMPINDEX}] | SNMP_AGENT |
| SFP {#SNMPINDEX}: Part number | MIB: ZYXEL-TRANSCEIVER-MIB<br>Part number provided by transceiver module vendor. | zyxel.3520_28.sfp.part[{#SNMPINDEX}] | SNMP_AGENT |
| SFP {#SNMPINDEX}: Revision | MIB: ZYXEL-TRANSCEIVER-MIB<br>Revision level for part number provided by transceiver module vendor. | zyxel.3520_28.sfp.revision[{#SNMPINDEX}] | SNMP_AGENT |
| SFP {#SNMPINDEX}: Serial number | MIB: ZYXEL-TRANSCEIVER-MIB<br>Serial number provided by transceiver module vendor. | zyxel.3520_28.sfp.serialnumber[{#SNMPINDEX}] | SNMP_AGENT |
| SFP {#SNMPINDEX}: Status | MIB: ZYXEL-TRANSCEIVER-MIB<br>Transceiver module type. | zyxel.3520_28.sfp.status[{#SNMPINDEX}] | SNMP_AGENT |
| SFP {#SNMPINDEX}: Transceiver | MIB: ZYXEL-TRANSCEIVER-MIB<br>Transceiver module type names. | zyxel.3520_28.sfp.transceiver[{#SNMPINDEX}] | SNMP_AGENT |
| SFP {#SNMPINDEX}: Vendor | MIB: ZYXEL-TRANSCEIVER-MIB<br>Transceiver module vendor name. | zyxel.3520_28.sfp.vendor[{#SNMPINDEX}] | SNMP_AGENT |


### Triggers

| name | priority | description | expression | tags | url |
| ------------- |------------- |------------- |------------- |------------- |------------- |
| SFP {#SNMPINDEX} has been replaced | INFO | SFP {#SNMPINDEX} serial number has changed. Acknowledge to close the problem manually. | last(/ZYXEL MGS3520-28x by SNMP/zyxel.3520_28.sfp.serialnumber[{#SNMPINDEX}],#1)<>last(/ZYXEL MGS3520-28x by SNMP/zyxel.3520_28.sfp.serialnumber[{#SNMPINDEX}],#2) and length(last(/ZYXEL MGS3520-28x by SNMP/zyxel.3520_28.sfp.serialnumber[{#SNMPINDEX}]))>0 | [{"tag": "scope", "value": "notice"}] | no url |


<a name="discovery_temperature_discovery"></a>

## Discovery Temperature discovery

### Items

| name | description | key | type |
| ------------- |------------- |------------- |------------- |
| Temperature "{#ZYXEL.TEMPDESCRIPTION}" | MIB: ZYXEL-HW-MONITOR-MIB<br>The current temperature measured at this sensor | zyxel.3520_28.temp[{#SNMPINDEX}] | SNMP_AGENT |


### Triggers

| name | priority | description | expression | tags | url |
| ------------- |------------- |------------- |------------- |------------- |------------- |
| Temperature {#ZYXEL.TEMPDESCRIPTION} is in critical state | AVERAGE | Please check the temperature | last(/ZYXEL MGS3520-28x by SNMP/zyxel.3520_28.temp[{#SNMPINDEX}])>{#ZYXEL.TEMP.THRESH.HIGH} | [{"tag": "scope", "value": "notice"}] | no url |


<a name="discovery_voltage_discovery"></a>

## Discovery Voltage discovery

### Items

| name | description | key | type |
| ------------- |------------- |------------- |------------- |
| Nominal "{#ZYXEL.DESCRIPTION}" | MIB: ZYXEL-HW-MONITOR-MIB<br>The current voltage reading. | zyxel.3520_28.volt[{#SNMPINDEX}] | SNMP_AGENT |


### Triggers

| name | priority | description | expression | tags | url |
| ------------- |------------- |------------- |------------- |------------- |------------- |
| Voltage {#ZYXEL.DESCRIPTION} is in critical state | AVERAGE | Please check the power supply | last(/ZYXEL MGS3520-28x by SNMP/zyxel.3520_28.volt[{#SNMPINDEX}])<{#ZYXEL.VOLT.THRESH.LOW} | [{"tag": "scope", "value": "notice"}] | no url |

