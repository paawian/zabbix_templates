# Template: MongoDB cluster by Zabbix agent 2

## Template ID
10387

## Description
Get MongoDB metrics from plugin for the zabbix-agent2.
  1. Setup and configure zabbix-agent2 compiled with the MongoDB monitoring plugin.
  2. Set the {$MONGODB.CONNSTRING} such as <protocol(host:port)> or named session.
  3. Set the user name and password in host macros ({$MONGODB.USER}, {$MONGODB.PASSWORD}) if you want to override parameters from the Zabbix agent configuration file.

  All sharded Mongodb nodes (mongod) will be discovered with attached template "MongoDB node".

You can discuss this template or leave feedback on our forum https://www.zabbix.com/forum/zabbix-suggestions-and-feedback/420659-discussion-thread-for-official-zabbix-template-db-mongodb

Generated by official Zabbix template tool "Templator"

## Linked Hosts
None

## Items

### Item: Configserver heartbeat
- **Description**: Difference between the latest optime of the CSRS primary that the mongos has seen and cluster time.
- **Interval**: 0
- **Data Type**: 3

### Item: Connection pool: available
- **Description**: The total number of available outgoing connections from the current mongos instance to other members of the sharded cluster.
- **Interval**: 0
- **Data Type**: 3

### Item: Connection pool: client connections
- **Description**: The number of active and stored outgoing synchronous connections from the current mongos instance to other members of the sharded cluster.
- **Interval**: 0
- **Data Type**: 3

### Item: Connection pool: created, rate
- **Description**: The total number of outgoing connections created per second by the current mongos instance to other members of the sharded cluster.
- **Interval**: 0
- **Data Type**: 0

### Item: Connection pool: in use
- **Description**: Reports the total number of outgoing connections from the current mongos instance to other members of the sharded cluster set that are currently in use.
- **Interval**: 0
- **Data Type**: 3

### Item: Connection pool: refreshing
- **Description**: Reports the total number of outgoing connections from the current mongos instance to other members of the sharded cluster that are currently being refreshed.
- **Interval**: 0
- **Data Type**: 3

### Item: Connection pool: scoped
- **Description**: Number of active and stored outgoing scoped synchronous connections from the current mongos instance to other members of the sharded cluster.
- **Interval**: 0
- **Data Type**: 3

### Item: Connections, active
- **Description**: The number of active client connections to the server.
Active client connections refers to client connections that currently have operations in progress.
Available starting in  4.0.7, 0 for older versions.
- **Interval**: 0
- **Data Type**: 3

### Item: Connections, available
- **Description**: "The number of unused incoming connections available."
- **Interval**: 0
- **Data Type**: 3

### Item: Connections, current
- **Description**: The number of incoming connections from clients to the database server.
This number includes the current shell session.
- **Interval**: 0
- **Data Type**: 3

### Item: New connections, rate
- **Description**: "Rate of all incoming connections created to the server."
- **Interval**: 0
- **Data Type**: 0

### Item: Get mongodb.connpool.stats
- **Description**: Returns current info about connpool.stats.
- **Interval**: 1m
- **Data Type**: 4

### Item: Cursor: open pinned
- **Description**: Number of pinned open cursors.
- **Interval**: 0
- **Data Type**: 3

### Item: Cursor: open total
- **Description**: Number of cursors that MongoDB is maintaining for clients.
- **Interval**: 0
- **Data Type**: 3

### Item: Cursor: timed out, rate
- **Description**: Number of cursors that time out, per second.
- **Interval**: 0
- **Data Type**: 0

### Item: Jumbo chunks
- **Description**: Total number of 'jumbo' chunks in the mongo cluster.
- **Interval**: 1m
- **Data Type**: 3

### Item: Last seen configserver
- **Description**: The latest optime of the CSRS primary that the mongos has seen.
- **Interval**: 0
- **Data Type**: 3

### Item: Architecture
- **Description**: A number, either 64 or 32, that indicates whether the MongoDB instance is compiled for 64-bit or 32-bit architecture.
- **Interval**: 0
- **Data Type**: 3

### Item: Memory: resident
- **Description**: Amount of memory currently used by the database process.
- **Interval**: 0
- **Data Type**: 3

### Item: Memory: virtual
- **Description**: Amount of virtual memory used by the mongos process.
- **Interval**: 0
- **Data Type**: 3

### Item: Cursor: open no timeout
- **Description**: Number of open cursors with the option DBQuery.Option.noTimeout set to prevent timeout after a period of inactivity.
- **Interval**: 0
- **Data Type**: 3

### Item: Bytes in, rate
- **Description**: The total number of bytes that the server has received over network connections initiated by clients or other mongod/mongos instances per second.
- **Interval**: 0
- **Data Type**: 0

### Item: Bytes out, rate
- **Description**: The total number of bytes that the server has sent over network connections initiated by clients or other mongod/mongos instances per second.
- **Interval**: 0
- **Data Type**: 0

### Item: Requests, rate
- **Description**: Number of distinct requests that the server has received per second.
- **Interval**: 0
- **Data Type**: 0

### Item: Operations: command
- **Description**: The number of commands issued to the database per second.
Counts all commands except the write commands: insert, update, and delete.
- **Interval**: 0
- **Data Type**: 0

### Item: Operations: delete
- **Description**: The number of delete operations the mongos instance per second.
- **Interval**: 0
- **Data Type**: 0

### Item: Operations: getmore, rate
- **Description**: The number of "getmore" operations the mongos per second. This counter can be high even if the query count is low.
Secondary nodes send getMore operations as part of the replication process.
- **Interval**: 0
- **Data Type**: 0

### Item: Operations: insert, rate
- **Description**: The number of insert operations received the mongos instance per second.
- **Interval**: 0
- **Data Type**: 0

### Item: Operations: query, rate
- **Description**: The number of queries received the mongos instance per second.
- **Interval**: 0
- **Data Type**: 0

### Item: Operations: update, rate
- **Description**: The number of update operations the mongos instance per second.
- **Interval**: 0
- **Data Type**: 0

### Item: Ping
- **Description**: Test if a connection is alive or not.
- **Interval**: 30s
- **Data Type**: 3

### Item: Get server status
- **Description**: The mongos statistic
- **Interval**: 1m
- **Data Type**: 4

### Item: Uptime
- **Description**: Number of seconds since the Mongos server start.
- **Interval**: 0
- **Data Type**: 3

### Item: Mongos version
- **Description**: Version of the Mongos server
- **Interval**: 0
- **Data Type**: 1

