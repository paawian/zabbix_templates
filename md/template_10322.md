# Template: Elasticsearch Cluster by HTTP

## Template ID
10322

## Description
The template to monitor Elasticsearch by Zabbix that work without any external scripts.
It works with both standalone and cluster instances.
The metrics are collected in one pass remotely using an HTTP agent.
They are getting values from REST API '_cluster/health', '_cluster/stats', '_nodes/stats' requests.

Setup:

1. Set the hostname or IP address of the Elasticsearch host in the '{$ELASTICSEARCH.HOST}' macro.

2. Set the login and password in the '{$ELASTICSEARCH.USERNAME}' and '{$ELASTICSEARCH.PASSWORD}' macros.

3. If you use an atypical location of ES API, don't forget to change the macros '{$ELASTICSEARCH.SCHEME}','{$ELASTICSEARCH.PORT}'.

You can discuss this template or leave feedback on our forum https://www.zabbix.com/forum/zabbix-suggestions-and-feedback/399473-discussion-thread-for-official-zabbix-template-for-elasticsearch

Generated by official Zabbix template tool "Templator"

## Linked Hosts
None

## Items

### Item: Delayed unassigned shards
- **Description**: The number of shards whose allocation has been delayed by the timeout settings.
- **Interval**: 0
- **Data Type**: 3

### Item: Get cluster health
- **Description**: Returns the health status of a cluster.
- **Interval**: 1m
- **Data Type**: 4

### Item: Get cluster stats
- **Description**: Returns cluster statistics.
- **Interval**: 1m
- **Data Type**: 4

### Item: Inactive shards percentage
- **Description**: The ratio of inactive shards in the cluster expressed as a percentage.
- **Interval**: 0
- **Data Type**: 0

### Item: Number of initializing shards
- **Description**: The number of shards that are under initialization.
- **Interval**: 0
- **Data Type**: 3

### Item: Number of data nodes
- **Description**: The number of nodes that are dedicated to data nodes.
- **Interval**: 0
- **Data Type**: 3

### Item: Number of nodes
- **Description**: The number of nodes within the cluster.
- **Interval**: 0
- **Data Type**: 3

### Item: Number of pending tasks
- **Description**: The number of cluster-level changes that have not yet been executed.
- **Interval**: 0
- **Data Type**: 3

### Item: Number of relocating shards
- **Description**: The number of shards that are under relocation.
- **Interval**: 0
- **Data Type**: 3

### Item: Cluster health status
- **Description**: Health status of the cluster, based on the state of its primary and replica shards. Statuses are:
green
All shards are assigned.
yellow
All primary shards are assigned, but one or more replica shards are unassigned. If a node in the cluster fails, some data could be unavailable until that node is repaired.
red
One or more primary shards are unassigned, so some data is unavailable. This can occur briefly during cluster startup as primary shards are assigned.
- **Interval**: 0
- **Data Type**: 3

### Item: Task max waiting in queue
- **Description**: The time expressed in seconds since the earliest initiated task is waiting for being performed.
- **Interval**: 0
- **Data Type**: 0

### Item: Number of unassigned shards
- **Description**: The number of shards that are not allocated.
- **Interval**: 0
- **Data Type**: 3

### Item: Indices with shards assigned to nodes
- **Description**: The total number of indices with shards assigned to the selected nodes.
- **Interval**: 0
- **Data Type**: 3

### Item: Number of non-deleted documents
- **Description**: The total number of non-deleted documents across all primary shards assigned to the selected nodes.
This number is based on the documents in Lucene segments and may include the documents from nested fields.
- **Interval**: 0
- **Data Type**: 3

### Item: Nodes with the data role
- **Description**: The number of selected nodes with the data role.
- **Interval**: 0
- **Data Type**: 3

### Item: Nodes with the ingest role
- **Description**: The number of selected nodes with the ingest role.
- **Interval**: 0
- **Data Type**: 3

### Item: Nodes with the master role
- **Description**: The number of selected nodes with the master role.
- **Interval**: 0
- **Data Type**: 3

### Item: Total available size to JVM in all file stores
- **Description**: The total number of bytes available to JVM in the file stores across all selected nodes.
Depending on OS or process-level restrictions, this number may be less than nodes.fs.free_in_byes.
This is the actual amount of free disk space the selected Elasticsearch nodes can use.
- **Interval**: 0
- **Data Type**: 3

### Item: Total size of all file stores
- **Description**: The total size in bytes of all file stores across all selected nodes.
- **Interval**: 0
- **Data Type**: 3

### Item: Get nodes stats
- **Description**: Returns cluster nodes statistics.
- **Interval**: 1m
- **Data Type**: 4

### Item: Cluster uptime
- **Description**: Uptime duration in seconds since JVM has last started.
- **Interval**: 0
- **Data Type**: 0

### Item: Service status
- **Description**: Checks if the service is running and accepting TCP connections.
- **Interval**: 1m
- **Data Type**: 3

### Item: Service response time
- **Description**: Checks performance of the TCP service.
- **Interval**: 1m
- **Data Type**: 0

