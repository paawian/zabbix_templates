# VMware Hypervisor template description

Generated by official Zabbix template tool "Templator"

## Summary
* [items](#items)
* [macros](#macros)
* [triggers](#triggers)
* [discoveries](#discoveries)
  * [Discovery Datastore discovery ](#discovery_datastore_discovery)
  * [Discovery Healthcheck discovery ](#discovery_healthcheck_discovery)
  * [Discovery Sensor discovery ](#discovery_sensor_discovery)

<a name="items"></a>

## Items
| name | description | key | type | delay |
| ------------- |------------- |------------- |------------- |------------- |
| Hypervisor ping | Checks if the hypervisor is running and accepting ICMP pings. | icmpping[] | SIMPLE | no delay |
| Cluster name | Cluster name of the guest VM. | vmware.hv.cluster.name[{$VMWARE.URL},{$VMWARE.HV.UUID}] | SIMPLE | 1h |
| CPU usage in percents | CPU usage as a percentage during the interval. | vmware.hv.cpu.usage.perf[{$VMWARE.URL},{$VMWARE.HV.UUID}] | SIMPLE | no delay |
| CPU usage | Aggregated CPU usage across all cores on the host in Hz. This is only available if the host is connected. | vmware.hv.cpu.usage[{$VMWARE.URL},{$VMWARE.HV.UUID}] | SIMPLE | no delay |
| CPU utilization | CPU usage as a percentage during the interval depends on power management or HT. | vmware.hv.cpu.utilization[{$VMWARE.URL},{$VMWARE.HV.UUID}] | SIMPLE | no delay |
| Datacenter name | Datacenter name of the hypervisor. | vmware.hv.datacenter.name[{$VMWARE.URL},{$VMWARE.HV.UUID}] | SIMPLE | 1h |
| Full name | The complete product name, including the version information. | vmware.hv.fullname[{$VMWARE.URL},{$VMWARE.HV.UUID}] | SIMPLE | 1h |
| CPU frequency | The speed of the CPU cores. This is an average value if there are multiple speeds. The product of CPU frequency and number of cores is approximately equal to the sum of the MHz for all the individual cores on the host. | vmware.hv.hw.cpu.freq[{$VMWARE.URL},{$VMWARE.HV.UUID}] | SIMPLE | 1h |
| CPU model | The CPU model. | vmware.hv.hw.cpu.model[{$VMWARE.URL},{$VMWARE.HV.UUID}] | SIMPLE | 1h |
| CPU cores | Number of physical CPU cores on the host. Physical CPU cores are the processors contained by a CPU package. | vmware.hv.hw.cpu.num[{$VMWARE.URL},{$VMWARE.HV.UUID}] | SIMPLE | 1h |
| CPU threads | Number of physical CPU threads on the host. | vmware.hv.hw.cpu.threads[{$VMWARE.URL},{$VMWARE.HV.UUID}] | SIMPLE | 1h |
| Total memory | The physical memory size. | vmware.hv.hw.memory[{$VMWARE.URL},{$VMWARE.HV.UUID}] | SIMPLE | 1h |
| Model | The system model identification. | vmware.hv.hw.model[{$VMWARE.URL},{$VMWARE.HV.UUID}] | SIMPLE | 1h |
| Bios UUID | The hardware BIOS identification. | vmware.hv.hw.uuid[{$VMWARE.URL},{$VMWARE.HV.UUID}] | SIMPLE | 1h |
| Vendor | The hardware vendor identification. | vmware.hv.hw.vendor[{$VMWARE.URL},{$VMWARE.HV.UUID}] | SIMPLE | 1h |
| Ballooned memory | The amount of guest physical memory that is currently reclaimed through the balloon driver. Sum of all guest VMs. | vmware.hv.memory.size.ballooned[{$VMWARE.URL},{$VMWARE.HV.UUID}] | SIMPLE | no delay |
| Used memory | Physical memory usage on the host. | vmware.hv.memory.used[{$VMWARE.URL},{$VMWARE.HV.UUID}] | SIMPLE | no delay |
| Number of bytes received | VMware hypervisor network input statistics (bytes per second). | vmware.hv.network.in[{$VMWARE.URL},{$VMWARE.HV.UUID},bps] | SIMPLE | no delay |
| Number of bytes transmitted | VMware hypervisor network output statistics (bytes per second). | vmware.hv.network.out[{$VMWARE.URL},{$VMWARE.HV.UUID},bps] | SIMPLE | no delay |
| Power usage maximum allowed | Maximum allowed power usage. | vmware.hv.power[{$VMWARE.URL},{$VMWARE.HV.UUID},max] | SIMPLE | no delay |
| Power usage | Current power usage. | vmware.hv.power[{$VMWARE.URL},{$VMWARE.HV.UUID}] | SIMPLE | no delay |
| Get sensors | Master item for sensors data. | vmware.hv.sensors.get[{$VMWARE.URL},{$VMWARE.HV.UUID}] | SIMPLE | no delay |
| Overall status | The overall alarm status of the host: gray - unknown, green - ok, red - it has a problem, yellow - it might have a problem. | vmware.hv.status[{$VMWARE.URL},{$VMWARE.HV.UUID}] | SIMPLE | no delay |
| Uptime | System uptime. | vmware.hv.uptime[{$VMWARE.URL},{$VMWARE.HV.UUID}] | SIMPLE | no delay |
| Version | Dot-separated version string. | vmware.hv.version[{$VMWARE.URL},{$VMWARE.HV.UUID}] | SIMPLE | 1h |
| Number of guest VMs | Number of guest virtual machines. | vmware.hv.vm.num[{$VMWARE.URL},{$VMWARE.HV.UUID}] | SIMPLE | 1h |


<a name="macros"></a>

## Macros
| macro | value |
| ------------- |------------- |
| {$VMWARE.HV.SENSOR.DISCOVERY} | false |
| {$VMWARE.HV.SENSOR.DISCOVERY.NAME.MATCHES} | .* |
| {$VMWARE.HV.SENSOR.DISCOVERY.NAME.NOT_MATCHES} | CHANGE_IF_NEEDED |
| {$VMWARE.PASSWORD} | no value |
| {$VMWARE.URL} | no value |
| {$VMWARE.USERNAME} | no value |


<a name="triggers"></a>

## Triggers
| name | priority | description | expression | tags | url |
| ------------- |------------- |------------- |------------- |------------- |------------- |
| Hypervisor is down | AVERAGE | The service is unavailable or does not accept ICMP ping. | last(/VMware Hypervisor/icmpping[])=0 | [{"tag": "scope", "value": "availability"}] | no url |
| The {$VMWARE.HV.UUID} health is Red | HIGH | One or more components in the appliance might be in an unusable status and the appliance might become unresponsive soon. Security patches might be available. | last(/VMware Hypervisor/vmware.hv.status[{$VMWARE.URL},{$VMWARE.HV.UUID}])=3 | [{"tag": "scope", "value": "availability"}, {"tag": "scope", "value": "performance"}] | no url |
| The {$VMWARE.HV.UUID} health is Yellow | AVERAGE | One or more components in the appliance might become overloaded soon. | last(/VMware Hypervisor/vmware.hv.status[{$VMWARE.URL},{$VMWARE.HV.UUID}])=2 | [{"tag": "scope", "value": "availability"}, {"tag": "scope", "value": "performance"}] | no url |
| Hypervisor has been restarted | WARNING | Uptime is less than 10 minutes. | last(/VMware Hypervisor/vmware.hv.uptime[{$VMWARE.URL},{$VMWARE.HV.UUID}])<10m | [{"tag": "scope", "value": "notice"}] | no url |


<a name="discoveries"></a>

## Discoveries
| name | key | description | type | lifetime | delay |
| ------------- |------------- |------------- |------------- |------------- |------------- |
| Datastore discovery | vmware.hv.datastore.discovery[{$VMWARE.URL},{$VMWARE.HV.UUID}] | no description | SIMPLE | no lifetime | 1h |
| Healthcheck discovery | vmware.hv.healthcheck.discovery | VMware Rollup Health State sensor discovery. | DEPENDENT | no lifetime | 0 |
| Sensor discovery | vmware.hv.sensors.discovery | VMware hardware sensor discovery. The data is retrieved from numeric sensor probes and provides information about the health of the physical system. | DEPENDENT | no lifetime | 0 |


<a name="discovery_datastore_discovery"></a>

## Discovery Datastore discovery

### Items

| name | description | key | type |
| ------------- |------------- |------------- |------------- |
| Multipath count for datastore {#DATASTORE} | Number of available datastore paths. | vmware.hv.datastore.multipath[{$VMWARE.URL},{$VMWARE.HV.UUID},{#DATASTORE}] | SIMPLE |
| Average read latency of the datastore {#DATASTORE} | Average amount of time for a read operation from the datastore (milliseconds). | vmware.hv.datastore.read[{$VMWARE.URL},{$VMWARE.HV.UUID},{#DATASTORE},latency] | SIMPLE |
| Free space on datastore {#DATASTORE} (percentage) | VMware datastore space in percentage from total. | vmware.hv.datastore.size[{$VMWARE.URL},{$VMWARE.HV.UUID},{#DATASTORE},pfree] | SIMPLE |
| Total size of datastore {#DATASTORE} | VMware datastore space in bytes. | vmware.hv.datastore.size[{$VMWARE.URL},{$VMWARE.HV.UUID},{#DATASTORE}] | SIMPLE |
| Average write latency of the datastore {#DATASTORE} | Average amount of time for a write operation to the datastore (milliseconds). | vmware.hv.datastore.write[{$VMWARE.URL},{$VMWARE.HV.UUID},{#DATASTORE},latency] | SIMPLE |


### Triggers

| name | priority | description | expression | tags | url |
| ------------- |------------- |------------- |------------- |------------- |------------- |
| The multipath count has been changed | AVERAGE | The number of available datastore paths less than registered ({#MULTIPATH.COUNT}). | last(/VMware Hypervisor/vmware.hv.datastore.multipath[{$VMWARE.URL},{$VMWARE.HV.UUID},{#DATASTORE}],#1)<>last(/VMware Hypervisor/vmware.hv.datastore.multipath[{$VMWARE.URL},{$VMWARE.HV.UUID},{#DATASTORE}],#2) and last(/VMware Hypervisor/vmware.hv.datastore.multipath[{$VMWARE.URL},{$VMWARE.HV.UUID},{#DATASTORE}])<{#MULTIPATH.COUNT} | [{"tag": "scope", "value": "notice"}] | no url |


<a name="discovery_healthcheck_discovery"></a>

## Discovery Healthcheck discovery

### Items

| name | description | key | type |
| ------------- |------------- |------------- |------------- |
| Health state rollup | The host health state rollup sensor value: gray - unknown, green - ok, red - it has a problem, yellow - it might have a problem. | vmware.hv.sensor.health.state[{#SINGLETON}] | DEPENDENT |


### Triggers

| name | priority | description | expression | tags | url |
| ------------- |------------- |------------- |------------- |------------- |------------- |
| The {$VMWARE.HV.UUID} health is Red | HIGH | One or more components in the appliance might be in an unusable status and the appliance might become unresponsive soon. Security patches might be available. | last(/VMware Hypervisor/vmware.hv.sensor.health.state[{#SINGLETON}])="Red" | [{"tag": "scope", "value": "availability"}, {"tag": "scope", "value": "performance"}] | no url |
| The {$VMWARE.HV.UUID} health is Yellow | AVERAGE | One or more components in the appliance might become overloaded soon. | last(/VMware Hypervisor/vmware.hv.sensor.health.state[{#SINGLETON}])="Yellow" | [{"tag": "scope", "value": "availability"}, {"tag": "scope", "value": "performance"}] | no url |


<a name="discovery_sensor_discovery"></a>

## Discovery Sensor discovery

### Items

| name | description | key | type |
| ------------- |------------- |------------- |------------- |
| Sensor [{#NAME}] health state | VMware hardware sensor health state. One of the following:<br>- Unknown<br>- Green<br>- Yellow<br>- Red | vmware.hv.sensor.state["{#NAME}"] | DEPENDENT |


### Triggers

| name | priority | description | expression | tags | url |
| ------------- |------------- |------------- |------------- |------------- |------------- |
| Sensor [{#NAME}] health state is Red | HIGH | One or more components in the appliance might be in an unusable status and the appliance might become unresponsive soon. | last(/VMware Hypervisor/vmware.hv.sensor.state["{#NAME}"])=3 | [{"tag": "scope", "value": "availability"}, {"tag": "scope", "value": "performance"}] | no url |
| Sensor [{#NAME}] health state is Yellow | AVERAGE | One or more components in the appliance might become overloaded soon. | last(/VMware Hypervisor/vmware.hv.sensor.state["{#NAME}"])=2 | [{"tag": "scope", "value": "availability"}, {"tag": "scope", "value": "performance"}] | no url |

