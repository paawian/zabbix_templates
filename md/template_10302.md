# Template: RabbitMQ cluster by HTTP

## Template ID
10302

## Description
This template is developed to monitor the messaging broker RabbitMQ cluster by Zabbix that works without any external scripts.
Most of the metrics are collected in one go, thanks to Zabbix bulk data collection.

The template collects metrics by polling RabbitMQ management plugin with HTTP agent remotely.

Setup:

1. Enable the RabbitMQ management plugin. See the RabbitMQ documentation for the instructions:
https://www.rabbitmq.com/management.html

2. Create a user to monitor the service:

rabbitmqctl add_user zbx_monitor <PASSWORD>
rabbitmqctl set_permissions  -p / zbx_monitor "" "" ".*"
rabbitmqctl set_user_tags zbx_monitor monitoring

3. Set the hostname or IP address of the RabbitMQ cluster host in the '{$RABBITMQ.API.CLUSTER_HOST}' macro. You can also change the port in the '{$RABBITMQ.API.PORT}' macro and the scheme in the '{$RABBITMQ.API.SCHEME}' macro if necessary.

4. Set the user name and password in the macros '{$RABBITMQ.API.USER}' and '{$RABBITMQ.API.PASSWORD}'.

You can discuss this template or leave feedback on our forum https://www.zabbix.com/forum/zabbix-suggestions-and-feedback/387226-discussion-thread-for-official-zabbix-template-rabbitmq

Generated by official Zabbix template tool "Templator"

## Linked Hosts
None

## Items

### Item: Get exchanges
- **Description**: The HTTP API endpoint that returns exchanges metrics.
- **Interval**: 1m
- **Data Type**: 4

### Item: Get overview
- **Description**: The HTTP API endpoint that returns cluster-wide metrics.
- **Interval**: 1m
- **Data Type**: 4

### Item: Messages acknowledged
- **Description**: The number of messages delivered to clients and acknowledged.
- **Interval**: 0
- **Data Type**: 3

### Item: Messages acknowledged per second
- **Description**: The rate of messages (per second) delivered to clients and acknowledged.
- **Interval**: 0
- **Data Type**: 0

### Item: Messages confirmed
- **Description**: The count of confirmed messages.
- **Interval**: 0
- **Data Type**: 3

### Item: Messages confirmed per second
- **Description**: The rate of messages confirmed per second.
- **Interval**: 0
- **Data Type**: 0

### Item: Messages delivered
- **Description**: The sum of messages delivered to consumers: in acknowledgement mode and in no-acknowledgement mode; delivered to consumers in response to the `basic.get`: in acknowledgement mode and in no-acknowledgement mode.
- **Interval**: 0
- **Data Type**: 3

### Item: Messages delivered per second
- **Description**: The rate of the sum of messages (per second) delivered to consumers: in acknowledgement mode and in no-acknowledgement mode; delivered to consumers in response to the `basic.get`: in acknowledgement mode and in no-acknowledgement mode.
- **Interval**: 0
- **Data Type**: 0

### Item: Messages published
- **Description**: The count of published messages.
- **Interval**: 0
- **Data Type**: 3

### Item: Messages publish_in
- **Description**: The count of messages published from the channels into this overview.
- **Interval**: 0
- **Data Type**: 3

### Item: Messages publish_in per second
- **Description**: The rate of messages (per second) published from the channels into this overview.
- **Interval**: 0
- **Data Type**: 0

### Item: Messages publish_out
- **Description**: The count of messages published from this overview into queues.
- **Interval**: 0
- **Data Type**: 3

### Item: Messages publish_out per second
- **Description**: The rate of messages (per second) published from this overview into queues.
- **Interval**: 0
- **Data Type**: 0

### Item: Messages published per second
- **Description**: The rate of messages published per second.
- **Interval**: 0
- **Data Type**: 0

### Item: Messages returned redeliver
- **Description**: The count of subset of messages in the `deliver_get`, which had the `redelivered` flag set.
- **Interval**: 0
- **Data Type**: 3

### Item: Messages returned redeliver per second
- **Description**: The rate of subset of messages (per second) in the `deliver_get`, which had the `redelivered` flag set.
- **Interval**: 0
- **Data Type**: 0

### Item: Messages returned unroutable
- **Description**: The count of messages returned to a publisher as unroutable.
- **Interval**: 0
- **Data Type**: 3

### Item: Messages returned unroutable per second
- **Description**: The rate of messages (per second) returned to a publisher as unroutable.
- **Interval**: 0
- **Data Type**: 0

### Item: Channels total
- **Description**: The total number of channels.
- **Interval**: 0
- **Data Type**: 3

### Item: Connections total
- **Description**: The total number of connections.
- **Interval**: 0
- **Data Type**: 3

### Item: Consumers total
- **Description**: The total number of consumers.
- **Interval**: 0
- **Data Type**: 3

### Item: Exchanges total
- **Description**: The total number of exchanges.
- **Interval**: 0
- **Data Type**: 3

### Item: Queues total
- **Description**: The total number of queues.
- **Interval**: 0
- **Data Type**: 3

### Item: Messages total
- **Description**: The total number of messages (ready, plus unacknowledged).
- **Interval**: 0
- **Data Type**: 3

### Item: Messages ready for delivery
- **Description**: The number of messages ready for delivery.
- **Interval**: 0
- **Data Type**: 3

### Item: Messages unacknowledged
- **Description**: The number of unacknowledged messages.
- **Interval**: 0
- **Data Type**: 3

