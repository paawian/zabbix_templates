# Linux by Prom template description

This template collects Linux metrics from node_exporter 0.18 and above. Support for older node_exporter versions is provided as 'best effort'.

Setup:

1. Set up the node_exporter according to the official documentation:
https://prometheus.io/docs/guides/node-exporter/

Use node_exporter v0.18.0 or above.

2. Set the hostname or IP address of the node_exporter host in the '{$NODE_EXPORTER_HOST}' macro. You can also change the Prometheus endpoint port in the '{$NODE_EXPORTER_PORT}' macro if necessary.

Known Issues:

  - Node Exporter 0.16.0 renamed many metrics. CPU utilization for "guest" and "guest_nice" metrics are not supported in this template with Node Exporter < 0.16. Disk IO metrics are not supported. Other metrics provided as best effort. See https://github.com/prometheus/node_exporter/releases/tag/v0.16.0 for details.
    - version: below 0.16.0
  - metric node_network_info with label 'device' cannot be found, so network discovery is not possible.
    - version: below 0.18

Notes on filesystem (FS) discovery:
  - The ext4/3/2 FS reserves space for privileged usage, typically set at 5% by default.
  - BTRFS allocates a default of 10% of the volume for its own needs.
  - To mitigate potential disasters, FS usage triggers are based on the maximum available space.
    - Utilization formula: 'pused = 100 - 100 * (available / total - free + available)'
  - The FS utilization chart, derived from graph prototypes, reflects FS reserved space as the difference between used and available space from the total volume.

You can discuss this template or leave feedback on our forum https://www.zabbix.com/forum/zabbix-suggestions-and-feedback/387225-discussion-thread-for-official-zabbix-template-for-linux

Generated by official Zabbix template tool "Templator"

## Summary
* [items](#items)
* [macros](#macros)
* [triggers](#triggers)
* [discoveries](#discoveries)
  * [Discovery Network interface discovery ](#discovery_network_interface_discovery)
  * [Discovery Block devices discovery ](#discovery_block_devices_discovery)
  * [Discovery Mounted filesystem discovery ](#discovery_mounted_filesystem_discovery)

<a name="items"></a>

## Items
| name | description | key | type | delay |
| ------------- |------------- |------------- |------------- |------------- |
| Version of node_exporter running | no description | agent.version[node_exporter] | DEPENDENT | 0 |
| Number of open file descriptors | no description | fd.open[node_exporter] | DEPENDENT | 0 |
| Maximum number of open file descriptors | May be increased by using `sysctl` utility or modifying the file `/etc/sysctl.conf`. | kernel.maxfiles[node_exporter] | DEPENDENT | 0 |
| Get node_exporter metrics | no description | node_exporter.get | HTTP_AGENT | no delay |
| System boot time | no description | system.boottime[node_exporter] | DEPENDENT | 0 |
| CPU guest time | Time spent on running a virtual CPU for a guest operating system. | system.cpu.guest[node_exporter] | DEPENDENT | 0 |
| CPU guest nice time | The time spent on running a niced guest (a virtual CPU for guest operating systems under the control of the Linux kernel). | system.cpu.guest_nice[node_exporter] | DEPENDENT | 0 |
| CPU idle time | Time the CPU has spent doing nothing. | system.cpu.idle[node_exporter] | DEPENDENT | 0 |
| CPU interrupt time | Time the CPU has spent servicing hardware interrupts. | system.cpu.interrupt[node_exporter] | DEPENDENT | 0 |
| Interrupts per second | Number of interrupts processed. | system.cpu.intr[node_exporter] | DEPENDENT | 0 |
| CPU iowait time | Time the CPU has been waiting for I/O to complete. | system.cpu.iowait[node_exporter] | DEPENDENT | 0 |
| Load average (1m avg) | Calculated as the system CPU load divided by the number of CPU cores. | system.cpu.load.avg1[node_exporter] | DEPENDENT | 0 |
| Load average (5m avg) | Calculated as the system CPU load divided by the number of CPU cores. | system.cpu.load.avg5[node_exporter] | DEPENDENT | 0 |
| Load average (15m avg) | Calculated as the system CPU load divided by the number of CPU cores. | system.cpu.load.avg15[node_exporter] | DEPENDENT | 0 |
| CPU nice time | Time the CPU has spent running users' processes that have been niced. | system.cpu.nice[node_exporter] | DEPENDENT | 0 |
| Number of CPUs | no description | system.cpu.num[node_exporter] | DEPENDENT | 0 |
| CPU softirq time | Time the CPU has spent servicing software interrupts. | system.cpu.softirq[node_exporter] | DEPENDENT | 0 |
| CPU steal time | The amount of "stolen" CPU from this virtual machine by the hypervisor for other tasks, such as running another virtual machine. | system.cpu.steal[node_exporter] | DEPENDENT | 0 |
| Context switches per second | The combined rate at which all processors on the computer are switched from one thread to another. | system.cpu.switches[node_exporter] | DEPENDENT | 0 |
| CPU system time | Time the CPU has spent running the kernel and its processes. | system.cpu.system[node_exporter] | DEPENDENT | 0 |
| CPU user time | Time the CPU has spent running users' processes that are not niced. | system.cpu.user[node_exporter] | DEPENDENT | 0 |
| CPU utilization | CPU utilization expressed in %. | system.cpu.util[node_exporter] | DEPENDENT | 0 |
| System description | Labeled system information as provided by the uname system call. | system.descr[node_exporter] | DEPENDENT | 0 |
| System local time | The local system time of the host. | system.localtime[node_exporter] | DEPENDENT | 0 |
| System name | The host name of the system. | system.name[node_exporter] | DEPENDENT | 0 |
| Operating system architecture | no description | system.sw.arch[node_exporter] | DEPENDENT | 0 |
| Operating system | no description | system.sw.os[node_exporter] | DEPENDENT | 0 |
| Free swap space | The free space of the swap volume/file expressed in bytes. | system.swap.free[node_exporter] | DEPENDENT | 0 |
| Free swap space in % | The free space of the swap volume/file expressed in %. | system.swap.pfree[node_exporter] | CALCULATED | no delay |
| Total swap space | Total space of the swap volume/file expressed in bytes. | system.swap.total[node_exporter] | DEPENDENT | 0 |
| System uptime | The system uptime expressed in the following format: "N days, hh:mm:ss". | system.uptime[node_exporter] | DEPENDENT | 0 |
| Available memory | The available memory:<br>- in Linux - available = free + buffers + cache;<br>- on other platforms calculation may vary.<br><br>See also Appendixes in Zabbix Documentation about parameters of the `vm.memory.size` item. | vm.memory.available[node_exporter] | DEPENDENT | 0 |
| Total memory | Total memory expressed in bytes. | vm.memory.total[node_exporter] | DEPENDENT | 0 |
| Memory utilization | Percentage calculated as (total-available)/total*100. | vm.memory.util[node_exporter] | CALCULATED | no delay |


<a name="macros"></a>

## Macros
| macro | value |
| ------------- |------------- |
| {$CPU.UTIL.CRIT} | 90 |
| {$IF.ERRORS.WARN} | 2 |
| {$IF.UTIL.MAX} | 90 |
| {$IFCONTROL} | 1 |
| {$KERNEL.MAXFILES.MIN} | 256 |
| {$LOAD_AVG_PER_CPU.MAX.WARN} | 1.5 |
| {$MEMORY.AVAILABLE.MIN} | 20M |
| {$MEMORY.UTIL.MAX} | 90 |
| {$NET.IF.IFALIAS.MATCHES} | ^.*$ |
| {$NET.IF.IFALIAS.NOT_MATCHES} | CHANGE_IF_NEEDED |
| {$NET.IF.IFNAME.MATCHES} | ^.*$ |
| {$NET.IF.IFNAME.NOT_MATCHES} | (^Software Loopback Interface\|^NULL[0-9.]*$\|^[Ll]o[0-9.]*$\|^[Ss]ystem$\|^Nu[0-9.]*$\|^veth[0-9A-z]+$\|docker[0-9]+\|br-[a-z0-9]{12}) |
| {$NET.IF.IFOPERSTATUS.MATCHES} | ^.*$ |
| {$NET.IF.IFOPERSTATUS.NOT_MATCHES} | ^notpresent$ |
| {$NODE_EXPORTER_HOST} | <SET NODE EXPORTER HOST> |
| {$NODE_EXPORTER_PORT} | 9100 |
| {$SWAP.PFREE.MIN.WARN} | 50 |
| {$SYSTEM.FUZZYTIME.MAX} | 60 |
| {$VFS.DEV.DEVNAME.MATCHES} | .+ |
| {$VFS.DEV.DEVNAME.NOT_MATCHES} | ^(loop[0-9]*\|sd[a-z][0-9]+\|nbd[0-9]+\|sr[0-9]+\|fd[0-9]+\|dm-[0-9]+\|ram[0-9]+\|ploop[a-z0-9]+\|md[0-9]*\|hcp[0-9]*\|zram[0-9]*) |
| {$VFS.DEV.READ.AWAIT.WARN} | 20 |
| {$VFS.DEV.WRITE.AWAIT.WARN} | 20 |
| {$VFS.FS.FSDEVICE.MATCHES} | ^.+$ |
| {$VFS.FS.FSDEVICE.NOT_MATCHES} | ^\s$ |
| {$VFS.FS.FSNAME.MATCHES} | .+ |
| {$VFS.FS.FSNAME.NOT_MATCHES} | ^(/dev\|/sys\|/run\|/proc\|.+/shm$) |
| {$VFS.FS.FSTYPE.MATCHES} | ^(btrfs\|ext2\|ext3\|ext4\|reiser\|xfs\|ffs\|ufs\|jfs\|jfs2\|vxfs\|hfs\|apfs\|refs\|ntfs\|fat32\|zfs)$ |
| {$VFS.FS.FSTYPE.NOT_MATCHES} | ^\s$ |
| {$VFS.FS.INODE.PFREE.MIN.CRIT} | 10 |
| {$VFS.FS.INODE.PFREE.MIN.WARN} | 20 |
| {$VFS.FS.PUSED.MAX.CRIT} | 90 |
| {$VFS.FS.PUSED.MAX.WARN} | 80 |


<a name="triggers"></a>

## Triggers
| name | priority | description | expression | tags | url |
| ------------- |------------- |------------- |------------- |------------- |------------- |
| Configured max number of open filedescriptors is too low | INFO | no description | last(/Linux by Prom/kernel.maxfiles[node_exporter])<{$KERNEL.MAXFILES.MIN} | [{"tag": "scope", "value": "performance"}] | no url |
| node_exporter is not available | WARNING | Failed to fetch system metrics from node_exporter in time. | nodata(/Linux by Prom/node_exporter.get,30m)=1 | [{"tag": "scope", "value": "availability"}] | no url |
| High CPU utilization | WARNING | The CPU utilization is too high. The system might be slow to respond. | min(/Linux by Prom/system.cpu.util[node_exporter],5m)>{$CPU.UTIL.CRIT} | [{"tag": "scope", "value": "performance"}] | no url |
| System time is out of sync | WARNING | The host's system time is different from Zabbix server time. | fuzzytime(/Linux by Prom/system.localtime[node_exporter],{$SYSTEM.FUZZYTIME.MAX})=0 | [{"tag": "scope", "value": "availability"}, {"tag": "scope", "value": "performance"}] | no url |
| System name has changed | INFO | The name of the system has changed. Acknowledge to close the problem manually. | last(/Linux by Prom/system.name[node_exporter],#1)<>last(/Linux by Prom/system.name[node_exporter],#2) and length(last(/Linux by Prom/system.name[node_exporter]))>0 | [{"tag": "scope", "value": "notice"}, {"tag": "scope", "value": "security"}] | no url |
| Operating system description has changed | INFO | The description of the operating system has changed. Possible reasons are that the system has been updated or replaced. Acknowledge to close the problem manually. | last(/Linux by Prom/system.sw.os[node_exporter],#1)<>last(/Linux by Prom/system.sw.os[node_exporter],#2) and length(last(/Linux by Prom/system.sw.os[node_exporter]))>0 | [{"tag": "scope", "value": "notice"}] | no url |
| {HOST.NAME} has been restarted | WARNING | The device uptime is less than 10 minutes. | last(/Linux by Prom/system.uptime[node_exporter])<10m | [{"tag": "scope", "value": "notice"}] | no url |
| High memory utilization | AVERAGE | The system is running out of free memory. | min(/Linux by Prom/vm.memory.util[node_exporter],5m)>{$MEMORY.UTIL.MAX} | [{"tag": "scope", "value": "capacity"}, {"tag": "scope", "value": "performance"}] | no url |
| High swap space usage | WARNING | If there is no swap configured, this trigger is ignored. | max(/Linux by Prom/system.swap.pfree[node_exporter],5m)<{$SWAP.PFREE.MIN.WARN} and last(/Linux by Prom/system.swap.total[node_exporter])>0 | [{"tag": "scope", "value": "capacity"}] | no url |
| Lack of available memory | AVERAGE | no description | max(/Linux by Prom/vm.memory.available[node_exporter],5m)<{$MEMORY.AVAILABLE.MIN} and last(/Linux by Prom/vm.memory.total[node_exporter])>0 | [{"tag": "scope", "value": "capacity"}, {"tag": "scope", "value": "performance"}] | no url |
| Load average is too high | AVERAGE | The load average per CPU is too high. The system may be slow to respond. | min(/Linux by Prom/system.cpu.load.avg1[node_exporter],5m)/last(/Linux by Prom/system.cpu.num[node_exporter])>{$LOAD_AVG_PER_CPU.MAX.WARN}<br>and last(/Linux by Prom/system.cpu.load.avg5[node_exporter])>0<br>and last(/Linux by Prom/system.cpu.load.avg15[node_exporter])>0 | [{"tag": "scope", "value": "capacity"}, {"tag": "scope", "value": "performance"}] | no url |
| Running out of file descriptors | WARNING | no description | last(/Linux by Prom/fd.open[node_exporter])/last(/Linux by Prom/kernel.maxfiles[node_exporter])*100>80 | [{"tag": "scope", "value": "performance"}] | no url |


<a name="discoveries"></a>

## Discoveries
| name | key | description | type | lifetime | delay |
| ------------- |------------- |------------- |------------- |------------- |------------- |
| Network interface discovery | net.if.discovery[node_exporter] | Discovery of network interfaces. Requires node_exporter v0.18 and up. | DEPENDENT | no lifetime | 0 |
| Block devices discovery | vfs.dev.discovery[node_exporter] | no description | DEPENDENT | no lifetime | 0 |
| Mounted filesystem discovery | vfs.fs.discovery[node_exporter] | Discovery of file systems of different types. | DEPENDENT | no lifetime | 0 |


<a name="discovery_network_interface_discovery"></a>

## Discovery Network interface discovery

### Items

| name | description | key | type |
| ------------- |------------- |------------- |------------- |
| Interface {#IFNAME}({#IFALIAS}): Inbound packets discarded | no description | net.if.in.discards[node_exporter,"{#IFNAME}"] | DEPENDENT |
| Interface {#IFNAME}({#IFALIAS}): Inbound packets with errors | no description | net.if.in.errors[node_exporter,"{#IFNAME}"] | DEPENDENT |
| Interface {#IFNAME}({#IFALIAS}): Bits received | no description | net.if.in[node_exporter,"{#IFNAME}"] | DEPENDENT |
| Interface {#IFNAME}({#IFALIAS}): Outbound packets discarded | no description | net.if.out.discards[node_exporter,"{#IFNAME}"] | DEPENDENT |
| Interface {#IFNAME}({#IFALIAS}): Outbound packets with errors | no description | net.if.out.errors[node_exporter"{#IFNAME}"] | DEPENDENT |
| Interface {#IFNAME}({#IFALIAS}): Bits sent | no description | net.if.out[node_exporter,"{#IFNAME}"] | DEPENDENT |
| Interface {#IFNAME}({#IFALIAS}): Speed | Sets value to "0" if metric is missing in `node_exporter` output. | net.if.speed[node_exporter,"{#IFNAME}"] | DEPENDENT |
| Interface {#IFNAME}({#IFALIAS}): Operational status | Reference: https://www.kernel.org/doc/Documentation/networking/operstates.txt | net.if.status[node_exporter,"{#IFNAME}"] | DEPENDENT |
| Interface {#IFNAME}({#IFALIAS}): Interface type | node_network_protocol_type protocol_type value of /sys/class/net/<iface>. | net.if.type[node_exporter,"{#IFNAME}"] | DEPENDENT |


### Triggers

| name | priority | description | expression | tags | url |
| ------------- |------------- |------------- |------------- |------------- |------------- |
| Interface {#IFNAME}({#IFALIAS}): Link down | AVERAGE | This trigger expression works as follows:<br>1. It can be triggered if the operations status is down.<br>2. `{$IFCONTROL:"{#IFNAME}"}=1` - a user can redefine context macro to value "0", marking this interface as not important. No new trigger will be fired if this interface is down.<br>3. `last(/TEMPLATE_NAME/METRIC,#1)<>last(/TEMPLATE_NAME/METRIC,#2)` - the trigger fires only if the operational status was up to (1) sometime before (so, do not fire for the 'eternal off' interfaces.)<br><br>WARNING: if closed manually - it will not fire again on the next poll, because of .diff. | {$IFCONTROL:"{#IFNAME}"}=1 and last(/Linux by Prom/net.if.status[node_exporter,"{#IFNAME}"])=2 and (last(/Linux by Prom/net.if.status[node_exporter,"{#IFNAME}"],#1)<>last(/Linux by Prom/net.if.status[node_exporter,"{#IFNAME}"],#2)) | [{"tag": "scope", "value": "availability"}] | no url |
| Interface {#IFNAME}({#IFALIAS}): Ethernet has changed to lower speed than it was before | INFO | This Ethernet connection has transitioned down from its known maximum speed. This might be a sign of autonegotiation issues. Acknowledge to close the problem manually. | change(/Linux by Prom/net.if.speed[node_exporter,"{#IFNAME}"])<0 and last(/Linux by Prom/net.if.speed[node_exporter,"{#IFNAME}"])>0<br>and (<br>last(/Linux by Prom/net.if.type[node_exporter,"{#IFNAME}"])=6 or<br>last(/Linux by Prom/net.if.type[node_exporter,"{#IFNAME}"])=7 or<br>last(/Linux by Prom/net.if.type[node_exporter,"{#IFNAME}"])=11 or<br>last(/Linux by Prom/net.if.type[node_exporter,"{#IFNAME}"])=62 or<br>last(/Linux by Prom/net.if.type[node_exporter,"{#IFNAME}"])=69 or<br>last(/Linux by Prom/net.if.type[node_exporter,"{#IFNAME}"])=117<br>)<br>and<br>(last(/Linux by Prom/net.if.status[node_exporter,"{#IFNAME}"])<>2) | [{"tag": "scope", "value": "performance"}] | no url |
| Interface {#IFNAME}({#IFALIAS}): Ethernet has changed to lower speed than it was before | INFO | This Ethernet connection has transitioned down from its known maximum speed. This might be a sign of autonegotiation issues. Acknowledge to close the problem manually. | change(/Linux by Prom/net.if.type[node_exporter,"{#IFNAME}"])<0 and last(/Linux by Prom/net.if.type[node_exporter,"{#IFNAME}"])>0<br>and<br>(last(/Linux by Prom/net.if.type[node_exporter,"{#IFNAME}"])=6<br>or last(/Linux by Prom/net.if.type[node_exporter,"{#IFNAME}"])=1)<br>and<br>(last(/Linux by Prom/net.if.status[node_exporter,"{#IFNAME}"])<>2) | [{"tag": "scope", "value": "performance"}] | no url |
| Interface {#IFNAME}({#IFALIAS}): High bandwidth usage | WARNING | The utilization of the network interface is close to its estimated maximum bandwidth. | (avg(/Linux by Prom/net.if.in[node_exporter,"{#IFNAME}"],15m)>({$IF.UTIL.MAX:"{#IFNAME}"}/100)*last(/Linux by Prom/net.if.speed[node_exporter,"{#IFNAME}"]) or<br>avg(/Linux by Prom/net.if.out[node_exporter,"{#IFNAME}"],15m)>({$IF.UTIL.MAX:"{#IFNAME}"}/100)*last(/Linux by Prom/net.if.speed[node_exporter,"{#IFNAME}"])) and<br>last(/Linux by Prom/net.if.speed[node_exporter,"{#IFNAME}"])>0 | [{"tag": "scope", "value": "performance"}] | no url |
| Interface {#IFNAME}({#IFALIAS}): High error rate | WARNING | It recovers when it is below 80% of the `{$IF.ERRORS.WARN:"{#IFNAME}"}` threshold. | min(/Linux by Prom/net.if.in.errors[node_exporter,"{#IFNAME}"],5m)>{$IF.ERRORS.WARN:"{#IFNAME}"}<br>or min(/Linux by Prom/net.if.out.errors[node_exporter"{#IFNAME}"],5m)>{$IF.ERRORS.WARN:"{#IFNAME}"} | [{"tag": "scope", "value": "availability"}, {"tag": "scope", "value": "performance"}] | no url |


<a name="discovery_block_devices_discovery"></a>

## Discovery Block devices discovery

### Items

| name | description | key | type |
| ------------- |------------- |------------- |------------- |
| {#DEVNAME}: Disk average queue size (avgqu-sz) | The current average disk queue; the number of requests outstanding on the disk while the performance data is being collected. | vfs.dev.queue_size[node_exporter,"{#DEVNAME}"] | DEPENDENT |
| {#DEVNAME}: Disk read request avg waiting time (r_await) | This formula contains two Boolean expressions that evaluates to 1 or 0 in order to set calculated metric to zero and to avoid division by zero exception. | vfs.dev.read.await[node_exporter,"{#DEVNAME}"] | CALCULATED |
| {#DEVNAME}: Disk read rate | r/s. The number (after merges) of read requests completed per second for the device. | vfs.dev.read.rate[node_exporter,"{#DEVNAME}"] | DEPENDENT |
| {#DEVNAME}: Disk read time (rate) | Rate of total read time counter. Used in `r_await` calculation. | vfs.dev.read.time.rate[node_exporter,"{#DEVNAME}"] | DEPENDENT |
| {#DEVNAME}: Disk utilization | This item is the percentage of elapsed time during which the selected disk drive was busy while servicing read or write requests. | vfs.dev.util[node_exporter,"{#DEVNAME}"] | DEPENDENT |
| {#DEVNAME}: Disk write request avg waiting time (w_await) | This formula contains two Boolean expressions that evaluates to 1 or 0 in order to set calculated metric to zero and to avoid division by zero exception. | vfs.dev.write.await[node_exporter,"{#DEVNAME}"] | CALCULATED |
| {#DEVNAME}: Disk write rate | w/s. The number (after merges) of write requests completed per second for the device. | vfs.dev.write.rate[node_exporter,"{#DEVNAME}"] | DEPENDENT |
| {#DEVNAME}: Disk write time (rate) | Rate of total write time counter. Used in `w_await` calculation. | vfs.dev.write.time.rate[node_exporter,"{#DEVNAME}"] | DEPENDENT |


### Triggers

| name | priority | description | expression | tags | url |
| ------------- |------------- |------------- |------------- |------------- |------------- |
| {#DEVNAME}: Disk read/write request responses are too high | WARNING | This trigger might indicate the disk `{#DEVNAME}` saturation. | min(/Linux by Prom/vfs.dev.read.await[node_exporter,"{#DEVNAME}"],15m) > {$VFS.DEV.READ.AWAIT.WARN:"{#DEVNAME}"} or min(/Linux by Prom/vfs.dev.write.await[node_exporter,"{#DEVNAME}"],15m) > {$VFS.DEV.WRITE.AWAIT.WARN:"{#DEVNAME}"} | [{"tag": "scope", "value": "performance"}] | no url |


<a name="discovery_mounted_filesystem_discovery"></a>

## Discovery Mounted filesystem discovery

### Items

| name | description | key | type |
| ------------- |------------- |------------- |------------- |
| FS [{#FSNAME}]: Space: Available | Available storage space expressed in bytes. | vfs.fs.free[node_exporter,"{#FSNAME}"] | DEPENDENT |
| FS [{#FSNAME}]: Inodes: Free, in % | Free metadata space expressed as a percentage. | vfs.fs.inode.pfree[node_exporter,"{#FSNAME}"] | DEPENDENT |
| FS [{#FSNAME}]: Space: Used, in % | Calculated as the percentage of currently used space compared to the maximum available space. | vfs.fs.pused[node_exporter,"{#FSNAME}"] | DEPENDENT |
| FS [{#FSNAME}]: Space: Total | Total space expressed in bytes. | vfs.fs.total[node_exporter,"{#FSNAME}"] | DEPENDENT |
| FS [{#FSNAME}]: Space: Used | Used storage expressed in bytes.<br>Reserverd space is not counted in. | vfs.fs.used[node_exporter,"{#FSNAME}"] | DEPENDENT |
| FS [{#FSNAME}]: Filesystem is read-only | The filesystem is mounted as read-only. It is available only for Zabbix agents 6.4 and higher. | vfs.fs.[node_exporter,"{#FSNAME}"] | DEPENDENT |


### Triggers

| name | priority | description | expression | tags | url |
| ------------- |------------- |------------- |------------- |------------- |------------- |
| FS [{#FSNAME}]: Running out of free inodes | AVERAGE | Disk writing may fail if index nodes are exhausted, leading to error messages like "No space left on device" or "Disk is full", despite available free space. | min(/Linux by Prom/vfs.fs.inode.pfree[node_exporter,"{#FSNAME}"],5m)<{$VFS.FS.INODE.PFREE.MIN.CRIT:"{#FSNAME}"} | [{"tag": "scope", "value": "capacity"}, {"tag": "scope", "value": "performance"}] | no url |
| FS [{#FSNAME}]: Running out of free inodes | WARNING | Disk writing may fail if index nodes are exhausted, leading to error messages like "No space left on device" or "Disk is full", despite available free space. | min(/Linux by Prom/vfs.fs.inode.pfree[node_exporter,"{#FSNAME}"],5m)<{$VFS.FS.INODE.PFREE.MIN.WARN:"{#FSNAME}"} | [{"tag": "scope", "value": "capacity"}, {"tag": "scope", "value": "performance"}] | no url |
| FS [{#FSNAME}]: Space is critically low | AVERAGE | The storage space usage exceeds the '{$VFS.FS.PUSED.MAX.CRIT:"{#FSNAME}"}%' limit.<br>The trigger expression is based on the current used and maximum available spaces.<br>Event name represents the total volume space, which can differ from the maximum available space, depending on the filesystem type. | min(/Linux by Prom/vfs.fs.pused[node_exporter,"{#FSNAME}"],5m)>{$VFS.FS.PUSED.MAX.CRIT:"{#FSNAME}"} | [{"tag": "scope", "value": "availability"}, {"tag": "scope", "value": "capacity"}] | no url |
| FS [{#FSNAME}]: Space is low | WARNING | The storage space usage exceeds the '{$VFS.FS.PUSED.MAX.WARN:"{#FSNAME}"}%' limit.<br>The trigger expression is based on the current used and maximum available spaces.<br>Event name represents the total volume space, which can differ from the maximum available space, depending on the filesystem type. | min(/Linux by Prom/vfs.fs.pused[node_exporter,"{#FSNAME}"],5m)>{$VFS.FS.PUSED.MAX.WARN:"{#FSNAME}"} | [{"tag": "scope", "value": "availability"}, {"tag": "scope", "value": "capacity"}] | no url |
| FS [{#FSNAME}]: Filesystem has become read-only | AVERAGE | The filesystem has become read-only, possibly due to an I/O error. It is available only for Zabbix agents 6.4 and higher. | last(/Linux by Prom/vfs.fs.[node_exporter,"{#FSNAME}"],#2)=0 and last(/Linux by Prom/vfs.fs.[node_exporter,"{#FSNAME}"])=1 | [{"tag": "scope", "value": "availability"}, {"tag": "scope", "value": "performance"}] | no url |

