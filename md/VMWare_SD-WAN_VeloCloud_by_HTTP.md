# VMWare SD-WAN VeloCloud by HTTP template description

Template for monitoring VMWare SD-WAN VeloCloud https://www.vmware.com/products/sd-wan.html

You can discuss this template or leave feedback on our forum https://www.zabbix.com/forum/zabbix-suggestions-and-feedback/

Generated by official Zabbix template tool "Templator"

## Summary
* [items](#items)
* [macros](#macros)
* [triggers](#triggers)
* [discoveries](#discoveries)
  * [Discovery Edges metrics discovery ](#discovery_edges_metrics_discovery)
  * [Discovery Gateways metrics discovery ](#discovery_gateways_metrics_discovery)
  * [Discovery Links metrics discovery ](#discovery_links_metrics_discovery)
  * [Discovery SDWAN peers path metrics discovery ](#discovery_sdwan_peers_path_metrics_discovery)
  * [Discovery SDWAN peers metrics discovery ](#discovery_sdwan_peers_metrics_discovery)

<a name="items"></a>

## Items
| name | description | key | type | delay |
| ------------- |------------- |------------- |------------- |------------- |
| Get data | The JSON with result of Velocloud API requests. | velocloud.get | SCRIPT | no delay |
| Clear data | Clear metrics for data without errors. | velocloud.get.clear_metrics | DEPENDENT | 0 |
| Get data collection errors | Errors of aggregate script item. | velocloud.get.error | DEPENDENT | 0 |
| Orchestrator API version | Version of VMware SD-WAN Orchestrator API. | velocloud.orchestrator.api_version | DEPENDENT | 0 |
| Orchestrator build | Build of VMware SD-WAN Orchestrator API. | velocloud.orchestrator.build | DEPENDENT | 0 |
| Orchestrator version | Version of VMware SD-WAN Orchestrator API. | velocloud.orchestrator.version | DEPENDENT | 0 |
| System properties | System properties of VMware SD-WAN. | velocloud.system.properties | HTTP_AGENT | 6h |


<a name="macros"></a>

## Macros
| macro | value |
| ------------- |------------- |
| {$VELOCLOUD.LLD.EDGES.FILTER.MATCHES} | .* |
| {$VELOCLOUD.LLD.EDGES.FILTER.NOT_MATCHES} | CHANGE_IF_NEEDED |
| {$VELOCLOUD.LLD.GATEWAYS.FILTER.MATCHES} | .* |
| {$VELOCLOUD.LLD.GATEWAYS.FILTER.NOT_MATCHES} | CHANGE_IF_NEEDED |
| {$VELOCLOUD.LLD.LINKS.FILTER.MATCHES} | .* |
| {$VELOCLOUD.LLD.LINKS.FILTER.NOT_MATCHES} | CHANGE_IF_NEEDED |
| {$VELOCLOUD.TOKEN} | no value |
| {$VELOCLOUD.URL} | no value |


<a name="triggers"></a>

## Triggers
| name | priority | description | expression | tags | url |
| ------------- |------------- |------------- |------------- |------------- |------------- |
| There are errors in aggregate script item | WARNING | There are errors in aggregate script item. | length(last(/VMWare SD-WAN VeloCloud by HTTP/velocloud.get.error))>0 | [{"tag": "scope", "value": "notice"}] | no url |
| Failed to fetch aggregate data | AVERAGE | Zabbix has not received any data for items for the last 30 minutes. | nodata(/VMWare SD-WAN VeloCloud by HTTP/velocloud.orchestrator.api_version,30m)=1 | [{"tag": "scope", "value": "availability"}] | no url |
| Orchestrator build has been changed | INFO | Velocloud Orchestrator build has been changed. | last(/VMWare SD-WAN VeloCloud by HTTP/velocloud.orchestrator.build,#1)<>last(/VMWare SD-WAN VeloCloud by HTTP/velocloud.orchestrator.build,#2) and length(last(/VMWare SD-WAN VeloCloud by HTTP/velocloud.orchestrator.build))>0 | [{"tag": "scope", "value": "notice"}] | no url |
| Orchestrator version has been changed | INFO | Velocloud Orchestrator version has been changed. | last(/VMWare SD-WAN VeloCloud by HTTP/velocloud.orchestrator.version,#1)<>last(/VMWare SD-WAN VeloCloud by HTTP/velocloud.orchestrator.version,#2) and length(last(/VMWare SD-WAN VeloCloud by HTTP/velocloud.orchestrator.version))>0 | [{"tag": "scope", "value": "notice"}] | no url |
| System properties have changed | INFO | System properties have changed. | last(/VMWare SD-WAN VeloCloud by HTTP/velocloud.system.properties,#1)<>last(/VMWare SD-WAN VeloCloud by HTTP/velocloud.system.properties,#2) | [{"tag": "scope", "value": "notice"}] | no url |


<a name="discoveries"></a>

## Discoveries
| name | key | description | type | lifetime | delay |
| ------------- |------------- |------------- |------------- |------------- |------------- |
| Edges metrics discovery | velocloud.edges.discovery | Metrics for edges statistics. | DEPENDENT | no lifetime | 0 |
| Gateways metrics discovery | velocloud.gateways.discovery | Metrics for gateways statistics. | DEPENDENT | no lifetime | 0 |
| Links metrics discovery | velocloud.links.discovery | Metrics for links statistics. | DEPENDENT | no lifetime | 0 |
| SDWAN peers path metrics discovery | velocloud.sdwanpath.discovery | Metrics for SDWAN peers path. | DEPENDENT | no lifetime | 0 |
| SDWAN peers metrics discovery | velocloud.sdwanpeers.discovery | Metrics for SDWAN peers. | DEPENDENT | no lifetime | 0 |


<a name="discovery_edges_metrics_discovery" />

## Discovery Edges metrics discovery

### Items

| name | description | key | type |
| ------------- |------------- |------------- |------------- |
| Edge [{#NAME}]: Activation state | Edge activation state. | velocloud.edge.activation[{#ID}] | DEPENDENT |
| Edge [{#NAME}]: Description | Edge description. | velocloud.edge.description[{#ID}] | DEPENDENT |
| Edge [{#NAME}]: HA state | Edge high availability state. | velocloud.edge.ha_state[{#ID}] | DEPENDENT |
| Edge [{#NAME}]: Model number | Edge model number. | velocloud.edge.model[{#ID}] | DEPENDENT |
| Edge [{#NAME}]: Service uptime | Edge service uptime. | velocloud.edge.service_uptime[{#ID}] | DEPENDENT |
| Edge [{#NAME}]: Software version | Edge software version. | velocloud.edge.software_version[{#ID}] | DEPENDENT |
| Edge [{#NAME}]: State | Edge state. | velocloud.edge.state[{#ID}] | DEPENDENT |
| Edge [{#NAME}]: System uptime | Edge system uptime. | velocloud.edge.system_uptime[{#ID}] | DEPENDENT |
| Edge [{#NAME}]: Raw data | Raw data for velocloud edge. | velocloud.get.edge[{#ID}] | DEPENDENT |


### Triggers

| name | priority | description | expression | tags | url |
| ------------- |------------- |------------- |------------- |------------- |------------- |
| Edge [{#NAME}]: HA state is in "FAILED" state | WARNING | High availability state is "FAILED". | last(/VMWare SD-WAN VeloCloud by HTTP/velocloud.edge.ha_state[{#ID}])=3 | [{"tag": "scope", "value": "availability"}] | no url |
| Edge [{#NAME}]: Edge is in "OFFLINE" state | WARNING | Edge state is "OFFLINE". | last(/VMWare SD-WAN VeloCloud by HTTP/velocloud.edge.state[{#ID}])=0 | [{"tag": "scope", "value": "availability"}] | no url |
| Edge [{#NAME}]: Edge has been restarted | WARNING | Edge was restarted. | last(/VMWare SD-WAN VeloCloud by HTTP/velocloud.edge.system_uptime[{#ID}])>0 and last(/VMWare SD-WAN VeloCloud by HTTP/velocloud.edge.system_uptime[{#ID}])<600 | [{"tag": "scope", "value": "notice"}] | no url |


<a name="discovery_gateways_metrics_discovery" />

## Discovery Gateways metrics discovery

### Items

| name | description | key | type |
| ------------- |------------- |------------- |------------- |
| Gateway [{#NAME}]: Connected edges | Gateway connected edges. | velocloud.gateway.connected_edges[{#ID}] | DEPENDENT |
| Gateway [{#NAME}]: Description | Gateway description. | velocloud.gateway.description[{#ID}] | DEPENDENT |
| Gateway [{#NAME}]: IP address | Gateway ip address. | velocloud.gateway.ip_address[{#ID}] | DEPENDENT |
| Gateway [{#NAME}]: Service uptime | Gateway service uptime. | velocloud.gateway.service_uptime[{#ID}] | DEPENDENT |
| Gateway [{#NAME}]: State | Gateway state. | velocloud.gateway.state[{#ID}] | DEPENDENT |
| Gateway [{#NAME}]: System uptime | Gateway system uptime. | velocloud.gateway.system_uptime[{#ID}] | DEPENDENT |
| Gateway [{#NAME}]: Utilization CPU | Gateway CPU utilization. | velocloud.gateway.utilization.cpu[{#ID}] | DEPENDENT |
| Gateway [{#NAME}]: Utilization load | Gateway load. | velocloud.gateway.utilization.load[{#ID}] | DEPENDENT |
| Gateway [{#NAME}]: Utilization memory | Gateway memory utilization. | velocloud.gateway.utilization.memory[{#ID}] | DEPENDENT |
| Gateway [{#NAME}]: Utilization overall | Gateway overall utilization. | velocloud.gateway.utilization.overall[{#ID}] | DEPENDENT |
| Gateway [{#NAME}]: Raw data | Raw data for velocloud gateway. | velocloud.get.gateway[{#ID}] | DEPENDENT |


### Triggers

| name | priority | description | expression | tags | url |
| ------------- |------------- |------------- |------------- |------------- |------------- |
| Gateway [{#NAME}]: The number of connected edges is changed | WARNING | The number of connected edges is changed. | last(/VMWare SD-WAN VeloCloud by HTTP/velocloud.gateway.connected_edges[{#ID}],#1)<>last(/VMWare SD-WAN VeloCloud by HTTP/velocloud.gateway.connected_edges[{#ID}],#2) | [{"tag": "scope", "value": "notice"}] | no url |
| Gateway [{#NAME}]: Gateway has been restarted | WARNING | Gateway was restarted. | last(/VMWare SD-WAN VeloCloud by HTTP/velocloud.gateway.system_uptime[{#ID}])>0 and last(/VMWare SD-WAN VeloCloud by HTTP/velocloud.gateway.system_uptime[{#ID}])<600 | [{"tag": "scope", "value": "notice"}] | no url |


<a name="discovery_links_metrics_discovery" />

## Discovery Links metrics discovery

### Items

| name | description | key | type |
| ------------- |------------- |------------- |------------- |
| Link [{#NAME}]:[{#IP}]: Raw data | Raw data for velocloud link. | velocloud.get.link[{#ID}] | DEPENDENT |
| Link [{#NAME}]:[{#IP}]: Best loss rx, % | Link receive best loss. | velocloud.link.best_loss_rx.pct[{#ID}] | DEPENDENT |
| Link [{#NAME}]:[{#IP}]: Best loss tx, % | Link transmit best loss. | velocloud.link.best_loss_tx.pct[{#ID}] | DEPENDENT |
| Link [{#NAME}]:[{#IP}]: Bytes in | Link received bytes. | velocloud.link.bytes_rx[{#ID}] | DEPENDENT |
| Link [{#NAME}]:[{#IP}]: Bytes out | Link transmitted bytes. | velocloud.link.bytes_tx[{#ID}] | DEPENDENT |
| Link [{#NAME}]:[{#IP}]: Last active | Link last active in seconds ago. | velocloud.link.last_active[{#ID}] | DEPENDENT |
| Link [{#NAME}]:[{#IP}]: Packets in | Link received packets. | velocloud.link.packets_rx[{#ID}] | DEPENDENT |
| Link [{#NAME}]:[{#IP}]: Packets out | Link transmitted packets. | velocloud.link.packets_tx[{#ID}] | DEPENDENT |
| Link [{#NAME}]:[{#IP}]: State | Link state. | velocloud.link.state[{#ID}] | DEPENDENT |
| Link [{#NAME}]:[{#IP}]: Total bytes | Link Total bytes. | velocloud.link.total_bytes[{#ID}] | DEPENDENT |
| Link [{#NAME}]:[{#IP}]: Total packets | Link total packets. | velocloud.link.total_packets[{#ID}] | DEPENDENT |


### Triggers

| name | priority | description | expression | tags | url |
| ------------- |------------- |------------- |------------- |------------- |------------- |
| Link [{#NAME}]:[{#IP}]: Link state is not "STABLE" | WARNING | Link state is not "STABLE". | last(/VMWare SD-WAN VeloCloud by HTTP/velocloud.link.state[{#ID}])<>1 | [{"tag": "scope", "value": "availability"}] | no url |


<a name="discovery_sdwan_peers_path_metrics_discovery" />

## Discovery SDWAN peers path metrics discovery

### Items

| name | description | key | type |
| ------------- |------------- |------------- |------------- |
| Path [{#NAME}]:[{#SOURCE} => {#DESTINATION}]: Raw data | Raw data for velocloud sdwan peer path. | velocloud.get.sdwan_path[{{#NAME}/{#SOURCE}/{#DESTINATION}] | DEPENDENT |
| Path [{#NAME}]:[{#SOURCE} => {#DESTINATION}]: Bytes in | Bytes received of SDWAN peer path. | velocloud.sdwanpath.bytes_rx[{#NAME}/{#SOURCE}/{#DESTINATION}] | DEPENDENT |
| Path [{#NAME}]:[{#SOURCE} => {#DESTINATION}]: Bytes out | Bytes transmitted of SDWAN peer path. | velocloud.sdwanpath.bytes_tx[{#NAME}/{#SOURCE}/{#DESTINATION}] | DEPENDENT |
| Path [{#NAME}]:[{#SOURCE} => {#DESTINATION}]: Packets in | Packets received of SDWAN peer path. | velocloud.sdwanpath.packets_rx[{#NAME}/{#SOURCE}/{#DESTINATION}] | DEPENDENT |
| Path [{#NAME}]:[{#SOURCE} => {#DESTINATION}]: Packets out | Packets transmitted of SDWAN peer path. | velocloud.sdwanpath.packets_tx[{#NAME}/{#SOURCE}/{#DESTINATION}] | DEPENDENT |
| Path [{#NAME}]:[{#SOURCE} => {#DESTINATION}]: Packet Loss in | Received packet loss of SDWAN peer path. | velocloud.sdwanpath.packet_loss_rx[{#NAME}/{#SOURCE}/{#DESTINATION}] | DEPENDENT |
| Path [{#NAME}]:[{#SOURCE} => {#DESTINATION}]: Packet Loss out | Transmitted packet loss of SDWAN peer path. | velocloud.sdwanpath.packet_loss_tx[{#NAME}/{#SOURCE}/{#DESTINATION}] | DEPENDENT |
| Path [{#NAME}]:[{#SOURCE} => {#DESTINATION}]: Bytes total | Total bytes of SDWAN peer path. | velocloud.sdwanpath.total_bytes[{#NAME}/{#SOURCE}/{#DESTINATION}] | DEPENDENT |
| Path [{#NAME}]:[{#SOURCE} => {#DESTINATION}]: Total packets | Total packets of SDWAN peer path. | velocloud.sdwanpath.total_packets[{#NAME}/{#SOURCE}/{#DESTINATION}] | DEPENDENT |


<a name="discovery_sdwan_peers_metrics_discovery" />

## Discovery SDWAN peers metrics discovery

### Items

| name | description | key | type |
| ------------- |------------- |------------- |------------- |
| SDWAN Peer [{#NAME}]:[{#TYPE}]: Raw data | Raw data for velocloud sdwan peer. | velocloud.get.sdwan_peer[{#EDGE.ID}/{#ID}] | DEPENDENT |
| SDWAN Peer [{#NAME}]:[{#TYPE}]: Dead path | Count of dead path of SDWAN peer. | velocloud.sdwanpeer.dead_path[{#EDGE.ID}/{#ID}] | DEPENDENT |
| SDWAN Peer [{#NAME}]:[{#TYPE}]: Description | Description of SDWAN peer. | velocloud.sdwanpeer.description[{#EDGE.ID}/{#ID}] | DEPENDENT |
| SDWAN Peer [{#NAME}]:[{#TYPE}]: Stable path | Count of stable path of SDWAN peer. | velocloud.sdwanpeer.stable_path[{#EDGE.ID}/{#ID}] | DEPENDENT |
| SDWAN Peer [{#NAME}]:[{#TYPE}]: Standby path | Count of standby path of SDWAN peer. | velocloud.sdwanpeer.standby_path[{#EDGE.ID}/{#ID}] | DEPENDENT |
| SDWAN Peer [{#NAME}]:[{#TYPE}]: Total path | Count of total path of SDWAN peer. | velocloud.sdwanpeer.total_path[{#EDGE.ID}/{#ID}] | DEPENDENT |
| SDWAN Peer [{#NAME}]:[{#TYPE}]: Unknown path | Count of unknown path of SDWAN peer. | velocloud.sdwanpeer.unknown_path[{#EDGE.ID}/{#ID}] | DEPENDENT |
| SDWAN Peer [{#NAME}]:[{#TYPE}]: Unstable path | Count of unstable path of SDWAN peer. | velocloud.sdwanpeer.unstable_path[{#EDGE.ID}/{#ID}] | DEPENDENT |

