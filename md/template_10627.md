# Template: AWS ELB Network Load Balancer by HTTP

## Template ID
10627

## Description
The template is designed to monitor AWS ELB Network Load Balancer by HTTP via Zabbix, and it works without any external scripts.
Don't forget to read the README.md for the correct setup of the template.

You can discuss this template or leave feedback on our forum https://www.zabbix.com/forum/zabbix-suggestions-and-feedback

Generated by official Zabbix template tool "Templator"

## Linked Hosts
None

## Items

### Item: Active Flow Count
- **Description**: The total number of concurrent flows (or connections) from clients to targets.
This metric includes connections in the `SYN_SENT` and `ESTABLISHED` states.
TCP connections are not terminated at the load balancer, so a client opening a TCP connection to a target counts as a single flow.
- **Interval**: 0
- **Data Type**: 3

### Item: Active Flow Count TCP
- **Description**: The total number of concurrent TCP flows (or connections) from clients to targets.
This metric includes connections in the `SYN_SENT` and `ESTABLISHED` states.
TCP connections are not terminated at the load balancer, so a client opening a TCP connection to a target counts as a single flow.
- **Interval**: 0
- **Data Type**: 3

### Item: Active Flow Count TLS
- **Description**: The total number of concurrent TLS flows (or connections) from clients to targets.
This metric includes connections in the `SYN_SENT` and `ESTABLISHED` states.
- **Interval**: 0
- **Data Type**: 3

### Item: Active Flow Count UDP
- **Description**: The total number of concurrent UDP flows (or connections) from clients to targets.
- **Interval**: 0
- **Data Type**: 3

### Item: Get alarms check
- **Description**: Check that the alarm data has been received correctly.
- **Interval**: 0
- **Data Type**: 1

### Item: Consumed LCUs
- **Description**: The number of load balancer capacity units (LCU) used by your load balancer.
You pay for the number of LCUs that you use per hour.
More information on Elastic Load Balancing pricing here: https://aws.amazon.com/elasticloadbalancing/pricing/
- **Interval**: 0
- **Data Type**: 3

### Item: Consumed LCUs TCP
- **Description**: The number of load balancer capacity units (LCU) used by your load balancer for TCP.
You pay for the number of LCUs that you use per hour.
More information on Elastic Load Balancing pricing here: https://aws.amazon.com/elasticloadbalancing/pricing/
- **Interval**: 0
- **Data Type**: 3

### Item: Consumed LCUs TLS
- **Description**: The number of load balancer capacity units (LCU) used by your load balancer for TLS.
You pay for the number of LCUs that you use per hour.
More information on Elastic Load Balancing pricing here: https://aws.amazon.com/elasticloadbalancing/pricing/
- **Interval**: 0
- **Data Type**: 3

### Item: Consumed LCUs UDP
- **Description**: The number of load balancer capacity units (LCU) used by your load balancer for UDP.
You pay for the number of LCUs that you use per hour.
More information on Elastic Load Balancing pricing here: https://aws.amazon.com/elasticloadbalancing/pricing/
- **Interval**: 0
- **Data Type**: 3

### Item: Client TLS Negotiation Error Count
- **Description**: The total number of TLS handshakes that failed during negotiation between a client and a TLS listener.
- **Interval**: 0
- **Data Type**: 3

### Item: Get ELB NLB alarms data
- **Description**: `DescribeAlarms` API method: https://docs.aws.amazon.com/AmazonCloudWatch/latest/APIReference/API_DescribeAlarms.html
- **Interval**: 0s;m/1
- **Data Type**: 4

### Item: Get metrics data
- **Description**: Get ELB Network Load Balancer metrics.
Full metrics list related to Network Load Balancer: https://docs.aws.amazon.com/elasticloadbalancing/latest/network/load-balancer-cloudwatch-metrics.html
- **Interval**: 0s;m/1
- **Data Type**: 4

### Item: Get target groups
- **Description**: Get ELB target group.
`DescribeTargetGroups` API method: https://docs.aws.amazon.com/elasticloadbalancing/latest/APIReference/API_DescribeTargetGroups.html
- **Interval**: 0s;m/30
- **Data Type**: 4

### Item: Get metrics check
- **Description**: Check that the Network Load Balancer metrics data has been received correctly.
- **Interval**: 0
- **Data Type**: 1

### Item: New Flow Count
- **Description**: The total number of new flows (or connections) established from clients to targets in the specified time period.
- **Interval**: 0
- **Data Type**: 3

### Item: New Flow Count TCP
- **Description**: The total number of new TCP flows (or connections) established from clients to targets in the specified time period.
- **Interval**: 0
- **Data Type**: 3

### Item: New Flow Count TLS
- **Description**: The total number of new TLS flows (or connections) established from clients to targets in the specified time period.
- **Interval**: 0
- **Data Type**: 3

### Item: New Flow Count UDP
- **Description**: The total number of new UDP flows (or connections) established from clients to targets in the specified time period.
- **Interval**: 0
- **Data Type**: 3

### Item: Peak Packets per second
- **Description**: Highest average packet rate (packets processed per second), calculated every 10 seconds during the sampling window.
This metric includes health check traffic.
- **Interval**: 0
- **Data Type**: 3

### Item: Port Allocation Error Count
- **Description**: The total number of ephemeral port allocation errors during a client IP translation operation. A non-zero value indicates dropped client connections.
Note: Network Load Balancers support 55,000 simultaneous connections or about 55,000 connections per minute to each unique target (IP address and port) when performing client address translation.
To fix port allocation errors, add more targets to the target group.
- **Interval**: 0
- **Data Type**: 3

### Item: Processed Bytes
- **Description**: The total number of bytes processed by the load balancer, including TCP/IP headers. This count includes traffic to and from targets, minus health check traffic.
- **Interval**: 0
- **Data Type**: 3

### Item: Processed Bytes TCP
- **Description**: The total number of bytes processed by TCP listeners.
- **Interval**: 0
- **Data Type**: 3

### Item: Processed Bytes TLS
- **Description**: The total number of bytes processed by TLS listeners.
- **Interval**: 0
- **Data Type**: 3

### Item: Processed Bytes UDP
- **Description**: The total number of bytes processed by UDP listeners.
- **Interval**: 0
- **Data Type**: 3

### Item: Processed Packets
- **Description**: The total number of packets processed by the load balancer. This count includes traffic to and from targets, including health check traffic.
- **Interval**: 0
- **Data Type**: 3

### Item: Security Group Blocked Flow Count Inbound ICMP
- **Description**: The number of new ICMP messages rejected by the inbound rules of the load balancer security groups.
- **Interval**: 0
- **Data Type**: 3

### Item: Security Group Blocked Flow Count Inbound TCP
- **Description**: The number of new TCP flows rejected by the inbound rules of the load balancer security groups.
- **Interval**: 0
- **Data Type**: 3

### Item: Security Group Blocked Flow Count Inbound UDP
- **Description**: The number of new UDP flows rejected by the inbound rules of the load balancer security groups.
- **Interval**: 0
- **Data Type**: 3

### Item: Security Group Blocked Flow Count Outbound ICMP
- **Description**: The number of new ICMP messages rejected by the outbound rules of the load balancer security groups.
- **Interval**: 0
- **Data Type**: 3

### Item: Security Group Blocked Flow Count Outbound TCP
- **Description**: The number of new TCP flows rejected by the outbound rules of the load balancer security groups.
- **Interval**: 0
- **Data Type**: 3

### Item: Security Group Blocked Flow Count Outbound UDP
- **Description**: The number of new UDP flows rejected by the outbound rules of the load balancer security groups.
- **Interval**: 0
- **Data Type**: 3

### Item: Target TLS Negotiation Error Count
- **Description**: The total number of TLS handshakes that failed during negotiation between a TLS listener and a target.
- **Interval**: 0
- **Data Type**: 3

### Item: TCP Client Reset Count
- **Description**: The total number of reset (RST) packets sent from a client to a target.
These resets are generated by the client and forwarded by the load balancer.
- **Interval**: 0
- **Data Type**: 3

### Item: TCP ELB Reset Count
- **Description**: The total number of reset (RST) packets generated by the load balancer.
For more information, see: https://docs.aws.amazon.com/elasticloadbalancing/latest/network/load-balancer-troubleshooting.html#elb-reset-count-metric
- **Interval**: 0
- **Data Type**: 3

### Item: TCP Target Reset Count
- **Description**: The total number of reset (RST) packets sent from a target to a client.
These resets are generated by the target and forwarded by the load balancer.
- **Interval**: 0
- **Data Type**: 3

### Item: Unhealthy Routing Flow Count
- **Description**: The number of flows (or connections) that are routed using the routing failover action (fail open).
- **Interval**: 0
- **Data Type**: 3

