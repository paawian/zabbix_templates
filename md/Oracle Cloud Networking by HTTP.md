# Oracle Cloud Networking by HTTP template description

This template monitors Oracle Cloud Infrastructure (OCI) single virtual network card availability and discovers
attached subnets and monitors their availability.

This template is not meant to be used independently, but together with Oracle Cloud by HTTP as a template for 
LLD host prototypes.

Read the template documentation prior to using this template.

You can discuss this template or leave feedback on our forum https://www.zabbix.com/forum/zabbix-suggestions-and-feedback

Generated by official Zabbix template tool "Templator"

## Summary
* [items](#items)
* [macros](#macros)
* [triggers](#triggers)
* [discoveries](#discoveries)
  * [Discovery Subnet discovery ](#discovery_subnet_discovery)

<a name="items" />

## Items
| name | description | key | type | delay |
| ------------- |------------- |------------- |------------- |------------- |
| Get VCN state | State of the virtual cloud network. | oci.vcn.state.get | SCRIPT | 5m |
| Get subnets | Get data about subnets linked to the particular VCN. | oci.vcn.subnets.get | SCRIPT | 5m |


<a name="macros" />

## Macros
| macro | value |
| ------------- |------------- |
| {$OCI.HTTP.PROXY} | no value |
| {$OCI.HTTP.RETURN.CODE.OK} | 200 |
| {$OCI.VCN.SUBNET.DISCOVERY.NAME.MATCHES} | .* |
| {$OCI.VCN.SUBNET.DISCOVERY.NAME.NOT_MATCHES} | CHANGE_IF_NEEDED |
| {$OCI.VCN.SUBNET.DISCOVERY.STATE.MATCHES} | .* |
| {$OCI.VCN.SUBNET.DISCOVERY.STATE.NOT_MATCHES} | CHANGE_IF_NEEDED |


<a name="triggers" />

## Triggers
| name | priority | description | expression | tags | url |
| ------------- |------------- |------------- |------------- |------------- |------------- |
| VCN state terminated | HIGH | Virtual cloud network state is "terminated" or "terminating". | min(/Oracle Cloud Networking by HTTP/oci.vcn.state.get,5m) = 3 or min(/Oracle Cloud Networking by HTTP/oci.vcn.state.get,5m) = 4 | [{"tag": "scope", "value": "availability"}] | no url |
| VCN state unknown | WARNING | Virtual cloud network state is unknown. | min(/Oracle Cloud Networking by HTTP/oci.vcn.state.get,5m) = 0 | [{"tag": "scope", "value": "availability"}] | no url |


<a name="discoveries" />

## Discoveries
| name | key | description | type | lifetime | delay |
| ------------- |------------- |------------- |------------- |------------- |------------- |
| Subnet discovery | oci.vcn.subnet.discovery | Discover subnets linked to the particular VCN. | DEPENDENT | no lifetime | 0 |


<a name="discovery_subnet_discovery" />

## Discovery Subnet discovery

### Items

| name | description | key | type |
| ------------- |------------- |------------- |------------- |
| Subnet [{#NAME}]: Get subnet state | Current state of subnet. | oci.vcn.subnet.state[{#ID}] | DEPENDENT |


### Triggers

| name | priority | description | expression | tags | url |
| ------------- |------------- |------------- |------------- |------------- |------------- |
| Subnet [{#NAME}]: Subnet state terminated | HIGH | Virtual cloud network subnet state is "terminated" or "terminating". | min(/Oracle Cloud Networking by HTTP/oci.vcn.subnet.state[{#ID}],5m) = 3 or min(/Oracle Cloud Networking by HTTP/oci.vcn.subnet.state[{#ID}],5m) = 4 | [{"tag": "scope", "value": "availability"}] | no url |
| Subnet [{#NAME}]: Subnet state unknown | WARNING | Virtual cloud network subnet state is unknown. | min(/Oracle Cloud Networking by HTTP/oci.vcn.subnet.state[{#ID}],5m) = 0 | [{"tag": "scope", "value": "availability"}] | no url |

