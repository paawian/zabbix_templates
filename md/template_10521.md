# Template: HashiCorp Consul Node by HTTP

## Template ID
10521

## Description
Get HashiCorp Consul Node metrics by HTTP agent from metrics endpoint.

Don't forget to change macros {$CONSUL.NODE.API.URL}, {$CONSUL.TOKEN}.
Some metrics may not be collected depending on your HashiCorp Consul instance version and configuration.
More information about metrics you can find in official documentation: https://www.consul.io/docs/agent/telemetry

You can discuss this template or leave feedback on our forum https://www.zabbix.com/forum/zabbix-suggestions-and-feedback

Generated by official Zabbix template tool "Templator"

## Linked Hosts
None

## Items

### Item: ACL: resolves, rate
- **Description**: The number of ACL resolves per second.
- **Interval**: 0
- **Data Type**: 0

### Item: Catalog: deregister, rate
- **Description**: The number of catalog deregister operation per second.
- **Interval**: 0
- **Data Type**: 0

### Item: Catalog: register, rate
- **Description**: The number of catalog register operation per second.
- **Interval**: 0
- **Data Type**: 0

### Item: Number of check monitors
- **Description**: Number of check monitors on current node.
- **Interval**: 0
- **Data Type**: 3

### Item: Number of checks
- **Description**: Number of checks on current node.
- **Interval**: 0
- **Data Type**: 3

### Item: Client RPC, per second
- **Description**: Number of times per second whenever a Consul agent in client mode makes an RPC request to a Consul server.
This gives a measure of how much a given agent is loading the Consul servers.
This is only generated by agents in client mode, not Consul servers.
- **Interval**: 0
- **Data Type**: 0

### Item: Client RPC failed ,per second
- **Description**: Number of times per second whenever a Consul agent in client mode makes an RPC request to a Consul server and fails.
- **Interval**: 0
- **Data Type**: 0

### Item: Process CPU seconds, total
- **Description**: Total user and system CPU time spent in seconds.
- **Interval**: 0
- **Data Type**: 0

### Item: GC pause, p50
- **Description**: The 50 percentile (median) for the number of nanoseconds consumed by stop-the-world garbage collection (GC) pauses since Consul started, in milliseconds.
- **Interval**: 0
- **Data Type**: 0

### Item: GC pause, p90
- **Description**: The 90 percentile for the number of nanoseconds consumed by stop-the-world garbage collection (GC) pauses since Consul started, in milliseconds.
- **Interval**: 0
- **Data Type**: 0

### Item: Get local services
- **Description**: Get all the services that are registered with the local agent and their status.
- **Interval**: 1m
- **Data Type**: 4

### Item: Get local services check
- **Description**: Data collection check.
- **Interval**: 0
- **Data Type**: 1

### Item: Get instance metrics
- **Description**: Get raw metrics from Consul instance /metrics endpoint.
- **Interval**: 1m
- **Data Type**: 4

### Item: Get node info
- **Description**: Get configuration and member information of the local agent.
- **Interval**: 1m
- **Data Type**: 4

### Item: Goroutine count
- **Description**: The number of Goroutines on Consul instance.
- **Interval**: 0
- **Data Type**: 3

### Item: KV store: apply, p50
- **Description**: The 50 percentile (median) for the time it takes to complete an update to the KV store.
- **Interval**: 0
- **Data Type**: 0

### Item: KV store: apply, p90
- **Description**: The 90 percentile for the time it takes to complete an update to the KV store.
- **Interval**: 0
- **Data Type**: 0

### Item: KV store: apply, rate
- **Description**: The number of updates to the KV store per second.
- **Interval**: 0
- **Data Type**: 0

### Item: Memberlist: degraded
- **Description**: This metric counts the number of times the Consul agent has performed failure detection on another agent at a slower probe rate.
The agent uses its own health metric as an indicator to perform this action.
If its health score is low, it means that the node is healthy, and vice versa.
- **Interval**: 0
- **Data Type**: 3

### Item: Memberlist: gossip, p90
- **Description**: The 90 percentile for the number of gossips (messages) broadcasted to a set of randomly selected nodes.
- **Interval**: 0
- **Data Type**: 0

### Item: Memberlist: gossip, p50
- **Description**: The 50 for the number of gossips (messages) broadcasted to a set of randomly selected nodes.
- **Interval**: 0
- **Data Type**: 0

### Item: Memberlist: health score
- **Description**: This metric describes a node's perception of its own health based on how well it is meeting the soft real-time requirements of the protocol.
This metric ranges from 0 to 8, where 0 indicates "totally healthy".
- **Interval**: 0
- **Data Type**: 3

### Item: Memberlist: msg alive
- **Description**: This metric counts the number of alive Consul agents, that the agent has mapped out so far, based on the message information given by the network layer.
- **Interval**: 0
- **Data Type**: 3

### Item: Memberlist: msg dead
- **Description**: This metric counts the number of times a Consul agent has marked another agent to be a dead node.
- **Interval**: 0
- **Data Type**: 3

### Item: Memberlist: msg suspect
- **Description**: The number of times a Consul agent suspects another as failed while probing during gossip protocol.
- **Interval**: 0
- **Data Type**: 3

### Item: Memberlist: probe node, p50
- **Description**: The 50 percentile (median) for the time taken to perform a single round of failure detection on a select Consul agent.
- **Interval**: 0
- **Data Type**: 0

### Item: Memberlist: probe node, p90
- **Description**: The 90 percentile for the time taken to perform a single round of failure detection on a select Consul agent.
- **Interval**: 0
- **Data Type**: 0

### Item: Memberlist: push pull node, p50
- **Description**: The 50 percentile (median) for the number of Consul agents that have exchanged state with this agent.
- **Interval**: 0
- **Data Type**: 0

### Item: Memberlist: push pull node, p90
- **Description**: The 90 percentile for the number of Consul agents that have exchanged state with this agent.
- **Interval**: 0
- **Data Type**: 0

### Item: TCP connections, accepted per second
- **Description**: This metric counts the number of times a Consul agent has accepted an incoming TCP stream connection per second.
- **Interval**: 0
- **Data Type**: 0

### Item: TCP connections, per second
- **Description**: This metric counts the number of times a Consul agent has initiated a push/pull sync with an other agent per second.
- **Interval**: 0
- **Data Type**: 0

### Item: TCP send bytes, per second
- **Description**: This metric measures the total number of bytes sent by a Consul agent through the TCP protocol per second.
- **Interval**: 0
- **Data Type**: 0

### Item: UDP received bytes, per second
- **Description**: This metric measures the total number of bytes received by a Consul agent through the UDP protocol per second.
- **Interval**: 0
- **Data Type**: 0

### Item: UDP sent bytes, per second
- **Description**: This metric measures the total number of bytes sent by a Consul agent through the UDP protocol per second.
- **Interval**: 0
- **Data Type**: 0

### Item: Open file descriptors, max
- **Description**: Maximum number of open file descriptors.
- **Interval**: 0
- **Data Type**: 0

### Item: Open file descriptors
- **Description**: Number of open file descriptors.
- **Interval**: 0
- **Data Type**: 0

### Item: RSS memory usage
- **Description**: Resident memory size in bytes.
- **Interval**: 0
- **Data Type**: 0

### Item: Role
- **Description**: Role of current Consul agent.
- **Interval**: 0
- **Data Type**: 3

### Item: Serf member: failed, rate
- **Description**: Increments when an agent is marked dead.
This can be an indicator of overloaded agents, network problems, or configuration errors where agents cannot connect to each other on the required ports.
Shown as events per second.
- **Interval**: 0
- **Data Type**: 0

### Item: Serf member: flap, rate
- **Description**: Increments when an agent is marked dead and then recovers within a short time period.
This can be an indicator of overloaded agents, network problems, or configuration errors where agents cannot connect to each other on the required ports.
Shown as events per second.
- **Interval**: 0
- **Data Type**: 0

### Item: Serf member: join, rate
- **Description**: Increments when an agent joins the cluster. If an agent flapped or failed this counter also increments when it re-joins.
Shown as events per second.
- **Interval**: 0
- **Data Type**: 0

### Item: Serf member: left, rate
- **Description**: Increments when an agent leaves the cluster. Shown as events per second.
- **Interval**: 0
- **Data Type**: 0

### Item: Serf member: update, rate
- **Description**: Increments when a Consul agent updates. Shown as events per second.
- **Interval**: 0
- **Data Type**: 0

### Item: Number of services
- **Description**: Number of services on current node.
- **Interval**: 0
- **Data Type**: 3

### Item: Snapshot: append line, p50
- **Description**: The 50 percentile (median) for the time taken by the Consul agent to append an entry into the existing log.
- **Interval**: 0
- **Data Type**: 0

### Item: Snapshot: append line, p90
- **Description**: The 90 percentile for the time taken by the Consul agent to append an entry into the existing log.
- **Interval**: 0
- **Data Type**: 0

### Item: Snapshot: append line, rate
- **Description**: The number of snapshot appendLine operations per second.
- **Interval**: 0
- **Data Type**: 0

### Item: Snapshot: compact, p50
- **Description**: The 50 percentile (median) for the time taken by the Consul agent to compact a log.
This operation occurs only when the snapshot becomes large enough to justify the compaction.
- **Interval**: 0
- **Data Type**: 0

### Item: Snapshot: compact, p90
- **Description**: The 90 percentile for the time taken by the Consul agent to compact a log.
This operation occurs only when the snapshot becomes large enough to justify the compaction.
- **Interval**: 0
- **Data Type**: 0

### Item: Snapshot: compact, rate
- **Description**: The number of snapshot compact operations per second.
- **Interval**: 0
- **Data Type**: 0

### Item: Version
- **Description**: Version of Consul agent.
- **Interval**: 0
- **Data Type**: 1

### Item: Virtual memory size
- **Description**: Virtual memory size in bytes.
- **Interval**: 0
- **Data Type**: 0

